{
  try {
    SSLEngine engine=createSSLEngine(channel);
    SslConnection connection=newSslConnection(endpoint,engine);
    AsyncConnection delegate=newPlainConnection(channel,connection.getAppEndPoint());
    connection.getAppEndPoint().setConnection(delegate);
    connection.setAllowRenegotiate(_sslContextFactory.isAllowRenegotiate());
    return connection;
  }
 catch (  IOException e) {
    throw new RuntimeIOException(e);
  }
}
