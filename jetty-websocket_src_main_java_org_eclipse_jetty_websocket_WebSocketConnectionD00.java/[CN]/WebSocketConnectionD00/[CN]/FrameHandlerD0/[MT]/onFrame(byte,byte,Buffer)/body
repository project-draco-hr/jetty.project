{
  try {
    byte[] array=buffer.array();
    if (opcode == 0) {
      if (_websocket instanceof WebSocket.OnTextMessage)       ((WebSocket.OnTextMessage)_websocket).onMessage(buffer.toString(StringUtil.__UTF8));
    }
 else {
      if (_websocket instanceof WebSocket.OnBinaryMessage)       ((WebSocket.OnBinaryMessage)_websocket).onMessage(array,buffer.getIndex(),buffer.length());
    }
  }
 catch (  ThreadDeath th) {
    throw th;
  }
catch (  Throwable th) {
    Log.warn(th);
  }
}
