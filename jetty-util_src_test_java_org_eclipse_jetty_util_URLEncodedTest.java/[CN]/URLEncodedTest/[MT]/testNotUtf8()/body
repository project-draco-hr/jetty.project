{
  String query="name=X%c0%afZ";
  MultiMap<String> map=new MultiMap<String>();
  UrlEncoded.LOG.info("EXPECT 4 Not Valid UTF8 warnings...");
  UrlEncoded.decodeUtf8To(query.getBytes(StringUtil.__ISO_8859_1),0,query.length(),map);
  assertEquals("X" + Utf8Appendable.REPLACEMENT + Utf8Appendable.REPLACEMENT+ "Z",map.getValue("name",0));
  map.clear();
  UrlEncoded.decodeUtf8To(new ByteArrayInputStream(query.getBytes(StringUtil.__ISO_8859_1)),map,100,2);
  assertEquals("X" + Utf8Appendable.REPLACEMENT + Utf8Appendable.REPLACEMENT+ "Z",map.getValue("name",0));
}
