{
  MetaData metaData=(MetaData)context.getAttribute(MetaData.METADATA);
  if (metaData == null)   throw new IllegalStateException("No metadata");
  String defaultsDescriptor=context.getDefaultsDescriptor();
  if (defaultsDescriptor != null && defaultsDescriptor.length() > 0) {
    Resource dftResource=Resource.newSystemResource(defaultsDescriptor);
    if (dftResource == null)     dftResource=context.newResource(defaultsDescriptor);
    metaData.setDefaults(dftResource);
  }
  Resource webxml=findWebXml(context);
  if (webxml != null) {
    metaData.setWebXml(webxml);
  }
  String overrideDescriptor=context.getOverrideDescriptor();
  if (overrideDescriptor != null && overrideDescriptor.length() > 0) {
    Resource orideResource=Resource.newSystemResource(overrideDescriptor);
    if (orideResource == null)     orideResource=context.newResource(overrideDescriptor);
    metaData.setOverride(orideResource);
  }
}
