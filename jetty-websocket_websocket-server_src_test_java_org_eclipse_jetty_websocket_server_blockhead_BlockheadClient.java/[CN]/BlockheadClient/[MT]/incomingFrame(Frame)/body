{
  LOG.debug("incoming({})",frame);
  int count=parseCount.incrementAndGet();
  if ((count % 10) == 0) {
    LOG.info("Client parsed {} frames",count);
  }
  if (frame.getType() == Frame.Type.CLOSE) {
    CloseInfo close=new CloseInfo(frame);
    if (ioState.onCloseHandshake(true)) {
      this.disconnect();
    }
 else {
      close(close.getStatusCode(),close.getReason());
    }
  }
  WebSocketFrame copy=new WebSocketFrame(frame);
  incomingFrames.incomingFrame(copy);
}
