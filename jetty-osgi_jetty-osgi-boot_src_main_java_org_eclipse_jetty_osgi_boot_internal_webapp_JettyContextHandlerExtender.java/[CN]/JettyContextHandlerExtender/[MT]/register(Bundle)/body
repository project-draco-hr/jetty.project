{
  Dictionary<?,?> dic=bundle.getHeaders();
  String warFolderRelativePath=(String)dic.get(OSGiWebappConstants.JETTY_WAR_FOLDER_PATH);
  if (warFolderRelativePath != null) {
    String contextPath=(String)dic.get(OSGiWebappConstants.RFC66_WEB_CONTEXTPATH);
    if (contextPath == null || !contextPath.startsWith("/")) {
      throw new IllegalArgumentException();
    }
    try {
      JettyBootstrapActivator.registerWebapplication(bundle,warFolderRelativePath,contextPath);
    }
 catch (    Throwable e) {
      e.printStackTrace();
    }
  }
 else   if (dic.get(OSGiWebappConstants.JETTY_CONTEXT_FILE_PATH) != null) {
    String contextFileRelativePath=(String)dic.get(OSGiWebappConstants.JETTY_CONTEXT_FILE_PATH);
    if (contextFileRelativePath == null) {
      return;
    }
    String[] pathes=contextFileRelativePath.split(",;");
    for (    String path : pathes) {
      try {
        JettyBootstrapActivator.registerContext(bundle,path.trim());
      }
 catch (      Throwable e) {
        e.printStackTrace();
      }
    }
  }
 else {
    URL rfc66Webxml=bundle.getEntry("/WEB-INF/web.xml");
    if (rfc66Webxml == null) {
      return;
    }
    String rfc66ContextPath=getWebContextPath(bundle,dic);
    try {
      JettyBootstrapActivator.registerWebapplication(bundle,".",rfc66ContextPath);
    }
 catch (    Throwable e) {
      e.printStackTrace();
    }
  }
}
