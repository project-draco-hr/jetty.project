{
  if (_gzStream == null) {
    if (getResponse().isCommitted() || _noGzip) {
      setContentLength(_contentLength);
      return getResponse().getOutputStream();
    }
    _gzStream=newGzipStream(_request,(HttpServletResponse)getResponse(),_contentLength,_bufferSize,_minGzipSize);
  }
 else   if (_writer != null)   throw new IllegalStateException("getWriter() called");
  return _gzStream;
}
