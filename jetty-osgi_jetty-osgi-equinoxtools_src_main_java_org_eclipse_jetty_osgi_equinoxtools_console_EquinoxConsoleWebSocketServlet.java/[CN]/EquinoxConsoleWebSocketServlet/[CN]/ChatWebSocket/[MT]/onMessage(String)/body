{
  LOG.info("onMessage: {}",data);
  if (data.indexOf("disconnect") >= 0)   _connection.disconnect();
 else {
    if (!data.endsWith(":has joined!")) {
      if (_username != null) {
        if (data.startsWith(_username + ":")) {
          data=data.substring(_username.length() + 1);
        }
 else {
        }
      }
      _consoleSession.processCommand(data,false);
    }
 else {
      _username=data.substring(0,data.length() - ":has joined!".length());
    }
    onFlush();
  }
}
