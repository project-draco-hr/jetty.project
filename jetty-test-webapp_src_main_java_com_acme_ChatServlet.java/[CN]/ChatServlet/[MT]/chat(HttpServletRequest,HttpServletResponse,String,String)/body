{
  Map<String,Member> room=_rooms.get(request.getPathInfo());
  for (  Member m : room.values()) {
    m._queue.add(username);
    m._queue.add(message);
    if (m._asyncContext != null) {
      m._asyncContext.dispatch();
      m._asyncContext=null;
    }
  }
  response.setContentType("text/json;charset=utf-8");
  PrintWriter out=response.getWriter();
  out.print("{action:\"chat\"}");
}
