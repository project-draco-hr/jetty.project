{
  HTTP2Client client=(HTTP2Client)context.get(CLIENT_CONTEXT_KEY);
  ByteBufferPool byteBufferPool=(ByteBufferPool)context.get(BYTE_BUFFER_POOL_CONTEXT_KEY);
  Executor executor=(Executor)context.get(EXECUTOR_CONTEXT_KEY);
  Scheduler scheduler=(Scheduler)context.get(SCHEDULER_CONTEXT_KEY);
  Session.Listener listener=(Session.Listener)context.get(SESSION_LISTENER_CONTEXT_KEY);
  @SuppressWarnings("unchecked") Promise<Session> promise=(Promise<Session>)context.get(SESSION_PROMISE_CONTEXT_KEY);
  Generator generator=new Generator(byteBufferPool,4096);
  HTTP2ClientSession session=new HTTP2ClientSession(scheduler,endPoint,generator,listener,new HTTP2FlowControl(FlowControl.DEFAULT_WINDOW_SIZE));
  Parser parser=new Parser(byteBufferPool,session,4096,8192);
  return new HTTP2ClientConnection(client,byteBufferPool,executor,endPoint,parser,session,8192,false,promise,listener);
}
