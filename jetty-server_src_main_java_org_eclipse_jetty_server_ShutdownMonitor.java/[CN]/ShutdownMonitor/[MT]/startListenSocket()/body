{
  if (this.port < 0) {
    if (DEBUG)     System.err.println("ShutdownMonitor not in use (port < 0): " + port);
    return;
  }
  try {
    setDaemon(true);
    setName("ShutdownMonitor");
    this.serverSocket=new ServerSocket(this.port,1,InetAddress.getByName("127.0.0.1"));
    if (this.port == 0) {
      this.port=serverSocket.getLocalPort();
      System.out.printf("STOP.PORT=%d%n",this.port);
    }
    if (this.key == null) {
      this.key=Long.toString((long)(Long.MAX_VALUE * Math.random() + this.hashCode() + System.currentTimeMillis()),36);
      System.out.printf("STOP.KEY=%s%n",this.key);
    }
  }
 catch (  Exception e) {
    debug(e);
    System.err.println("Error binding monitor port " + this.port + ": "+ e.toString());
  }
 finally {
    debug("STOP.PORT=%d",this.port);
    debug("STOP.KEY=%s",this.key);
    debug("%s",serverSocket);
  }
}
