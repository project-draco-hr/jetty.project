{
  if (logfile != null) {
    File logDir=logfile.getParentFile();
    if (!logDir.exists() || !logDir.canWrite()) {
      String err=String.format("Cannot write %s to directory %s [directory doesn't exist or is read-only]",logfile.getName(),logDir.getAbsolutePath());
      throw new UsageException(UsageException.ERR_LOGGING,new IOException(err));
    }
    File startLog=logfile;
    if (!startLog.exists() && !startLog.createNewFile()) {
      throw new UsageException(UsageException.ERR_LOGGING,new IOException("Unable to create: " + startLog.getAbsolutePath()));
    }
    if (!startLog.canWrite()) {
      throw new UsageException(UsageException.ERR_LOGGING,new IOException("Unable to write to: " + startLog.getAbsolutePath()));
    }
    PrintStream logger=new PrintStream(new FileOutputStream(startLog,false));
    System.setOut(logger);
    System.setErr(logger);
    System.out.println("Establishing " + logfile + " on "+ new Date());
  }
}
