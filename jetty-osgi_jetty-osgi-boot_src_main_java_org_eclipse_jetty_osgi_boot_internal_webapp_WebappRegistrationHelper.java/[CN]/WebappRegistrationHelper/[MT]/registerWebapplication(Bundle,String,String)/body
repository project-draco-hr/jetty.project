{
  File bundleInstall=BUNDLE_FILE_LOCATOR_HELPER.getBundleInstallLocation(bundle);
  File webapp=webappFolderPath != null && webappFolderPath.length() != 0 && !webappFolderPath.equals(".") ? new File(bundleInstall,webappFolderPath) : bundleInstall;
  if (!webapp.exists()) {
    throw new IllegalArgumentException("Unable to locate " + webappFolderPath + " inside "+ (bundleInstall != null ? bundleInstall.getAbsolutePath() : "unlocated bundle '" + bundle.getSymbolicName() + "'"));
  }
  return registerWebapplication(bundle,webapp,contextPath);
}
