{
  boolean was_open=isOpen();
  super.close();
  if (was_open) {
    connectionClosed(getConnection());
    getConnection().onClose();
    onClose();
  }
}
