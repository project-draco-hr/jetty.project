{
  String scheme=request.scheme().toLowerCase();
  if (!Arrays.asList("http","https").contains(scheme))   throw new IllegalArgumentException("Invalid protocol " + scheme);
  int port=request.port();
  if (port < 0)   port="https".equals(scheme) ? 443 : 80;
  if (timeout > 0) {
    scheduler.schedule(new Runnable(){
      @Override public void run(){
        request.abort("Total timeout elapsed");
      }
    }
,timeout,unit);
  }
  HttpDestination destination=provideDestination(scheme,request.host(),port);
  destination.send(request,listener);
}
