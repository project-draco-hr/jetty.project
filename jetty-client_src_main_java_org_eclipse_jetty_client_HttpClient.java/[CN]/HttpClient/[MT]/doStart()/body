{
  setBufferTypes();
  _timeoutQ.setDuration(_timeout);
  _timeoutQ.setNow();
  _idleTimeoutQ.setDuration(_idleTimeout);
  _idleTimeoutQ.setNow();
  if (_threadPool == null)   getThreadPool();
  _connector=(_connectorType == CONNECTOR_SELECT_CHANNEL) ? new SelectConnector(this) : new SocketConnector(this);
  addBean(_connector,true);
  super.doStart();
  _threadPool.dispatch(new Runnable(){
    public void run(){
      while (isRunning()) {
        _timeoutQ.tick(System.currentTimeMillis());
        _idleTimeoutQ.tick(_timeoutQ.getNow());
        try {
          Thread.sleep(200);
        }
 catch (        InterruptedException e) {
        }
      }
    }
  }
);
}
