{
  setBufferTypes();
  super.doStart();
  _timeoutQ.setDuration(_timeout);
  _timeoutQ.setNow();
  _idleTimeoutQ.setDuration(_idleTimeout);
  _idleTimeoutQ.setNow();
  if (_threadPool == null)   getThreadPool();
  if (_threadPool instanceof LifeCycle) {
    ((LifeCycle)_threadPool).start();
  }
  _sslContextFactory.start();
  if (_connectorType == CONNECTOR_SELECT_CHANNEL) {
    _connector=new SelectConnector(this);
  }
 else {
    _connector=new SocketConnector(this);
  }
  _connector.start();
  _threadPool.dispatch(new Runnable(){
    public void run(){
      while (isRunning()) {
        _timeoutQ.tick(System.currentTimeMillis());
        _idleTimeoutQ.tick(_timeoutQ.getNow());
        try {
          Thread.sleep(200);
        }
 catch (        InterruptedException e) {
        }
      }
    }
  }
);
}
