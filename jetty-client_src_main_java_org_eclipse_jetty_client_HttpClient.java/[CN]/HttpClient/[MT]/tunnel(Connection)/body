{
  HttpConnection httpConnection=(HttpConnection)connection;
  HttpDestination destination=httpConnection.getDestination();
  SslConnection sslConnection=createSslConnection(destination,httpConnection.getEndPoint());
  Connection result=(Connection)sslConnection.getDecryptedEndPoint().getConnection();
  selectorManager.connectionClosed(httpConnection);
  selectorManager.connectionOpened(sslConnection);
  LOG.debug("Tunnelled {} over {}",connection,result);
  return result;
}
