{
  try {
    if (_trustStoreLocation == null) {
      _trustStoreLocation=_keyStoreLocation;
      _trustStoreType=_keyStoreType;
    }
    InputStream keyStoreInputStream=Resource.newResource(_keyStoreLocation).getInputStream();
    KeyStore keyStore=KeyStore.getInstance(_keyStoreType);
    keyStore.load(keyStoreInputStream,_keyStorePassword == null ? null : _keyStorePassword.toCharArray());
    KeyManagerFactory keyManagerFactory=KeyManagerFactory.getInstance(_keyManagerAlgorithm);
    keyManagerFactory.init(keyStore,_keyManagerPassword == null ? null : _keyManagerPassword.toCharArray());
    KeyManager[] keyManagers=keyManagerFactory.getKeyManagers();
    InputStream trustStoreInputStream=Resource.newResource(_trustStoreLocation).getInputStream();
    KeyStore trustStore=KeyStore.getInstance(_trustStoreType);
    trustStore.load(trustStoreInputStream,_trustStorePassword == null ? null : _trustStorePassword.toCharArray());
    TrustManagerFactory trustManagerFactory=TrustManagerFactory.getInstance(_trustManagerAlgorithm);
    trustManagerFactory.init(trustStore);
    TrustManager[] trustManagers=trustManagerFactory.getTrustManagers();
    SecureRandom secureRandom=_secureRandomAlgorithm == null ? null : SecureRandom.getInstance(_secureRandomAlgorithm);
    SSLContext context=_provider == null ? SSLContext.getInstance(_protocol) : SSLContext.getInstance(_protocol,_provider);
    context.init(keyManagers,trustManagers,secureRandom);
    return context;
  }
 catch (  Exception x) {
    throw (IOException)new IOException("Error generating SSLContext for keystore " + _keyStoreLocation).initCause(x);
  }
}
