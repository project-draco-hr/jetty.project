{
  int p=buf.position() - 1;
  int nbits=0xFF >>> (8 - 5);
  if (i < nbits) {
    buf.put(p,(byte)((buf.get(p) & ~nbits) | i));
  }
 else {
    buf.put(p,(byte)(buf.get(p) | nbits));
    int length=i - nbits;
    while (true) {
      if ((length & ~0x7F) == 0) {
        buf.put((byte)length);
        return;
      }
 else {
        buf.put((byte)((length & 0x7F) | 0x80));
        length>>>=7;
      }
    }
  }
}
