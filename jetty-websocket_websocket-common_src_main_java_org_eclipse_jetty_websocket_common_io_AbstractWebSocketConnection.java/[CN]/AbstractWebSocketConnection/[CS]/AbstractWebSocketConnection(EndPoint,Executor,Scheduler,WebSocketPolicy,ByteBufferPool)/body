{
  super(endp,executor);
  this.policy=policy;
  this.bufferPool=bufferPool;
  this.generator=new Generator(policy,bufferPool);
  this.parser=new Parser(policy);
  this.scheduler=scheduler;
  this.extensions=new ArrayList<>();
  this.queue=new FrameQueue();
  this.suspendToken=new AtomicBoolean(false);
  this.connectionState=ConnectionState.CONNECTING;
  this.inputClosed=new AtomicBoolean(false);
  this.outputClosed=new AtomicBoolean(false);
}
