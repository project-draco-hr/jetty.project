{
  if (LOG.isDebugEnabled()) {
    LOG.debug("completeWrite() - frame.remaining() = {}",frame.remaining());
  }
  if (buffer != null) {
    if (LOG.isDebugEnabled()) {
      LOG.debug("Releasing Buffer: {}",BufferUtil.toDetailString(buffer));
    }
    getBufferPool().release(buffer);
    buffer=null;
  }
  if (frame.remaining() > 0) {
    LOG.debug("More to send");
    super.completeWrite();
  }
 else {
    LOG.debug("Send complete");
synchronized (queue) {
      queue.remove(this);
    }
    completeFrame();
  }
}
