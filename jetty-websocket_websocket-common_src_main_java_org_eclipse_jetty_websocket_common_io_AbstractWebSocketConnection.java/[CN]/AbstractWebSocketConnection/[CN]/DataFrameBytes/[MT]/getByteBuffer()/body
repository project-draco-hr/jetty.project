{
  try {
synchronized (queue) {
      state.set(STARTED);
      int windowSize=getInputBufferSize();
      buffer=getGenerator().generate(windowSize,frame);
      if (LOG.isDebugEnabled()) {
        LOG.debug("getByteBuffer() - {}",BufferUtil.toDetailString(buffer));
      }
      return buffer;
    }
  }
 catch (  Throwable x) {
    failFrame(x);
    return null;
  }
}
