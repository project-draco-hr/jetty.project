{
  EndPoint endpoint=getEndPoint();
  try {
    int bufsize=buffer.size();
    if (bufsize == 1) {
      endpoint.write(writeBytes,buffer.get(0));
    }
 else {
      ByteBuffer bbarr[]=buffer.toArray(new ByteBuffer[bufsize]);
      endpoint.write(writeBytes,bbarr);
    }
  }
 catch (  Throwable t) {
    writeBytes.failed(t);
  }
}
