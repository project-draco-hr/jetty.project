{
  LOG.debug("{} Connection State Change: {}",policy.getBehavior(),state);
switch (state) {
case OPEN:
    LOG.debug("fillInterested");
  fillInterested();
break;
case CLOSED:
if (ioState.wasAbnormalClose()) {
CloseInfo abnormal=new CloseInfo(StatusCode.SHUTDOWN,"Abnormal Close - " + ioState.getCloseInfo().getReason());
outgoingFrame(abnormal.asFrame(),new OnDisconnectCallback(false),BatchMode.OFF);
}
this.disconnect(false);
break;
case CLOSING:
CloseInfo close=ioState.getCloseInfo();
outgoingFrame(close.asFrame(),new OnDisconnectCallback(true),BatchMode.OFF);
default :
break;
}
}
