{
  CloseInfo close=new CloseInfo(statusCode,reason);
  if (statusCode == StatusCode.ABNORMAL) {
    flusher.close();
    ioState.onAbnormalClose(close);
  }
 else {
    ioState.onCloseLocal(close);
  }
}
