{
  while (true) {
    @SuppressWarnings("unchecked") C c=(C)connectionPool.acquire();
    if (isValid(c))     return c;
 else     c.close();
  }
}
