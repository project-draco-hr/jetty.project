{
  @SuppressWarnings("unchecked") C connection=(C)c;
  if (LOG.isDebugEnabled())   LOG.debug("{} released",connection);
  HttpClient client=getHttpClient();
  if (client.isRunning()) {
    if (connectionPool.isActive(connection)) {
      if (isValid(connection))       process(connection);
 else       connection.close();
    }
 else {
      if (LOG.isDebugEnabled())       LOG.debug("{} explicit",connection);
    }
  }
 else {
    if (LOG.isDebugEnabled())     LOG.debug("{} is stopped",client);
    connection.close();
  }
}
