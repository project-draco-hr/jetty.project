{
  MultiException mx=new MultiException();
  if (_filters != null) {
    for (    FilterHolder f : _filters) {
      try {
        f.start();
        f.initialize();
      }
 catch (      Exception e) {
        mx.add(e);
      }
    }
  }
  if (_servlets != null) {
    ServletHolder[] servlets=_servlets.clone();
    Arrays.sort(servlets);
    for (    ServletHolder servlet : servlets) {
      try {
        if (servlet.getClassName() == null && servlet.getForcedPath() != null) {
          ServletHolder forced_holder=_servletPathMap.match(servlet.getForcedPath());
          if (forced_holder == null || forced_holder.getClassName() == null) {
            mx.add(new IllegalStateException("No forced path servlet for " + servlet.getForcedPath()));
            continue;
          }
          servlet.setClassName(forced_holder.getClassName());
        }
        servlet.start();
        servlet.initialize();
      }
 catch (      Throwable e) {
        LOG.debug(Log.EXCEPTION,e);
        mx.add(e);
      }
    }
  }
  for (  Holder<?> h : getBeans(Holder.class)) {
    try {
      if (!h.isStarted()) {
        h.start();
        h.initialize();
      }
    }
 catch (    Exception e) {
      mx.add(e);
    }
  }
  mx.ifExceptionThrow();
}
