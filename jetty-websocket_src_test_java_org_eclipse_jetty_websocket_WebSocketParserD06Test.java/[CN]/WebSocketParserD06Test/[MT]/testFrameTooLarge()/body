{
  _in.sendMask();
  _in.put((byte)0x84);
  _in.put((byte)0x7E);
  _in.put((byte)(2048 >> 8));
  _in.put((byte)(2048 & 0xff));
  int filled=_parser.parseNext();
  assertEquals(8,filled);
  assertEquals(WebSocketConnectionD06.CLOSE_LARGE,_handler._code);
  for (int i=0; i < 2048; i++)   _in.put((byte)'a');
  filled=_parser.parseNext();
  assertEquals(2048,filled);
  assertEquals(0,_handler._data.size());
  assertEquals(0,_handler._utf8.length());
  _handler._code=0;
  _handler._message=null;
  _in.sendMask();
  _in.put((byte)0x84);
  _in.put((byte)0x7E);
  _in.put((byte)(1024 >> 8));
  _in.put((byte)(1024 & 0xff));
  for (int i=0; i < 1024; i++)   _in.put((byte)'a');
  filled=_parser.parseNext();
  assertEquals(1024 + 8,filled);
  assertEquals(1,_handler._data.size());
  assertEquals(1024,_handler._data.get(0).length());
}
