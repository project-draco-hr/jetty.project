{
  if (!validating) {
    return;
  }
  if (frame.isRsv1()) {
    throw new ProtocolException("RSV1 not allowed to be set");
  }
  if (frame.isRsv2()) {
    throw new ProtocolException("RSV2 not allowed to be set");
  }
  if (frame.isRsv3()) {
    throw new ProtocolException("RSV3 not allowed to be set");
  }
  if (frame.getOpCode().isControlFrame()) {
    if (frame.getPayloadLength() > 125) {
      throw new ProtocolException("Invalid control frame payload length");
    }
    if (!frame.isFin()) {
      throw new ProtocolException("Control Frames must be FIN=true");
    }
    if (frame.getOpCode() == OpCode.CLOSE) {
      new CloseInfo(frame.getPayload(),true);
    }
  }
}
