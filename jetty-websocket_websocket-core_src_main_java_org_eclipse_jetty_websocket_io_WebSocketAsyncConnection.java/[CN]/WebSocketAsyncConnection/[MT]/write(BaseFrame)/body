{
  if (frame == null) {
    return;
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug("write(BaseFrame->{})",frame);
  }
  ByteBuffer raw=bufferPool.acquire(frame.getPayloadLength() + FrameGenerator.OVERHEAD,false);
  BufferUtil.clearToFill(raw);
  generator.generate(raw,frame);
  BufferUtil.flipToFlush(raw,0);
  Callback<Void> nop=new FutureCallback<>();
  if (LOG.isDebugEnabled()) {
    LOG.debug("Raw Buffer: {}",BufferUtil.toDetailString(raw));
  }
  getEndPoint().write(null,nop,raw);
}
