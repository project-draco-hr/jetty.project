{
  BaseFrame close=FrameBuilder.close(statusCode,reason).asFrame();
  ByteBuffer buf=bufferPool.acquire(policy.getBufferSize(),false);
  BufferUtil.clearToFill(buf);
  generator.generate(buf,close);
  BufferUtil.flipToFlush(buf,0);
  getEndPoint().write(null,new WebSocketCloseCallback(this,buf),buf);
}
