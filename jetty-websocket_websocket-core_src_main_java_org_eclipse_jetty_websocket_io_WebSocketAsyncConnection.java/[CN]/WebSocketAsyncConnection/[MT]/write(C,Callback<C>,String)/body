{
  int len=messages.length;
  if (len == 0) {
    return;
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug("write(context,{},Strings->{})",callback,messages.length);
  }
  ByteBuffer raw[]=new ByteBuffer[messages.length];
  for (int i=0; i < len; i++) {
    DataFrame frame=new DataFrame();
    frame.setPayload(ByteBuffer.wrap(messages[i].getBytes()));
    frame.setFin(true);
    raw[i]=bufferPool.acquire(policy.getBufferSize(),false);
    BufferUtil.clear(raw[i]);
    generator.generate(raw[i],frame);
    BufferUtil.flipToFlush(raw[i],0);
  }
  writeRaw(context,callback,raw);
}
