{
  int len=frames.length;
  if (len == 0) {
    return;
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug("write(context,{},BaseFrames->{})",callback,frames.length);
  }
  ByteBuffer raw[]=new ByteBuffer[len];
  for (int i=0; i < len; i++) {
    raw[i]=bufferPool.acquire(frames[i].getPayloadLength() + FrameGenerator.OVERHEAD,false);
    BufferUtil.clearToFill(raw[i]);
    generator.generate(raw[i],frames[i]);
    BufferUtil.flipToFlush(raw[i],0);
  }
  getEndPoint().write(context,callback,raw);
}
