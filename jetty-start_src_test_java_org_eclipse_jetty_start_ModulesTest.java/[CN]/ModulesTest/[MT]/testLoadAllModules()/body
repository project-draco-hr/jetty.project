{
  File homeDir=MavenTestingUtils.getTestResourceDir("usecases/home");
  BaseHome basehome=new BaseHome(homeDir,homeDir);
  Modules modules=new Modules();
  modules.registerAll(basehome,DEFAULT_ARGS);
  List<String> moduleNames=new ArrayList<>();
  for (  Module mod : modules) {
    if (mod.getName().equals("npn-boot")) {
      continue;
    }
    moduleNames.add(mod.getName());
  }
  String expected[]={"jmx","client","stats","spdy","deploy","debug","security","npn","ext","websocket","rewrite","ipaccess","xinetd","proxy","webapp","jndi","lowresources","https","plus","requestlog","jsp","monitor","xml","servlet","jaas","http","base","server","annotations"};
  Assert.assertThat("Module count: " + moduleNames,moduleNames.size(),is(expected.length));
}
