{
synchronized (lock()) {
    T item=null;
    while (item == null) {
      item=_inputQ.peekUnsafe();
      while (item != null && remaining(item) == 0) {
        _inputQ.pollUnsafe();
        onContentConsumed(item);
        item=_inputQ.peekUnsafe();
      }
      if (item == null) {
        onAllContentConsumed();
        if (_earlyEOF)         throw new EofException();
        if (_inputEOF) {
          onEOF();
          return -1;
        }
        blockForContent();
      }
    }
    return get(item,b,off,len);
  }
}
