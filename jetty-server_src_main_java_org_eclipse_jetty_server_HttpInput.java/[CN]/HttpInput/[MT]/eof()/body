{
synchronized (_inputQ) {
    if (!isFinished()) {
      if (_inputQ.isEmpty()) {
        if (LOG.isDebugEnabled())         LOG.debug("{} EOF",this);
        _state=EOF;
      }
 else {
        if (LOG.isDebugEnabled())         LOG.debug("{} EOF pending",this);
        _inputQ.add(EOF_CONTENT);
      }
      if (_listener == null) {
        _inputQ.notify();
        return;
      }
    }
  }
  onReadPossible();
}
