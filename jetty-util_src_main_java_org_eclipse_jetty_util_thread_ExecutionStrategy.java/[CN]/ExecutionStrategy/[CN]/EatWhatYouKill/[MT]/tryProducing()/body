{
  while (true) {
    State state=_state.get();
switch (state) {
case PENDING:
      if (!_state.compareAndSet(state,State.PRODUCING_PENDING))       continue;
    return true;
default :
  return false;
}
}
}
