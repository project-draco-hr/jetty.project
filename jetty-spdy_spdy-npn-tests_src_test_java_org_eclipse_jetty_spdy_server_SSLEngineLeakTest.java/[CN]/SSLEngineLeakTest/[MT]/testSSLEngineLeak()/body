{
  System.gc();
  Thread.sleep(1000);
  Field field=NextProtoNego.class.getDeclaredField("objects");
  field.setAccessible(true);
  @SuppressWarnings("unchecked") Map<Object,NextProtoNego.Provider> objects=(Map<Object,NextProtoNego.Provider>)field.get(null);
  int initialSize=objects.size();
  avoidStackLocalVariables();
  Thread.sleep(1000);
  System.gc();
  Thread.sleep(1000);
  if (objects.size() != initialSize) {
    System.err.println(objects);
    server.dumpStdErr();
  }
  Assert.assertEquals(initialSize,objects.size());
}
