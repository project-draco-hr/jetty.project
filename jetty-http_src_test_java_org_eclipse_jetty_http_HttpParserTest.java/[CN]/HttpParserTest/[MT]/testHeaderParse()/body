{
  ByteBuffer buffer=BufferUtil.toBuffer("GET / HTTP/1.0\015\012" + "Host: localhost\015\012" + "Header1: value1\015\012"+ "Header 2  :   value 2a  \015\012"+ "                    value 2b  \015\012"+ "Header3: \015\012"+ "Header4 \015\012"+ "  value4\015\012"+ "Server5 : notServer\015\012"+ "Host Header: notHost\015\012"+ "\015\012");
  Handler handler=new Handler();
  HttpParser parser=new HttpParser((HttpParser.RequestHandler)handler);
  parser.parseAll(buffer);
  assertEquals("GET",f0);
  assertEquals("/",f1);
  assertEquals("HTTP/1.0",f2);
  assertEquals("Host",hdr[0]);
  assertEquals("localhost",val[0]);
  assertEquals("Header1",hdr[1]);
  assertEquals("value1",val[1]);
  assertEquals("Header 2",hdr[2]);
  assertEquals("value 2a value 2b",val[2]);
  assertEquals("Header3",hdr[3]);
  assertEquals(null,val[3]);
  assertEquals("Header4",hdr[4]);
  assertEquals("value4",val[4]);
  assertEquals("Server5",hdr[5]);
  assertEquals("notServer",val[5]);
  assertEquals("Host Header",hdr[6]);
  assertEquals("notHost",val[6]);
  assertEquals(6,h);
}
