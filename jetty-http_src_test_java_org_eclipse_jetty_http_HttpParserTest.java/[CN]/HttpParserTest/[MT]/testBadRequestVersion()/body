{
  ByteBuffer buffer=BufferUtil.toBuffer("GET / HPPT/7.7\015\012" + "Content-Length: 0\015\012" + "Connection: close\015\012"+ "\015\012");
  HttpParser.RequestHandler<ByteBuffer> handler=new Handler();
  HttpParser parser=new HttpParser(handler);
  parser.parseNext(buffer);
  assertEquals(null,_methodOrVersion);
  assertEquals("Unknown Version",_bad);
  assertFalse(buffer.hasRemaining());
  assertEquals(HttpParser.State.CLOSED,parser.getState());
  buffer=BufferUtil.toBuffer("GET / HTTP/1.01\015\012" + "Content-Length: 0\015\012" + "Connection: close\015\012"+ "\015\012");
  handler=new Handler();
  handler=new Handler();
  parser=new HttpParser(handler);
  parser.parseNext(buffer);
  assertEquals(null,_methodOrVersion);
  assertEquals("Unknown Version",_bad);
  assertFalse(buffer.hasRemaining());
  assertEquals(HttpParser.State.CLOSED,parser.getState());
}
