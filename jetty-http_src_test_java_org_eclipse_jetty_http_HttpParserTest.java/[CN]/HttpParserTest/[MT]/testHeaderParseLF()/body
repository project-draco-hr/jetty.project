{
  StringEndPoint io=new StringEndPoint();
  io.setInput("GET / HTTP/1.0\012" + "Host: localhost\012" + "Header1: value1\012"+ "Header2  :   value 2a  \012"+ "                    value 2b  \012"+ "Header3: \012"+ "Header4 \012"+ "  value4\012"+ "Server5: notServer\012"+ "\012");
  ByteArrayBuffer buffer=new ByteArrayBuffer(4096);
  SimpleBuffers buffers=new SimpleBuffers(buffer,null);
  Handler handler=new Handler();
  HttpParser parser=new HttpParser(buffers,io,handler);
  parser.parse();
  assertEquals("GET",f0);
  assertEquals("/",f1);
  assertEquals("HTTP/1.0",f2);
  assertEquals("Host",hdr[0]);
  assertEquals("localhost",val[0]);
  assertEquals("Header1",hdr[1]);
  assertEquals("value1",val[1]);
  assertEquals("Header2",hdr[2]);
  assertEquals("value 2a value 2b",val[2]);
  assertEquals("Header3",hdr[3]);
  assertEquals("",val[3]);
  assertEquals("Header4",hdr[4]);
  assertEquals("value4",val[4]);
  assertEquals("Server5",hdr[5]);
  assertEquals("notServer",val[5]);
  assertEquals(5,h);
}
