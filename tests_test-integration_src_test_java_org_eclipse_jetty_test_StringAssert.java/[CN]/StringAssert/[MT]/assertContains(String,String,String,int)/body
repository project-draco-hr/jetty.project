{
  Assert.assertNotNull(msg + ": haystack should not be null",haystack);
  Assert.assertNotNull(msg + ": needle should not be null",needle);
  int idx=haystack.indexOf(needle,offset);
  if (idx == (-1)) {
    StringBuffer buf=new StringBuffer();
    buf.append(msg).append(": ");
    buf.append("Unable to find \"").append(needle).append("\" in \"");
    buf.append(haystack.substring(offset)).append("\"");
    System.err.println(buf);
    throw new AssertionFailedError(buf.toString());
  }
}
