{
  if (methodsCache.count() < 1) {
    throw new WebSocketException("No WebSockets have been registered with the factory.  Cannot use default implementation of WebSocketCreator.");
  }
  if (methodsCache.count() > 1) {
    LOG.warn("You have registered more than 1 websocket object, and are using the default WebSocketCreator! Using first registered websocket.");
  }
  try {
    return firstRegisteredClass.newInstance();
  }
 catch (  InstantiationException|IllegalAccessException e) {
    throw new WebSocketException("Unable to create instance of " + firstRegisteredClass,e);
  }
}
