{
  if (objectFactory != null) {
    return objectFactory;
  }
  if (context == null) {
    LOG.debug("Using default DecoratedObjectFactory (ServletContext is null)");
    return new DecoratedObjectFactory();
  }
  objectFactory=(DecoratedObjectFactory)context.getAttribute(DecoratedObjectFactory.ATTR);
  if (objectFactory == null) {
    LOG.debug("Using default DecoratedObjectFactory (ServletContext attribute is null)");
    objectFactory=new DecoratedObjectFactory();
  }
  return objectFactory;
}
