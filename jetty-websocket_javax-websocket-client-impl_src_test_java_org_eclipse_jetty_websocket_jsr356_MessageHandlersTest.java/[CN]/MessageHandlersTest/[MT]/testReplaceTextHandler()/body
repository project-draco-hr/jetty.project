{
  MessageHandlers mhs=new MessageHandlers();
  mhs.setFactory(factory);
  MessageHandler oldText=new StringWholeHandler();
  mhs.add(oldText);
  mhs.add(new ByteArrayWholeHandler());
  mhs.remove(oldText);
  mhs.add(new LongMessageHandler());
  MessageHandlerWrapper wrapper=mhs.getWrapper(MessageType.BINARY);
  Assert.assertThat("Binary Handler",wrapper.getHandler(),instanceOf(ByteArrayWholeHandler.class));
  wrapper=mhs.getWrapper(MessageType.TEXT);
  Assert.assertThat("Text Handler",wrapper.getHandler(),instanceOf(LongMessageHandler.class));
}
