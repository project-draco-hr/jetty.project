{
  Buffer buf=null;
  if (size == getHeaderBufferSize())   buf=new IndirectNIOBuffer(size);
 else   buf=_useDirectBuffers ? (NIOBuffer)new DirectNIOBuffer(size) : (NIOBuffer)new IndirectNIOBuffer(size);
  return buf;
}
