{
  TestLifeCycle lifecycle=new TestLifeCycle();
  TestListener listener=new TestListener();
  lifecycle.addLifeCycleListener(listener);
  lifecycle.start();
  ((StdErrLog)Log.getLog()).setHideStacks(true);
  assertTrue("The starting event didn't occur",listener.starting);
  lifecycle.removeLifeCycleListener(listener);
  lifecycle.stop();
  assertFalse("The stopping event occurred",listener.stopping);
}
