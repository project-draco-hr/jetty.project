{
  Path modFile=basehome.getPath("modules/protonego-impl/" + modBootFile);
  Module mod=new Module(basehome,modFile);
  assertNotNull("module",mod);
  assertThat("Module name",mod.getName(),is("protonego-boot"));
  List<String> expectedBootClasspath=new ArrayList<>();
  for (  String line : mod.getFiles()) {
    FileArg farg=new FileArg(line);
    if (farg.uri != null) {
      assertThat("NPN URL",farg.uri,startsWith("maven://org.mortbay.jetty.npn/npn-boot/"));
      expectedBootClasspath.add("-Xbootclasspath/p:" + farg.location);
    }
  }
  for (  String line : mod.getJvmArgs()) {
    expectedBootClasspath.remove(line);
  }
  if (expectedBootClasspath.size() > 0) {
    StringBuilder err=new StringBuilder();
    err.append("XBootClasspath mismatch between [files] and [exec]");
    err.append("\nThe following are inferred from your [files] definition in ");
    err.append(modFile.toAbsolutePath().toString());
    err.append("\nbut are not referenced in your [exec] section");
    for (    String entry : expectedBootClasspath) {
      err.append("\n").append(entry);
    }
    fail(err.toString());
  }
}
