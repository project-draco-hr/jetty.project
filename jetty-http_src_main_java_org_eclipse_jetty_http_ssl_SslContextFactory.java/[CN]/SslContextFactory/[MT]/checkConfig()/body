{
  boolean check=true;
  if (_keyStoreInputStream == null && _keyStorePath == null) {
    check=false;
  }
 else {
    if (_trustStoreInputStream == null && _trustStorePath == null) {
      _trustStorePath=_keyStorePath;
      _trustStoreInputStream=_keyStoreInputStream;
      _trustStoreType=_keyStoreType;
      _trustStoreProvider=_keyStoreProvider;
      _trustStorePassword=_keyStorePassword;
      _trustManagerFactoryAlgorithm=_keyManagerFactoryAlgorithm;
    }
  }
  if (_keyStoreInputStream != null && _keyStoreInputStream == _trustStoreInputStream) {
    try {
      ByteArrayOutputStream baos=new ByteArrayOutputStream();
      IO.copy(_keyStoreInputStream,baos);
      _keyStoreInputStream.close();
      _keyStoreInputStream=new ByteArrayInputStream(baos.toByteArray());
      _trustStoreInputStream=new ByteArrayInputStream(baos.toByteArray());
    }
 catch (    Exception ex) {
      throw new RuntimeException(ex);
    }
  }
  return check;
}
