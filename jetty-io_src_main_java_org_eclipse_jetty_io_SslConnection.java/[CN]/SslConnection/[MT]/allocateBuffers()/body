{
  if (!_lock.tryLock())   throw new IllegalStateException();
  try {
    if (_allocations++ == 0) {
      if (_buffers == null) {
        _buffers=__buffers.get();
        if (_buffers == null)         _buffers=new SslBuffers(_session.getPacketBufferSize(),_session.getApplicationBufferSize());
        _inNet=_buffers._inNet;
        _outNet=_buffers._outNet;
        _inApp=_buffers._inApp;
        __buffers.set(null);
      }
    }
  }
  finally {
    _lock.unlock();
  }
}
