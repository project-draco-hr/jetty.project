{
  Manifest mf=new Manifest();
  Attributes attribs=mf.getMainAttributes();
  attribs.putValue(MANIFEST_VERSION,"1.0");
  attribs.putValue(BUNDLE_MANIFEST_VERSION,"2");
  attribs.putValue(BUNDLE_NAME,"Servletbridge Extension Bundle");
  attribs.putValue(BUNDLE_SYMBOLIC_NAME,extensionBundleBSN);
  attribs.putValue(BUNDLE_VERSION,extensionBundleVersion);
  attribs.putValue(FRAGMENT_HOST,"system.bundle; extension:=framework");
  String servletVersion=context.getMajorVersion() + "." + context.getMinorVersion();
  String packageExports="org.eclipse.equinox.servletbridge; version=1.1" + ", javax.servlet; version=" + servletVersion + ", javax.servlet.http; version="+ servletVersion+ ", javax.servlet.resources; version="+ servletVersion;
  String extendedExports=config.getInitParameter(CONFIG_EXTENDED_FRAMEWORK_EXPORTS);
  if (extendedExports != null && extendedExports.trim().length() != 0)   packageExports+=", " + extendedExports;
  attribs.putValue(EXPORT_PACKAGE,packageExports);
  writeJarFile(new File(plugins,extensionBundleBSN + "_" + extensionBundleVersion+ ".jar"),mf,configureEquinoxHook);
}
