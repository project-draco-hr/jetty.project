{
  if (key == null)   throw new IllegalArgumentException();
  Node<O> node=_root;
  Node<O> last=null;
  for (int i=0; i < key.length(); i++) {
    char ch=key.charAt(i);
    if (_ignoreCase)     ch=Character.toLowerCase(ch);
    if (node == null) {
      node=new Node<O>(key,value,_ignoreCase);
      _entrySet.add(node);
      if (last == null)       _root=node;
 else {
        throw new Error("unimplemented");
      }
      return null;
    }
 else {
      last=node;
      node=node.nextNode(i,ch);
      if (node == null) {
        node=new Node<O>(key,value,_ignoreCase);
        _entrySet.add(node);
        last.addNext(node);
        return null;
      }
    }
  }
  if (node != null) {
    if (key.equals(node.getKey()))     return node.setValue(value);
  }
  return null;
}
