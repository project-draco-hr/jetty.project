{
  Continuation continuation=(Continuation)request.getAttribute(Continuation.ATTRIBUTE);
  if (continuation != null) {
    return continuation;
  }
  if (__servlet3) {
    try {
      continuation=__newServlet3Continuation.newInstance(request,response);
      request.setAttribute(Continuation.ATTRIBUTE,continuation);
      return continuation;
    }
 catch (    Exception e) {
      throw new RuntimeException(e);
    }
  }
  if (__jetty6) {
    Object c=request.getAttribute("org.mortbay.jetty.ajax.Continuation");
    try {
      continuation=__newJetty6Continuation.newInstance(request,response,c);
      request.setAttribute(Continuation.ATTRIBUTE,continuation);
      return continuation;
    }
 catch (    Exception e) {
      throw new RuntimeException(e);
    }
  }
  throw new IllegalStateException("!(Jetty || Servlet 3.0 || ContinuationFilter)");
}
