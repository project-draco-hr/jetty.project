{
  AnnotatedBinaryArraySocket socket=new AnnotatedBinaryArraySocket();
  EventDriver driver=wrap(socket);
  LocalWebSocketSession conn=new LocalWebSocketSession(testname,driver);
  conn.open();
  driver.incomingFrame(makeBinaryFrame("Hello World",true));
  driver.incomingFrame(new CloseInfo(StatusCode.NORMAL).asFrame());
  socket.capture.assertEventCount(3);
  socket.capture.assertEventStartsWith(0,"onConnect");
  socket.capture.assertEvent(1,"onBinary([11],0,11)");
  socket.capture.assertEventStartsWith(2,"onClose(1000,");
}
