{
synchronized (queue) {
    for (    Generator.Result result : results)     queue.offer(result);
    if (flushing)     return;
    flushing=true;
  }
  endPoint.write(flushCallback);
}
