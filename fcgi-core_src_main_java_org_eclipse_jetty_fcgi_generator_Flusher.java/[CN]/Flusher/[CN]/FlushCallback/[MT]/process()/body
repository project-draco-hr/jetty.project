{
  Generator.Result result;
synchronized (queue) {
    if (queue.isEmpty()) {
      flushing=false;
      return false;
    }
    result=queue.poll();
    Generator.Result other=queue.poll();
    if (other != null)     result=result.join(other);
  }
  active=result;
  ByteBuffer[] buffers=result.getByteBuffers();
  endPoint.write(this,buffers);
  return false;
}
