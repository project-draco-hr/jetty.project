{
  String name=field.getName();
  if (name.startsWith("HTTP_")) {
    String[] parts=name.split("_");
    StringBuilder httpName=new StringBuilder();
    for (int i=1; i < parts.length; ++i) {
      if (i > 1)       httpName.append("-");
      String part=parts[i];
      httpName.append(Character.toUpperCase(part.charAt(0)));
      httpName.append(part.substring(1).toLowerCase(Locale.ENGLISH));
    }
    String headerName=httpName.toString();
    if (HttpHeader.HOST.is(headerName))     return new HostPortHttpField(field.getValue());
 else     return new HttpField(httpName.toString(),field.getValue());
  }
  return null;
}
