{
  _server=new Server();
  _server.setGracefulShutdown(500);
  Connector _connector=new SelectChannelConnector();
  _server.addConnector(_connector);
  Handler handler=new AbstractHandler(){
    public void handle(    String target,    Request baseRequest,    HttpServletRequest request,    HttpServletResponse response) throws IOException, ServletException {
      try {
        Long sleep=Long.parseLong(request.getParameter("sleep"));
        Thread.sleep(sleep);
        response.setContentType("text/html");
        response.setStatus(HttpServletResponse.SC_OK);
        response.getWriter().println("<h1>Hello</h1>");
        baseRequest.setHandled(true);
      }
 catch (      InterruptedException x) {
        Thread.currentThread().interrupt();
        throw new ServletException(x);
      }
    }
  }
;
  _server.setHandler(handler);
  _server.start();
  _port=_connector.getLocalPort();
}
