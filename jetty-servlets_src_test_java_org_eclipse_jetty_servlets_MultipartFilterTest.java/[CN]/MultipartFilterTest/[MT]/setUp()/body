{
  _dir=File.createTempFile("testmultupart",null);
  assertTrue(_dir.delete());
  assertTrue(_dir.mkdir());
  _dir.deleteOnExit();
  assertTrue(_dir.isDirectory());
  tester=new ServletTester();
  tester.setContextPath("/context");
  tester.setResourceBase(_dir.getCanonicalPath());
  tester.addServlet(DumpServlet.class,"/");
  tester.setAttribute("javax.servlet.context.tempdir",_dir);
  FilterHolder multipartFilter=tester.addFilter(MultiPartFilter.class,"/*",EnumSet.of(DispatcherType.REQUEST));
  multipartFilter.setInitParameter("deleteFiles","true");
  tester.start();
}
