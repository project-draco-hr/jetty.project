{
  Objects.requireNonNull(filter,"FileFilter cannot be null");
  File homePath=new File(homeDir,separators(relPathToDirectory));
  List<File> homeFiles=new ArrayList<>();
  homeFiles.addAll(Arrays.asList(homePath.listFiles(filter)));
  if (baseDir != null) {
    File basePath=new File(baseDir,separators(relPathToDirectory));
    File baseFiles[]=basePath.listFiles(filter);
    List<File> ret=new ArrayList<>();
    for (    File base : baseFiles) {
      String relpath=toRelativePath(baseDir,base);
      File home=new File(homeDir,separators(relpath));
      if (home.exists()) {
        homeFiles.remove(home);
      }
      ret.add(base);
    }
    ret.addAll(homeFiles);
    Collections.sort(ret,new NaturalSort.Files());
    return ret;
  }
 else {
    Collections.sort(homeFiles,new NaturalSort.Files());
    return homeFiles;
  }
}
