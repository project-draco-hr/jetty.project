{
  _in.putUnmasked((byte)0x81);
  _in.putUnmasked((byte)(0x80 | 11));
  _in.sendMask();
  _in.put("Hello World".getBytes(StringUtil.__UTF8));
  int progress=_parser.parseNext();
  assertTrue(progress > 0);
  assertEquals("Hello World",_handler._data.get(0));
  assertEquals(0x8,_handler._flags);
  assertEquals(0x1,_handler._opcode);
  assertTrue(_parser.isBufferEmpty());
  _parser.returnBuffer();
  assertTrue(_parser.getBuffer() == null);
}
