{
  int id=1;
  String method="GET";
  String uri="/test";
  Map<String,String> headers=new LinkedHashMap<String,String>();
  headers.put("X","X");
  headers.put("Y","Y");
  headers.put("Z","Z");
  byte[] body="BODY".getBytes("UTF-8");
  headers.put("Content-Length",String.valueOf(body.length));
  RHTTPRequest request1=new RHTTPRequest(id,method,uri,headers,body);
  byte[] requestBytes1=request1.getRequestBytes();
  RHTTPRequest request2=RHTTPRequest.fromRequestBytes(id,requestBytes1);
  assertEquals(id,request2.getId());
  assertEquals(method,request2.getMethod());
  assertEquals(uri,request2.getURI());
  assertEquals(headers,request2.getHeaders());
  assertTrue(Arrays.equals(request2.getBody(),body));
  byte[] requestBytes2=request2.getRequestBytes();
  assertTrue(Arrays.equals(requestBytes1,requestBytes2));
}
