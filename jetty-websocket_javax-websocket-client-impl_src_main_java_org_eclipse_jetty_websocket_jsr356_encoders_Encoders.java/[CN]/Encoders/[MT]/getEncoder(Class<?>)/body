{
  Class<?> targetType=type;
  if (targetType.isPrimitive()) {
    targetType=DeploymentTypeUtils.getPrimitiveClass(targetType);
  }
  for (  EncoderRef ref : encoders) {
    if (DeploymentTypeUtils.isAssignable(targetType,ref.type)) {
      return instantiate(ref.encoder);
    }
  }
  throw new InvalidSignatureException("Unable to find appropriate Encoder for type: " + type);
}
