{
  long idleTimestamp=_idleTimestamp;
  long max_idle_time=getMaxIdleTime();
  if (idleTimestamp != 0 && max_idle_time > 0) {
    long idleForMs=now - idleTimestamp;
    if (idleForMs > max_idle_time) {
      onIdleExpired(idleForMs);
      _idleTimestamp=now;
    }
  }
}
