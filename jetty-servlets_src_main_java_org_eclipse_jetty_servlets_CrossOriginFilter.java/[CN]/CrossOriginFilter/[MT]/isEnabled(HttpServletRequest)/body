{
  for (  String connection : Collections.<String>list(request.getHeaders("Connection"))) {
    if ("Upgrade".equalsIgnoreCase(connection)) {
      for (      String upgrade : Collections.<String>list(request.getHeaders("Upgrade"))) {
        if ("WebSocket".equalsIgnoreCase(upgrade))         return false;
      }
    }
  }
  return true;
}
