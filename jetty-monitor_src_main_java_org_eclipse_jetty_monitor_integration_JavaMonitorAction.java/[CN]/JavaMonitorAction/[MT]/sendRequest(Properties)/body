{
  ByteArrayInputStream resStream=null;
  Properties responseProperties=null;
  ByteArrayOutputStream reqStream=new ByteArrayOutputStream();
  requestProperties.storeToXML(reqStream,null);
  try {
    ByteBuffer byteBuffer=BufferUtil.toBuffer(reqStream.toByteArray());
    ContentResponse response=_client.POST(_url).header("Connection","close").content(new ByteBufferContentProvider(byteBuffer)).send().get();
    if (response.getStatus() == HttpStatus.OK_200) {
      responseProperties=new Properties();
      response.getContentAsString();
      resStream=new ByteArrayInputStream(response.getContent());
      responseProperties.loadFromXML(resStream);
    }
  }
  finally {
    try {
      reqStream.close();
      if (resStream != null)       resStream.close();
    }
 catch (    IOException ex) {
      LOG.ignore(ex);
    }
  }
  return responseProperties;
}
