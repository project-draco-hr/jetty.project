{
  String response;
  response=process(null,null);
  assertContains(type,response);
  assertContains("NORMAL",response);
  assertNotContains("history: onTimeout",response);
  assertNotContains("history: onComplete",response);
  response=process("sleep=200",null);
  assertContains("SLEPT",response);
  assertNotContains("history: onTimeout",response);
  assertNotContains("history: onComplete",response);
  response=process("suspend=200",null);
  assertContains("TIMEOUT",response);
  assertContains("history: onTimeout",response);
  assertContains("history: onComplete",response);
  response=process("suspend=200&resume=100",null);
  assertContains("RESUMED",response);
  assertNotContains("history: onTimeout",response);
  assertContains("history: onComplete",response);
  response=process("suspend=200&resume=0",null);
  assertContains("RESUMED",response);
  assertNotContains("history: onTimeout",response);
  assertContains("history: onComplete",response);
  response=process("suspend=200&complete=100",null);
  assertContains("COMPLETED",response);
  assertNotContains("history: onTimeout",response);
  assertContains("history: onComplete",response);
  response=process("suspend=200&complete=0",null);
  assertContains("COMPLETED",response);
  assertNotContains("history: onTimeout",response);
  assertContains("history: onComplete",response);
}
