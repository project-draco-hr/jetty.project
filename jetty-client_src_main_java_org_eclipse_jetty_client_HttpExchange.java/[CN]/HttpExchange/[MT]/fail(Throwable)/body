{
  boolean notify=false;
  try (SpinLock.Lock lock=_lock.lock()){
    if (requestState != State.TERMINATED) {
      requestState=State.TERMINATED;
      notify=true;
      requestFailure=cause;
    }
    if (responseState != State.TERMINATED) {
      responseState=State.TERMINATED;
      notify=true;
      responseFailure=cause;
    }
  }
   if (notify) {
    if (LOG.isDebugEnabled())     LOG.debug("Failing {}: {}",this,cause);
    destination.getRequestNotifier().notifyFailure(request,cause);
    List<Response.ResponseListener> listeners=getConversation().getResponseListeners();
    ResponseNotifier responseNotifier=destination.getResponseNotifier();
    responseNotifier.notifyFailure(listeners,response,cause);
    responseNotifier.notifyComplete(listeners,new Result(request,cause,response,cause));
    return true;
  }
 else {
    return false;
  }
}
