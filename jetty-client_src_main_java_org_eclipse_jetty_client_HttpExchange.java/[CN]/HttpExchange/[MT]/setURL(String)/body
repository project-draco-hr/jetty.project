{
  HttpURI uri=new HttpURI(url);
  String scheme=uri.getScheme();
  if (scheme != null) {
    if (HttpSchemes.HTTP.equalsIgnoreCase(scheme))     setScheme(HttpSchemes.HTTP_BUFFER);
 else     if (HttpSchemes.HTTPS.equalsIgnoreCase(scheme))     setScheme(HttpSchemes.HTTPS_BUFFER);
 else     setScheme(new ByteArrayBuffer(scheme));
  }
  int port=uri.getPort();
  if (port <= 0)   port="https".equalsIgnoreCase(scheme) ? 443 : 80;
  setAddress(new Address(uri.getHost(),port));
  String completePath=uri.getCompletePath();
  if (completePath == null)   completePath="/";
  setURI(completePath);
}
