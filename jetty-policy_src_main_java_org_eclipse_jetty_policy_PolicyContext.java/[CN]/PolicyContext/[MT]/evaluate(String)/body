{
  s=processProtocols(s);
  int i1=0;
  int i2=0;
  while (s != null) {
    System.out.println("Reviewing: " + s);
    i1=s.indexOf("${");
    System.out.println("i1:" + i1);
    if (i1 < 0) {
      break;
    }
    i2=s.indexOf("}",i1 + 2);
    System.out.println("i2:" + i2);
    if (i2 < 0) {
      break;
    }
    String property=getProperty(s.substring(i1 + 2,i2));
    s=s.substring(0,i1) + property + s.substring(i2 + 1);
    System.out.println("expanded to: " + s);
  }
  return s;
}
