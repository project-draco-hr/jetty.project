{
  List<Option> res=new ArrayList<Option>();
  res.add(CoreOptions.systemProperty(JETTY_SPDY_PORT).value(String.valueOf(DEFAULT_JETTY_SPDY_PORT)));
  String alpnBoot=System.getProperty("mortbay-alpn-boot");
  if (alpnBoot == null) {
    throw new IllegalStateException("Define path to alpn boot jar as system property -Dmortbay-alpn-boot");
  }
  File checkALPNBoot=new File(alpnBoot);
  if (!checkALPNBoot.exists()) {
    throw new IllegalStateException("Unable to find the alpn boot jar here: " + alpnBoot);
  }
  res.add(CoreOptions.vmOptions("-Xbootclasspath/p:" + alpnBoot));
  res.add(mavenBundle().groupId("org.eclipse.jetty.osgi").artifactId("jetty-osgi-alpn").versionAsInProject().noStart());
  res.add(mavenBundle().groupId("org.eclipse.jetty.spdy").artifactId("spdy-client").versionAsInProject().noStart());
  res.add(mavenBundle().groupId("org.eclipse.jetty.spdy").artifactId("spdy-core").versionAsInProject().noStart());
  res.add(mavenBundle().groupId("org.eclipse.jetty.spdy").artifactId("spdy-server").versionAsInProject().noStart());
  res.add(mavenBundle().groupId("org.eclipse.jetty.spdy").artifactId("spdy-http-common").versionAsInProject().noStart());
  res.add(mavenBundle().groupId("org.eclipse.jetty.spdy").artifactId("spdy-http-server").versionAsInProject().noStart());
  return res;
}
