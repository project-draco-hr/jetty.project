{
  if (!_endp.isOpen())   return -1;
  if (_buffer != null) {
    int flushed=_endp.flush(_buffer);
    if (flushed > 0)     _buffer.skip(flushed);
    return flushed;
  }
  return 0;
}
