{
  String id=node.getAttribute("id");
  Map map=new HashMap();
  if (id != null)   _idMap.put(id,map);
  for (int i=0; i < node.size(); i++) {
    Object o=node.get(i);
    if (o instanceof String)     continue;
    XmlParser.Node entry=(XmlParser.Node)o;
    if (!entry.getTag().equals("Entry"))     throw new IllegalStateException("Not an Entry");
    XmlParser.Node key=null;
    XmlParser.Node value=null;
    for (int j=0; j < entry.size(); j++) {
      o=entry.get(j);
      if (o instanceof String)       continue;
      XmlParser.Node item=(XmlParser.Node)o;
      if (!item.getTag().equals("Item"))       throw new IllegalStateException("Not an Item");
      if (key == null)       key=item;
 else       value=item;
    }
    if (key == null || value == null)     throw new IllegalStateException("Missing Item in Entry");
    String kid=key.getAttribute("id");
    String vid=value.getAttribute("id");
    Object k=value(obj,key);
    Object v=value(obj,value);
    map.put(k,v);
    if (kid != null)     _idMap.put(kid,k);
    if (vid != null)     _idMap.put(vid,v);
  }
  return map;
}
