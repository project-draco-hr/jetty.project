{
  LOG.debug("completed() - frame: {}",frame);
  connection.getBufferPool().release(buffer);
  super.succeeded();
  if (frame.getType().getOpCode() == OpCode.CLOSE) {
    CloseInfo close=new CloseInfo(origPayload,false);
    connection.onCloseHandshake(false,close);
  }
  connection.flush();
}
