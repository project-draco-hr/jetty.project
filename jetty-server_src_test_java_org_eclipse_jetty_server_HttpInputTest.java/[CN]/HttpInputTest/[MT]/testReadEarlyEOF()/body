{
  _in.addContent(new TContent("AB"));
  _in.addContent(new TContent("CD"));
  _in.earlyEOF();
  assertThat(_in.isFinished(),equalTo(false));
  assertThat(_in.available(),equalTo(2));
  assertThat(_in.isFinished(),equalTo(false));
  assertThat(_in.read(),equalTo((int)'A'));
  assertThat(_in.read(),equalTo((int)'B'));
  assertThat(_in.read(),equalTo((int)'C'));
  assertThat(_in.isFinished(),equalTo(false));
  assertThat(_in.read(),equalTo((int)'D'));
  try {
    _in.read();
    fail();
  }
 catch (  EOFException eof) {
    assertThat(_in.isFinished(),equalTo(true));
  }
  assertThat(_history.poll(),equalTo("Content succeeded AB"));
  assertThat(_history.poll(),equalTo("Content succeeded CD"));
  assertThat(_history.poll(),nullValue());
}
