{
  _in.addContent(new TContent("AB"));
  _in.addContent(new TContent("CD"));
  _fillAndParseSimulate.offer("EF");
  _fillAndParseSimulate.offer("GH");
  _fillAndParseSimulate.offer("_EOF_");
  assertThat(_in.read(),equalTo((int)'A'));
  assertTrue(_in.consumeAll());
  assertThat(_in.getContentConsumed(),equalTo(8L));
  assertThat(_history.poll(),equalTo("Content succeeded AB"));
  assertThat(_history.poll(),equalTo("Content succeeded CD"));
  assertThat(_history.poll(),equalTo("produceContent 3"));
  assertThat(_history.poll(),equalTo("Content succeeded EF"));
  assertThat(_history.poll(),equalTo("Content succeeded GH"));
  assertThat(_history.poll(),nullValue());
}
