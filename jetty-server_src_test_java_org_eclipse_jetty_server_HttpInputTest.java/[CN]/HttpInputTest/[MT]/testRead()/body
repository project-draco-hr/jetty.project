{
  _in.content(new HttpInput.Content(BufferUtil.toBuffer("AB")));
  _in.content(new HttpInput.Content(BufferUtil.toBuffer("CD")));
  _content.offer("EF");
  _content.offer("GH");
  assertThat(_in.available(),equalTo(2));
  assertThat(_in.isFinished(),equalTo(false));
  assertThat(_in.getContentConsumed(),equalTo(0L));
  assertThat(_in.read(),equalTo((int)'A'));
  assertThat(_in.getContentConsumed(),equalTo(1L));
  assertThat(_in.read(),equalTo((int)'B'));
  assertThat(_in.read(),equalTo((int)'C'));
  assertThat(_in.read(),equalTo((int)'D'));
  assertThat(_in.read(),equalTo((int)'E'));
  assertThat(_in.read(),equalTo((int)'F'));
  assertThat(_in.read(),equalTo((int)'G'));
  assertThat(_in.read(),equalTo((int)'H'));
  assertThat(_in.getContentConsumed(),equalTo(8L));
  assertThat(_history.poll(),equalTo("produceContent 2"));
  assertThat(_history.poll(),nullValue());
}
