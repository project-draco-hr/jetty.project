{
  new Thread(){
    public void run(){
      try {
        Thread.sleep(500);
        _in.eof();
      }
 catch (      Throwable th) {
        th.printStackTrace();
      }
    }
  }
.start();
  assertThat(_in.isFinished(),equalTo(false));
  assertThat(_in.read(),equalTo(-1));
  assertThat(_in.isFinished(),equalTo(true));
  assertThat(_history.poll(),equalTo("produceContent 0"));
  assertThat(_history.poll(),equalTo("blockForContent"));
  assertThat(_history.poll(),nullValue());
}
