{
  HttpClient client=new HttpClient();
  client.setConnectorType(HttpClient.CONNECTOR_SELECT_CHANNEL);
  client.start();
  String requestUrl="http://localhost:" + _port + "/header";
  ContentExchange exchange=new ContentExchange();
  exchange.setURL(requestUrl);
  exchange.setMethod(HttpMethods.GET);
  exchange.addRequestHeader("User-Agent","Jetty-Client/7.0");
  client.send(exchange);
  int state=exchange.waitForDone();
  String content="";
  int responseStatus=exchange.getResponseStatus();
  if (responseStatus == HttpStatus.OK_200) {
    content=exchange.getResponseContent();
  }
  assertEquals(HttpStatus.OK_200,responseStatus);
  assertEquals(_content,content);
  assertEquals("Jetty-Client/7.0",_handler.headers.get("User-Agent"));
}
