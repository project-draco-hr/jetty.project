{
  LOG.debug("completed() - frame: {}",frame);
  connection.getBufferPool().release(buffer);
  super.completed(context);
  if (frame.getOpCode() == OpCode.CLOSE) {
    if (connection.getState() == BaseConnection.State.CLOSING) {
      connection.disconnect(false);
    }
 else {
      connection.notifyClosing();
    }
  }
 else {
    connection.flush();
  }
}
