{
  Request base_request=(request instanceof Request) ? (Request)request : HttpConnection.getCurrentConnection().getRequest();
  base_request.setHandled(true);
  if (request.getAuthType() == null || "user".equals(request.getRemoteUser()) || request.isUserInRole("user")) {
    response.setStatus(200);
    response.setContentType("text/plain; charset=UTF-8");
    response.getWriter().println("URI=" + request.getRequestURI());
    String user=request.getRemoteUser();
    response.getWriter().println("user=" + user);
  }
 else   response.sendError(500);
}
