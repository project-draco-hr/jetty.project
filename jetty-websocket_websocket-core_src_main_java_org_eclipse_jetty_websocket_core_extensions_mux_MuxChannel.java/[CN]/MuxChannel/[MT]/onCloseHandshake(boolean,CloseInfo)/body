{
  boolean in=inputClosed.get();
  boolean out=outputClosed.get();
  if (incoming) {
    in=true;
    this.inputClosed.set(true);
  }
 else {
    out=true;
    this.outputClosed.set(true);
  }
  LOG.debug("onCloseHandshake({},{}), input={}, output={}",incoming,close,in,out);
  if (in && out) {
    LOG.debug("Close Handshake satisfied, disconnecting");
    this.disconnect();
  }
  if (close.isHarsh()) {
    LOG.debug("Close status code was harsh, disconnecting");
    this.disconnect();
  }
}
