{
  Servlet s;
synchronized (this) {
    if (_stack.size() > 0)     s=(Servlet)_stack.pop();
 else {
      try {
        s=(Servlet)newInstance();
        s=getServletHandler().customizeServlet(s);
        s.init(_config);
      }
 catch (      ServletException e) {
        throw e;
      }
catch (      IOException e) {
        throw e;
      }
catch (      Exception e) {
        throw new ServletException(e);
      }
    }
  }
  try {
    s.service(req,res);
  }
  finally {
synchronized (this) {
      _stack.push(s);
    }
  }
}
