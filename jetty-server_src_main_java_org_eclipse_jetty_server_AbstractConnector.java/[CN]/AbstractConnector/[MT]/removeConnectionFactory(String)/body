{
synchronized (_factories) {
    ConnectionFactory factory=_factories.remove(protocol.toLowerCase());
    removeBean(factory);
    return factory;
  }
}
