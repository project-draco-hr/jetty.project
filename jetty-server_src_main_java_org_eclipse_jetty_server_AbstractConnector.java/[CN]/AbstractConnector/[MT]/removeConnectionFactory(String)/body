{
synchronized (factories) {
    return factories.remove(protocol);
  }
}
