{
synchronized (_factories) {
    ConnectionFactory factory=_factories.remove(protocol);
    removeBean(factory);
    return factory;
  }
}
