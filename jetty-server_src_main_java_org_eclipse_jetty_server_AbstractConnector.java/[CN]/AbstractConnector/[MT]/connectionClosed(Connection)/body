{
  if (_statsStartedAt.get() == -1)   return;
  long duration=System.currentTimeMillis() - connection.getTimeStamp();
  int requests=(connection instanceof HttpConnection) ? ((HttpConnection)connection).getRequests() : 0;
  _requests.addAndGet(requests);
  _connections.incrementAndGet();
  _connectionsOpen.decrementAndGet();
  _connectionsDurationTotal.addAndGet(duration);
  updateMax(_connectionsDurationMax,duration);
  updateMax(_connectionsRequestsMax,requests);
}
