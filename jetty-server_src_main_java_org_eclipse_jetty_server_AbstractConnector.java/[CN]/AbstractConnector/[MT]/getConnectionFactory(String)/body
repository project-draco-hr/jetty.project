{
synchronized (factories) {
    return factories.get(protocol);
  }
}
