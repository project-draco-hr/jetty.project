{
synchronized (_factories) {
    if (_factories.containsKey(factory.getProtocol()))     return;
    _factories.put(factory.getProtocol().toLowerCase(Locale.ENGLISH),factory);
    addBean(factory);
    if (_defaultProtocol == null)     _defaultProtocol=factory.getProtocol();
  }
}
