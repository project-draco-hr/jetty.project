{
  if (_fileForUpload != null) {
    setRequestContent(null);
    setRequestContentSource(getInputStream());
  }
 else {
    InputStream requestContentStream=getRequestContentSource();
    if (requestContentStream != null) {
      if (requestContentStream.markSupported()) {
        setRequestContent(null);
        requestContentStream.reset();
      }
 else {
        throw new IOException("Unsupported retry attempt");
      }
    }
  }
  super.onRetry();
}
