{
  Class<?> decoderClass=ReflectUtils.findGenericClassFor(decoder,interfaceClass);
  if (decoderClass == null) {
    StringBuilder err=new StringBuilder();
    err.append("Invalid type declared for interface ");
    err.append(interfaceClass.getName());
    err.append(" on class ");
    err.append(decoder);
    throw new IllegalArgumentException(err.toString());
  }
  return decoderClass;
}
