{
  Class<? extends Decoder> decoderClass=metadata.getDecoderClass();
  try {
    Decoder decoder=decoderClass.newInstance();
    return new DecoderWrapper(decoder,metadata);
  }
 catch (  InstantiationException|IllegalAccessException e) {
    throw new IllegalStateException("Unable to instantiate Decoder: " + decoderClass.getName());
  }
}
