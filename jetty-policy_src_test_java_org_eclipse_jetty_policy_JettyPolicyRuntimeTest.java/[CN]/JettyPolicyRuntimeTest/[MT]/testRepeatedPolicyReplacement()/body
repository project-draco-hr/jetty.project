{
  Assume.assumeTrue(!OS.IS_WINDOWS);
  JettyPolicy ap=new JettyPolicy(MavenTestingUtils.getTestResourceDir("runtime-test-2/a").getAbsolutePath(),evaluator);
  ap.refresh();
  Policy.setPolicy(ap);
  System.setSecurityManager(new SecurityManager());
  try {
    File test3=new File("/tmp/foo/bar/do");
    test3.mkdirs();
    test3.delete();
  }
 catch (  AccessControlException ace) {
    ace.printStackTrace(System.err);
    fail("Should NOT have thrown an AccessControlException");
  }
  JettyPolicy ap2=new JettyPolicy(MavenTestingUtils.getTestResourceDir("runtime-test-2/b").getAbsolutePath(),evaluator);
  ap2.refresh();
  Policy.setPolicy(ap2);
  try {
    File test3=new File("/tmp/foo/bar/do");
    test3.mkdirs();
    fail("Should have thrown an AccessControlException");
  }
 catch (  AccessControlException ace) {
  }
}
