{
  super.setContentType(ct);
  if (ct != null) {
    int colon=ct.indexOf(";");
    if (colon > 0)     ct=ct.substring(0,colon);
  }
  if ((_compressedStream == null || _compressedStream.getOutputStream() == null) && (_mimeTypes == null && ct != null && ct.contains("gzip") || _mimeTypes != null && (ct == null || !_mimeTypes.contains(StringUtil.asciiToLowerCase(ct))))) {
    setHeader("Vary",null);
    noCompression();
  }
}
