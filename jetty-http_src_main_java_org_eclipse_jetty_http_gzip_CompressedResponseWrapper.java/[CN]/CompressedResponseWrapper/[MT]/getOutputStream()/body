{
  if (_compressedStream == null) {
    if (getResponse().isCommitted() || _noCompression) {
      setContentLength(_contentLength);
      return getResponse().getOutputStream();
    }
    _compressedStream=newCompressedStream(_request,(HttpServletResponse)getResponse(),_contentLength,_bufferSize,_minCompressSize);
  }
 else   if (_writer != null)   throw new IllegalStateException("getWriter() called");
  return (ServletOutputStream)_compressedStream;
}
