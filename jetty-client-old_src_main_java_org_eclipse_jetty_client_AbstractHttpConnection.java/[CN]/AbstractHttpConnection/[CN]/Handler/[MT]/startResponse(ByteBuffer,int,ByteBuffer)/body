{
  HttpExchange exchange=_exchange;
  if (exchange == null) {
    LOG.warn("No exchange for response");
    _endp.close();
    return;
  }
switch (status) {
case HttpStatus.CONTINUE_100:
case HttpStatus.PROCESSING_102:
    exchange.setEventListener(new NonFinalResponseListener(exchange));
  break;
case HttpStatus.OK_200:
if (HttpMethod.CONNECT.equalsIgnoreCase(exchange.getMethod())) _parser.setHeadResponse(true);
break;
}
_http11=HttpVersion.HTTP_1_1_BUFFER.equals(version);
_status=status;
exchange.getEventListener().onResponseStatus(version,status,reason);
exchange.setStatus(HttpExchange.STATUS_PARSING_HEADERS);
}
