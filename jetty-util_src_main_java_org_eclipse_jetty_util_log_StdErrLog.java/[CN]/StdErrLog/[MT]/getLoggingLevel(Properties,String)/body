{
  String nameSegment=name;
  while ((nameSegment != null) && (nameSegment.length() > 0)) {
    String levelStr=props.getProperty(nameSegment + ".LEVEL");
    if (levelStr == null) {
      int idx=nameSegment.lastIndexOf('.');
      if (idx >= 0) {
        nameSegment=nameSegment.substring(0,idx);
      }
 else {
        nameSegment=null;
      }
    }
 else {
      int level=getLevelId(levelStr);
      if (level != (-1)) {
        return level;
      }
    }
  }
  return getLevelId(props.getProperty("log.LEVEL","INFO"));
}
