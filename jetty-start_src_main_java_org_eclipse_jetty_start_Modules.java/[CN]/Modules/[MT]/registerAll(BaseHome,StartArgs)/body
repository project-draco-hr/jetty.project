{
  for (  Path path : basehome.getPaths("modules/*.mod")) {
    registerModule(basehome,args,path);
  }
  boolean done=false;
  while (!done) {
    done=true;
    Set<String> missingParents=new HashSet<>();
    for (    Module m : modules.values()) {
      for (      String parent : m.getParentNames()) {
        if (modules.containsKey(parent) || missingModules.contains(parent)) {
          continue;
        }
        done=false;
        missingParents.add(parent);
      }
    }
    for (    String missingParent : missingParents) {
      Path file=basehome.getPath("modules/" + missingParent + ".mod");
      if (FS.canReadFile(file)) {
        Module module=registerModule(basehome,args,file);
        updateParentReferencesTo(module);
      }
 else {
        StartLog.debug("Missing module definition: [ Mod: %s | File: %s]",missingParent,file);
        missingModules.add(missingParent);
      }
    }
  }
}
