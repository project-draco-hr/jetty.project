{
  if (module.isEnabled()) {
    return;
  }
  StartLog.debug("Enabling module: %s (via %s)",module.getName(),Main.join(sources,", "));
  module.setEnabled(true);
  args.parseModule(module);
  module.expandProperties(args.getProperties());
  if (sources != null) {
    module.addSources(sources);
  }
  Set<String> parentNames=new HashSet<>();
  parentNames.addAll(module.getParentNames());
  for (  String name : parentNames) {
    StartLog.debug("Enable parent '%s' of module: %s",name,module.getName());
    Module parent=modules.get(name);
    if (parent == null) {
      Path file=baseHome.getPath("modules/" + name + ".mod");
      if (FS.canReadFile(file)) {
        parent=registerModule(file);
        updateParentReferencesTo(parent);
      }
 else {
        StartLog.debug("Missing module definition: [ Mod: %s | File: %s ]",name,file);
        missingModules.add(name);
      }
    }
    if (parent != null) {
      enableModule(parent,sources);
    }
  }
}
