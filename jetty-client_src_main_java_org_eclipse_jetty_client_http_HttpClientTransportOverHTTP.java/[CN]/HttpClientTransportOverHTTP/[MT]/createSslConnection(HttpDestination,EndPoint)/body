{
  HttpClient httpClient=destination.getHttpClient();
  SslContextFactory sslContextFactory=httpClient.getSslContextFactory();
  SSLEngine engine=sslContextFactory.newSSLEngine(destination.getHost(),destination.getPort());
  engine.setUseClientMode(true);
  SslConnection sslConnection=newSslConnection(httpClient,endPoint,engine);
  sslConnection.setRenegotiationAllowed(sslContextFactory.isRenegotiationAllowed());
  endPoint.setConnection(sslConnection);
  EndPoint appEndPoint=sslConnection.getDecryptedEndPoint();
  Connection connection=newHttpConnection(httpClient,appEndPoint,destination);
  appEndPoint.setConnection(connection);
  return sslConnection;
}
