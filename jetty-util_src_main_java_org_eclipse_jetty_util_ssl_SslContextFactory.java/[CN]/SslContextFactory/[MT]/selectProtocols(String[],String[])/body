{
  Set<String> selected_protocols=new LinkedHashSet<String>();
  if (_includeProtocols != null) {
    for (    String protocol : _includeProtocols)     if (Arrays.asList(supportedProtocols).contains(protocol))     selected_protocols.add(protocol);
  }
 else   selected_protocols.addAll(Arrays.asList(enabledProtocols));
  if (_excludeProtocols != null)   selected_protocols.removeAll(_excludeProtocols);
  return selected_protocols.toArray(new String[selected_protocols.size()]);
}
