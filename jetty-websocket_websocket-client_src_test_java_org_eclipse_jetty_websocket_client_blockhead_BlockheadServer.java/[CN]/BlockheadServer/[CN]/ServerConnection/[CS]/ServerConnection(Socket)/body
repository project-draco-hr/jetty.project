{
  this.socket=socket;
  this.incomingFrames=new IncomingFramesCapture();
  this.policy=WebSocketPolicy.newServerPolicy();
  this.bufferPool=new MappedByteBufferPool(BUFFER_SIZE);
  this.parser=new Parser(policy);
  this.parseCount=new AtomicInteger(0);
  this.generator=new Generator(policy,bufferPool,false);
  this.extensionRegistry=new WebSocketExtensionRegistry(policy,bufferPool);
}
