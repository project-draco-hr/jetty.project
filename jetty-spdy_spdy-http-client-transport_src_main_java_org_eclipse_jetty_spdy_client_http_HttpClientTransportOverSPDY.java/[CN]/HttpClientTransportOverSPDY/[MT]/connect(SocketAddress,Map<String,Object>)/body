{
  final HttpDestination destination=(HttpDestination)context.get(HTTP_DESTINATION_CONTEXT_KEY);
  @SuppressWarnings("unchecked") final Promise<Connection> promise=(Promise<Connection>)context.get(HTTP_CONNECTION_PROMISE_CONTEXT_KEY);
  SessionFrameListener.Adapter listener=new SessionFrameListener.Adapter(){
    @Override public void onFailure(    Session session,    Throwable x){
      destination.abort(x);
    }
  }
;
  client.connect(address,listener,new Promise<Session>(){
    @Override public void succeeded(    Session session){
      promise.succeeded(new HttpConnectionOverSPDY(destination,session));
    }
    @Override public void failed(    Throwable x){
      promise.failed(x);
    }
  }
,context);
}
