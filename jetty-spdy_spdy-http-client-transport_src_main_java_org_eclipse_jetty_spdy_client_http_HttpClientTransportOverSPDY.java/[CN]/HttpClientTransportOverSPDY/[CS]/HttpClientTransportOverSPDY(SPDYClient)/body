{
  this.client=client;
  this.connectionFactory=client.getClientConnectionFactory();
  client.setClientConnectionFactory(new ClientConnectionFactory(){
    @Override public org.eclipse.jetty.io.Connection newConnection(    EndPoint endPoint,    Map<String,Object> context) throws IOException {
      HttpDestination destination=(HttpDestination)context.get(HTTP_DESTINATION_CONTEXT_KEY);
      return destination.getClientConnectionFactory().newConnection(endPoint,context);
    }
  }
);
}
