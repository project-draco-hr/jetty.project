{
  ByteBuffer payload=frame.getPayload();
  int length=payload != null ? payload.remaining() : 0;
  if (OpCode.isControlFrame(frame.getOpCode()) || maxLength <= 0 || length <= maxLength) {
    nextOutgoingFrame(frame,callback);
    return;
  }
  FrameEntry entry=new FrameEntry(frame,callback);
  LOG.debug("Queuing {}",entry);
  entries.offer(entry);
  flusher.iterate();
}
