{
  final CountDownLatch pingLatch=new CountDownLatch(1);
  ServerSessionFrameListener serverSessionFrameListener=new ServerSessionFrameListener.Adapter(){
    public volatile int pingId;
    @Override public void onConnect(    Session session){
      PingInfo pingInfo=session.ping(SPDY.V2);
      this.pingId=pingInfo.getPingId();
    }
    @Override public void onPing(    Session session,    PingInfo pingInfo){
      Assert.assertEquals(0,pingInfo.getPingId() % 2);
      Assert.assertEquals(pingId,pingInfo.getPingId());
      pingLatch.countDown();
    }
  }
;
  startClient(startSPDYServer(serverSessionFrameListener),null);
  Assert.assertTrue(pingLatch.await(5,TimeUnit.SECONDS));
}
