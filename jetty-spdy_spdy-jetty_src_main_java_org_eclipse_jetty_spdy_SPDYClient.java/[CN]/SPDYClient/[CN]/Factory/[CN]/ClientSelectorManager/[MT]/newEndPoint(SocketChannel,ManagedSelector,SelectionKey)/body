{
  SessionPromise attachment=(SessionPromise)selectionKey.attachment();
  long maxIdleTime=attachment.client.getMaxIdleTime();
  if (maxIdleTime < 0)   maxIdleTime=getIdleTimeout();
  return new SelectChannelEndPoint(channel,selectSet,selectionKey,maxIdleTime);
}
