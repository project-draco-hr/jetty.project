{
  SessionPromise attachment=(SessionPromise)key.attachment();
  long clientIdleTimeout=attachment.client.getIdleTimeout();
  if (clientIdleTimeout < 0)   clientIdleTimeout=idleTimeout;
  AsyncEndPoint result=new SelectChannelEndPoint(channel,selectSet,key,scheduler,clientIdleTimeout);
  return result;
}
