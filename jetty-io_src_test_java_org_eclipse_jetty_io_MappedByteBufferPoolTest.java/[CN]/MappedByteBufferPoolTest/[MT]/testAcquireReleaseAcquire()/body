{
  MappedByteBufferPool bufferPool=new MappedByteBufferPool();
  ConcurrentMap<Integer,Queue<ByteBuffer>> buffers=bufferPool.buffersFor(false);
  ByteBuffer buffer1=bufferPool.acquire(512,false);
  bufferPool.release(buffer1);
  ByteBuffer buffer2=bufferPool.acquire(512,false);
  assertSame(buffer1,buffer2);
  bufferPool.release(buffer2);
  assertEquals(1,buffers.size());
}
