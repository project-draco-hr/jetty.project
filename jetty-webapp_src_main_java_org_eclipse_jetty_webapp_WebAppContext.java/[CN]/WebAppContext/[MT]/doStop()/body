{
  super.doStop();
  try {
    for (int i=_configurations.length; i-- > 0; )     _configurations[i].deconfigure(this);
    _configurations=null;
    if (_securityHandler != null && _securityHandler.getHandler() == null) {
      _sessionHandler.setHandler(_securityHandler);
      _securityHandler.setHandler(_servletHandler);
    }
  }
  finally {
    if (_ownClassLoader)     setClassLoader(null);
    setAvailable(true);
    _unavailableException=null;
  }
}
