{
  super.doStop();
  try {
    for (int i=_configurations.length; i-- > 0; )     _configurations[i].deconfigureWebApp();
    _configurations=null;
    if (_securityHandler.getHandler() == null) {
      _sessionHandler.setHandler(_securityHandler);
      _securityHandler.setHandler(_servletHandler);
    }
    if (_tmpDir != null && !_isExistingTmpDir && !isTempWorkDirectory()) {
      IO.delete(_tmpDir);
      _tmpDir=null;
    }
  }
  finally {
    if (_ownClassLoader)     setClassLoader(null);
    _unavailable=false;
    _unavailableException=null;
  }
}
