{
  super(SESSIONS | SECURITY);
  if (template.isStarted())   throw new IllegalArgumentException("template is started");
  _scontext=new Context();
  setErrorHandler(new ErrorPageErrorHandler());
  _metadata=template.getMetaData();
  _configurations=new Configuration[]{new MetaDataConfiguration(template)};
  setAliases(template.isAliases());
  setBaseResource(template.getBaseResource());
  setClassLoader(template.getClassLoader());
  setContextPath(template.getContextPath());
  setCompactPath(template.isCompactPath());
  setDisplayName(template.getDisplayName());
  setLogger(template.getLogger());
  setMaxFormContentSize(template.getMaxFormContentSize());
  Decorator decorator=template.getDecorator();
  if (decorator != null)   setDecorator(decorator.cloneFor(this));
  Enumeration names=template.getAttributeNames();
  while (names.hasMoreElements()) {
    String name=(String)names.nextElement();
    Object val=template.getAttribute(name);
    if (!name.startsWith("javax.servlet."))     setAttribute(name,val);
  }
}
