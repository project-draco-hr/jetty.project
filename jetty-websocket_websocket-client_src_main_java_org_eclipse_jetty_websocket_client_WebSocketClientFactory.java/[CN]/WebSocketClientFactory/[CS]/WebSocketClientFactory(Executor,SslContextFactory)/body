{
  if (threadPool == null) {
    threadPool=new QueuedThreadPool();
  }
  this.executor=threadPool;
  addBean(threadPool);
  if (sslContextFactory != null) {
    addBean(sslContextFactory);
  }
  selector=new WebSocketClientSelectorManager(bufferPool,executor);
  selector.setSslContextFactory(sslContextFactory);
  addBean(selector);
  this.methodsCache=new EventMethodsCache();
  this.policy=WebSocketPolicy.newClientPolicy();
}
