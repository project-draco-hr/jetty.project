{
  if (executor == null)   throw new IllegalArgumentException("Executor is required");
  this.executor=executor;
  addBean(executor);
  if (scheduler == null)   throw new IllegalArgumentException("Scheduler is required");
  this.scheduler=scheduler;
  if (sslContextFactory != null)   addBean(sslContextFactory);
  this.policy=WebSocketPolicy.newClientPolicy();
  selector=new WebSocketClientSelectorManager(bufferPool,executor,scheduler,policy);
  selector.setSslContextFactory(sslContextFactory);
  addBean(selector);
  this.methodsCache=new EventMethodsCache();
}
