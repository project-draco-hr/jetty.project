{
  LOG.debug("Request {} {} content {} {}",request,stream,state,buffer);
  while (buffer.hasRemaining()) {
switch (state) {
case HEADERS:
{
        if (httpParser.parseHeaders(buffer))         state=State.CONTENT;
        break;
      }
case CONTENT:
{
      if (httpParser.parseContent(buffer))       reset();
      break;
    }
default :
{
    throw new IllegalStateException();
  }
}
}
}
