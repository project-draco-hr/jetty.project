{
  chain.doFilter(request,new HttpServletResponseWrapper(response){
    @Override public void setHeader(    String name,    String value){
      if ("Allow".equalsIgnoreCase(name)) {
        Set<String> options=new HashSet<String>();
        options.addAll(Arrays.asList(value.split(" *, *")));
        options.addAll(_operations);
        value=null;
        for (        String o : options)         value=value == null ? o : (value + ", " + o);
      }
      super.setHeader(name,value);
    }
  }
);
}
