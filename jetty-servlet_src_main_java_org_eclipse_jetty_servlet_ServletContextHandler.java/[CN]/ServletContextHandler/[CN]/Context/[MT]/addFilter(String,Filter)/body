{
  if (isStarted())   throw new IllegalStateException();
  if (!_enabled)   throw new UnsupportedOperationException();
  final ServletHandler handler=ServletContextHandler.this.getServletHandler();
  final FilterHolder holder=handler.newFilterHolder(Holder.Source.JAVAX_API);
  holder.setName(filterName);
  holder.setFilter(filter);
  handler.addFilter(holder);
  return holder.getRegistration();
}
