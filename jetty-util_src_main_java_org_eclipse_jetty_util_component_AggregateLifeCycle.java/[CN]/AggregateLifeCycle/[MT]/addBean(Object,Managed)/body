{
  if (contains(o))   return false;
  Bean b=new Bean(o);
  b._managed=managed;
  _beans.add(b);
  if (_started) {
    try {
      if (o instanceof LifeCycle) {
        LifeCycle l=(LifeCycle)o;
switch (b._managed) {
case MANAGED:
          if (!l.isRunning())           l.start();
        break;
case AUTO:
      if (l.isRunning())       b._managed=Managed.UNMANAGED;
 else {
        b._managed=Managed.MANAGED;
        l.start();
      }
    break;
}
}
}
 catch (Exception e) {
throw new RuntimeException(e);
}
}
return true;
}
