{
  try {
    String bs=getInitParameter("bufferSize");
    _webSocketFactory=new WebSocketFactory(this,bs == null ? 8192 : Integer.parseInt(bs));
    _webSocketFactory.start();
    String max=getInitParameter("maxIdleTime");
    if (max != null)     _webSocketFactory.setMaxIdleTime(Integer.parseInt(max));
    max=getInitParameter("maxTextMessageSize");
    if (max != null)     _webSocketFactory.setMaxTextMessageSize(Integer.parseInt(max));
    max=getInitParameter("maxBinaryMessageSize");
    if (max != null)     _webSocketFactory.setMaxBinaryMessageSize(Integer.parseInt(max));
    String min=getInitParameter("minVersion");
    if (min != null)     _webSocketFactory.setMinVersion(Integer.parseInt(min));
  }
 catch (  ServletException x) {
    throw x;
  }
catch (  Exception x) {
    throw new ServletException(x);
  }
}
