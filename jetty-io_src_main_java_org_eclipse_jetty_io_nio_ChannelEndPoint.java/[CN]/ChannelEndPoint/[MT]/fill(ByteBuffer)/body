{
  if (_ishut)   return -1;
  int pos=buffer.position();
  try {
    buffer.position(buffer.limit());
    buffer.limit(buffer.capacity());
    int filled=_channel.read(buffer);
    if (filled == -1)     shutdownInput();
    return filled;
  }
  finally {
    buffer.limit(buffer.position());
    buffer.position(pos);
  }
}
