{
  try {
    if (isRunning())     throw new IllegalStateException(RUNNING);
    Handler old_handler=_handler;
    if (getServer() != null)     getServer().getContainer().update(this,old_handler,handler,"handler");
    if (handler != null) {
      handler.setServer(getServer());
      if (isStarted())       handler.start();
    }
    _handler=handler;
    if (isStarted())     old_handler.stop();
  }
 catch (  Error e) {
    throw e;
  }
catch (  RuntimeException e) {
    throw e;
  }
catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
