{
  while (true) {
switch (_state.get()) {
case OPEN:
      return true;
case ASYNC:
    if (!_state.compareAndSet(State.ASYNC,State.READY))     continue;
  System.err.println("isReady ASYNC -> READY");
return true;
case READY:
return true;
case PENDING:
if (!_state.compareAndSet(State.PENDING,State.UNREADY)) continue;
System.err.println("isReady PENDING -> UNREADY");
return false;
case UNREADY:
return false;
case CLOSED:
return false;
}
}
}
