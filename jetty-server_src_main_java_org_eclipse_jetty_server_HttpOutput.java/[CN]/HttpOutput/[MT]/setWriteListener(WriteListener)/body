{
  if (!_channel.getState().isAsync())   throw new IllegalStateException("!ASYNC");
  if (_state.compareAndSet(OutputState.OPEN,OutputState.READY)) {
    _writeListener=writeListener;
    _channel.getState().onWritePossible();
  }
 else   throw new IllegalStateException();
}
