{
  if (_onError != null) {
    Throwable th=_onError;
    _onError=null;
    _writeListener.onError(th);
    close();
  }
  if (_state.get() == OutputState.READY) {
    try {
      _writeListener.onWritePossible();
    }
 catch (    Throwable e) {
      _writeListener.onError(e);
      close();
    }
  }
}
