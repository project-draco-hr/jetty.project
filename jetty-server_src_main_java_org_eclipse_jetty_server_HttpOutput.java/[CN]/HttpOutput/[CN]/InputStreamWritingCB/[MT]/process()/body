{
  int len=_in.read(_buffer.array(),0,_buffer.capacity());
  if (len == -1) {
    _channel.getByteBufferPool().release(_buffer);
    return true;
  }
  boolean eof=false;
  if (len < _buffer.capacity()) {
    int len2=_in.read(_buffer.array(),len,_buffer.capacity() - len);
    if (len2 < 0)     eof=true;
 else     len+=len2;
  }
  _buffer.position(0);
  _buffer.limit(len);
  _channel.write(_buffer,eof,this);
  return false;
}
