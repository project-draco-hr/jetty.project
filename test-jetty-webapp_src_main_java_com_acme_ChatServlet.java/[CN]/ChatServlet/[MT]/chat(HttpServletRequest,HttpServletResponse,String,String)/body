{
  Map<String,Member> room=_rooms.get(request.getPathInfo());
  if (room != null) {
    for (    Member m : room.values()) {
synchronized (m) {
        m._queue.add(username);
        m._queue.add(message);
        if (m._continuation != null) {
          m._continuation.resume();
          m._continuation=null;
        }
      }
    }
  }
  response.setContentType("text/json;charset=utf-8");
  PrintWriter out=response.getWriter();
  out.print("{action:\"chat\"}");
}
