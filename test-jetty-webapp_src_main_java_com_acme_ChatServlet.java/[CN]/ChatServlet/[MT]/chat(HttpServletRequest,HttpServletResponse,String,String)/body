{
  Map<String,Member> room=_rooms.get(request.getPathInfo());
  if (room != null) {
    for (    Member m : room.values()) {
synchronized (m) {
        m._queue.add(username);
        m._queue.add(message);
        AsyncContext async=m._async.get();
        if (async != null & m._async.compareAndSet(async,null))         async.dispatch();
      }
    }
  }
  response.setContentType("text/json;charset=utf-8");
  PrintWriter out=response.getWriter();
  out.print("{action:\"chat\"}");
}
