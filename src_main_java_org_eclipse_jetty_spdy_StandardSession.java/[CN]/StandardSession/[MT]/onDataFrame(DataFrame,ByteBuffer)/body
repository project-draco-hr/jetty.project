{
  logger.debug("Processing {}, {} data bytes",frame,data.remaining());
  if (goAwaySent.get()) {
    logger.debug("Skipped processing of {}",frame);
    return;
  }
  int streamId=frame.getStreamId();
  IStream stream=streams.get(streamId);
  if (stream == null) {
    rst(SPDY.V2,new RstInfo(streamId,StreamStatus.INVALID_STREAM));
  }
 else {
    stream.handle(frame,data);
    flush();
    if (stream.isClosed()) {
      updateLastStreamId(stream);
      removeStream(stream);
    }
  }
}
