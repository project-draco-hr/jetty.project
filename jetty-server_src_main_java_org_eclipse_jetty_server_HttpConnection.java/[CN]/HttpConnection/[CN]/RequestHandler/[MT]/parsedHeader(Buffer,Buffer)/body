{
  int ho=HttpHeaders.CACHE.getOrdinal(name);
switch (ho) {
case HttpHeaders.HOST_ORDINAL:
    _host=true;
  break;
case HttpHeaders.EXPECT_ORDINAL:
value=HttpHeaderValues.CACHE.lookup(value);
_expect=HttpHeaderValues.CACHE.getOrdinal(value);
break;
case HttpHeaders.ACCEPT_ENCODING_ORDINAL:
case HttpHeaders.USER_AGENT_ORDINAL:
value=HttpHeaderValues.CACHE.lookup(value);
break;
case HttpHeaders.CONTENT_TYPE_ORDINAL:
value=MimeTypes.CACHE.lookup(value);
_charset=MimeTypes.getCharsetFromContentType(value);
break;
case HttpHeaders.CONNECTION_ORDINAL:
int ordinal=HttpHeaderValues.CACHE.getOrdinal(value);
switch (ordinal) {
case -1:
{
String[] values=value.toString().split(",");
for (int i=0; values != null && i < values.length; i++) {
CachedBuffer cb=HttpHeaderValues.CACHE.get(values[i].trim());
if (cb != null) {
switch (cb.getOrdinal()) {
case HttpHeaderValues.CLOSE_ORDINAL:
_responseFields.add(HttpHeaders.CONNECTION_BUFFER,HttpHeaderValues.CLOSE_BUFFER);
_generator.setPersistent(false);
break;
case HttpHeaderValues.KEEP_ALIVE_ORDINAL:
if (_version == HttpVersions.HTTP_1_0_ORDINAL) _responseFields.add(HttpHeaders.CONNECTION_BUFFER,HttpHeaderValues.KEEP_ALIVE_BUFFER);
break;
}
}
}
break;
}
case HttpHeaderValues.CLOSE_ORDINAL:
_responseFields.put(HttpHeaders.CONNECTION_BUFFER,HttpHeaderValues.CLOSE_BUFFER);
_generator.setPersistent(false);
break;
case HttpHeaderValues.KEEP_ALIVE_ORDINAL:
if (_version == HttpVersions.HTTP_1_0_ORDINAL) _responseFields.put(HttpHeaders.CONNECTION_BUFFER,HttpHeaderValues.KEEP_ALIVE_BUFFER);
break;
}
}
_requestFields.add(name,value);
}
