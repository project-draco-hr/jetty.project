{
  boolean parsed_event=false;
  while (getEndPoint().isOpen()) {
    try {
      System.err.println("blockForContent: " + BufferUtil.toDetailString(_requestBuffer));
      if (BufferUtil.isEmpty(_requestBuffer)) {
        FutureCallback<Void> block=new FutureCallback<>();
        getEndPoint().readable(null,block);
        block.get();
        if (_requestBuffer == null)         _requestBuffer=_bufferPool.acquire(_connector.getRequestBufferSize(),false);
        int filled=getEndPoint().fill(_requestBuffer);
        LOG.debug("{} filled {}",this,filled);
      }
      while (BufferUtil.hasContent(_requestBuffer) && _parser.inContentState())       parsed_event|=_parser.parseNext(_requestBuffer);
      if (parsed_event)       return;
    }
 catch (    InterruptedException e) {
      LOG.debug(e);
    }
catch (    ExecutionException e) {
      LOG.debug(e);
      FutureCallback.rethrow(e);
    }
 finally {
      if (_requestBuffer != null && !_requestBuffer.hasRemaining() && _channel.available() == 0) {
        _bufferPool.release(_requestBuffer);
        _requestBuffer=null;
      }
    }
  }
}
