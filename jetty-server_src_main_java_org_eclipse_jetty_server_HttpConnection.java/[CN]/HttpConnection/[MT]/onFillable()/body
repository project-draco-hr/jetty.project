{
  if (LOG.isDebugEnabled())   LOG.debug("{} onFillable enter {}",this,_channel.getState());
  final HttpConnection last=setCurrentConnection(this);
  final boolean handling=!_channel.getState().isIdle();
  try {
    while (true) {
      int filled=fillRequestBuffer();
      boolean handle=parseRequestBuffer();
      if (_parser.isClose()) {
        close();
        break;
      }
      if (handle) {
        boolean suspended=!_channel.handle();
        if (suspended || getEndPoint().getConnection() != this || handling)         break;
      }
 else       if (filled <= 0) {
        if (filled == 0)         fillInterested();
        break;
      }
    }
  }
  finally {
    setCurrentConnection(last);
    if (LOG.isDebugEnabled())     LOG.debug("{} onFillable exit {}",this,_channel.getState());
  }
}
