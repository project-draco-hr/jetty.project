{
  _uri=URIUtil.__CHARSET == StringUtil.__UTF8 ? new HttpURI() : new EncodedHttpURI(URIUtil.__CHARSET);
  _connector=connector;
  _endp=endpoint;
  _parser=new HttpParser(_connector,endpoint,new RequestHandler(),_connector.getHeaderBufferSize(),_connector.getRequestBufferSize());
  _requestFields=new HttpFields();
  _responseFields=new HttpFields();
  _request=new Request(this);
  _response=new Response(this);
  _generator=new HttpGenerator(_connector,_endp,_connector.getHeaderBufferSize(),_connector.getResponseBufferSize());
  _generator.setSendServerVersion(server.getSendServerVersion());
  _server=server;
}
