{
  if (baseRequest.isHandled()) {
    return;
  }
  if (request.getRequestURI().equals(_fromURI)) {
    _redirectCount++;
    String location=(_redirectCount <= _maxRedirects) ? _fromURI : _toURL;
    response.setStatus(_code);
    response.setHeader("Location",location);
    ((Request)request).setHandled(true);
  }
 else {
    PrintWriter out=response.getWriter();
    out.write(_content);
    baseRequest.setHandled(true);
  }
}
