{
  Response response=newResponse();
  response.setContentType("foo/bar; other=xyz");
  assertEquals("foo/bar; other=xyz",response.getContentType());
  response.getWriter();
  assertEquals("foo/bar; other=xyz; charset=ISO-8859-1",response.getContentType());
  response.setContentType("foo2/bar2");
  assertEquals("foo2/bar2; charset=ISO-8859-1",response.getContentType());
  response.recycle();
  response.setCharacterEncoding("utf-8");
  response.setContentType("text/html; other=xyz");
  assertEquals("text/html; other=xyz; charset=UTF-8",response.getContentType());
  response.getWriter();
  assertEquals("text/html; other=xyz; charset=UTF-8",response.getContentType());
  response.setContentType("text/xml");
  assertEquals("text/xml; charset=UTF-8",response.getContentType());
}
