{
  _server=new Server();
  _scheduler=new TimerScheduler();
  HttpConfiguration config=new HttpConfiguration();
  LocalConnector connector=new LocalConnector(_server,null,_scheduler,null,1,new HttpConnectionFactory(config));
  _server.addConnector(connector);
  _server.setHandler(new DumpHandler());
  _server.start();
  AbstractEndPoint endp=new ByteArrayEndPoint(_scheduler,5000);
  ByteBufferHttpInput input=new ByteBufferHttpInput();
  _channel=new HttpChannel<ByteBuffer>(connector,new HttpConfiguration(),endp,new HttpTransport(){
    @Override public void send(    HttpGenerator.ResponseInfo info,    ByteBuffer content,    boolean lastContent) throws IOException {
    }
    @Override public <C>void send(    ResponseInfo info,    ByteBuffer content,    boolean lastContent,    C context,    Callback<C> callback){
    }
    @Override public void completed(){
    }
  }
,input);
}
