{
  _host=host;
  _port=port;
  _protocol=protocol;
  _socket=new Socket(host,port);
  _socket.setSoTimeout(timeoutMS);
  _output=new BufferedWriter(new OutputStreamWriter(_socket.getOutputStream(),"ISO-8859-1"));
  _input=new BufferedReader(new InputStreamReader(_socket.getInputStream(),"ISO-8859-1"));
  _endp=new SocketEndPoint(_socket);
  _generator=new WebSocketGeneratorD07(new WebSocketBuffers(32 * 1024),_endp,new WebSocketGeneratorD07.FixedMaskGen(new byte[4]));
  _parser=new WebSocketParserD07(new WebSocketBuffers(32 * 1024),_endp,_handler,false);
}
