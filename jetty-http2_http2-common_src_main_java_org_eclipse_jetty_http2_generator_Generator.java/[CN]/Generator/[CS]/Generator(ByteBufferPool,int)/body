{
  this.byteBufferPool=byteBufferPool;
  headerGenerator=new HeaderGenerator();
  hpackEncoder=new HpackEncoder(headerTableSize);
  this.generators=new FrameGenerator[FrameType.values().length];
  this.generators[FrameType.HEADERS.getType()]=new HeadersGenerator(headerGenerator,hpackEncoder);
  this.generators[FrameType.PRIORITY.getType()]=new PriorityGenerator(headerGenerator);
  this.generators[FrameType.RST_STREAM.getType()]=new ResetGenerator(headerGenerator);
  this.generators[FrameType.SETTINGS.getType()]=new SettingsGenerator(headerGenerator);
  this.generators[FrameType.PUSH_PROMISE.getType()]=new PushPromiseGenerator(headerGenerator,hpackEncoder);
  this.generators[FrameType.PING.getType()]=new PingGenerator(headerGenerator);
  this.generators[FrameType.GO_AWAY.getType()]=new GoAwayGenerator(headerGenerator);
  this.generators[FrameType.WINDOW_UPDATE.getType()]=new WindowUpdateGenerator(headerGenerator);
  this.generators[FrameType.CONTINUATION.getType()]=null;
  this.dataGenerator=new DataGenerator(headerGenerator);
}
