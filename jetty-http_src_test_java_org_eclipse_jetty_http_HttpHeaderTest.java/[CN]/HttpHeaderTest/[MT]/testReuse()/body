{
  HttpFields header=new HttpFields();
  Buffer n1=new ByteArrayBuffer("name1");
  Buffer va=new ByteArrayBuffer("value1");
  Buffer vb=new ByteArrayBuffer(10);
  vb.put((byte)'v');
  vb.put((byte)'a');
  vb.put((byte)'l');
  vb.put((byte)'u');
  vb.put((byte)'e');
  vb.put((byte)'1');
  header.put("name0","value0");
  header.put(n1,va);
  header.put("name2","value2");
  assertEquals("value0",header.getStringField("name0"));
  assertEquals("value1",header.getStringField("name1"));
  assertEquals("value2",header.getStringField("name2"));
  assertEquals(null,header.getStringField("name3"));
  header.remove(n1);
  assertEquals(null,header.getStringField("name1"));
  header.put(n1,vb);
  assertEquals("value1",header.getStringField("name1"));
  int matches=0;
  Enumeration e=header.getFieldNames();
  while (e.hasMoreElements()) {
    Object o=e.nextElement();
    if ("name0".equals(o))     matches++;
    if ("name1".equals(o))     matches++;
    if ("name2".equals(o))     matches++;
  }
  assertEquals(3,matches);
  matches=0;
  e=header.getValues("name1");
  assertEquals(true,e.hasMoreElements());
  assertEquals(e.nextElement(),"value1");
  assertEquals(false,e.hasMoreElements());
}
