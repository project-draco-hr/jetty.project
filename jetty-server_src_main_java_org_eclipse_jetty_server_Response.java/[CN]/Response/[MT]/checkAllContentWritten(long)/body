{
  if (_contentLength > 0 && written >= _contentLength) {
switch (_outputState) {
case WRITER:
      _writer.close();
    break;
case STREAM:
  try {
    getOutputStream().close();
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
}
}
}
