{
  if (_contentLength >= 0 && written >= _contentLength) {
    try {
switch (_outputState) {
case WRITER:
        _writer.close();
      break;
case STREAM:
    getOutputStream().close();
}
}
 catch (IOException e) {
throw new RuntimeException(e);
}
}
}
