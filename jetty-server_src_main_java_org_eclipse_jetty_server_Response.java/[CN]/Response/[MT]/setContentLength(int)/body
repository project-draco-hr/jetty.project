{
  if (isCommitted() || isIncluding())   return;
  long written=_out.getWritten();
  if (written > len)   throw new IllegalArgumentException("setContent(" + len + ") when already written "+ written);
  _contentLength=len;
  _fields.putLongField(HttpHeader.CONTENT_LENGTH.toString(),len);
  if (_contentLength > 0)   checkAllContentWritten(written);
}
