{
  if (isCommitted() || isIncluding())   return;
  long written=_out.getWritten();
  if (written > len)   throw new IllegalArgumentException("setContentLength(" + len + ") when already written "+ written);
  _contentLength=len;
  _fields.putLongField(HttpHeader.CONTENT_LENGTH.toString(),len);
  if (_contentLength > 0) {
    try {
      checkAllContentWritten(written);
    }
 catch (    IOException e) {
      throw new RuntimeIOException(e);
    }
  }
}
