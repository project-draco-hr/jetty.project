{
  InnerBuffers buffers=new InnerBuffers(128,256);
  Buffer h1=buffers.getHeader();
  Buffer h2=buffers.getHeader();
  Buffer b1=buffers.getBuffer();
  Buffer b2=buffers.getBuffer();
  Buffer b3=buffers.getBuffer(512);
  buffers.returnBuffer(h1);
  buffers.returnBuffer(h2);
  buffers.returnBuffer(b1);
  buffers.returnBuffer(b2);
  buffers.returnBuffer(b3);
  assertTrue(h1 == buffers.getHeader());
  assertTrue(h2 != buffers.getHeader());
  assertTrue(b1 == buffers.getBuffer());
  assertTrue(b2 != buffers.getBuffer());
  assertTrue(b3 == buffers.getBuffer(512));
  buffers.returnBuffer(h1);
  buffers.returnBuffer(h2);
  buffers.returnBuffer(b1);
  assertTrue(h1 == buffers.getHeader());
  assertTrue(h2 == buffers.getHeader());
  assertTrue(b1 == buffers.getBuffer());
  assertTrue(b2 != buffers.getBuffer());
  assertTrue(b3 != buffers.getBuffer(512));
  buffers.returnBuffer(b3);
  buffers.returnBuffer(b1);
  buffers.returnBuffer(b2);
  buffers.returnBuffer(h1);
  buffers.returnBuffer(h2);
  assertTrue(h1 == buffers.getHeader());
  assertTrue(h2 == buffers.getHeader());
  assertTrue(b1 == buffers.getBuffer());
  assertTrue(b2 != buffers.getBuffer());
  assertTrue(b3 != buffers.getBuffer(512));
}
