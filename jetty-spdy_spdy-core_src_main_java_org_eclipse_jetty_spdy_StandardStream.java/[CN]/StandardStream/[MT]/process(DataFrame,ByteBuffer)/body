{
  if (!canReceive()) {
    session.rst(new RstInfo(getId(),StreamStatus.PROTOCOL_ERROR));
    return;
  }
  updateCloseState(frame.isClose(),false);
  ByteBufferDataInfo dataInfo=new ByteBufferDataInfo(data,frame.isClose(),frame.isCompress()){
    @Override public void consume(    int delta){
      super.consume(delta);
      if (consumed() == length() && !isClosed())       windowUpdate(length());
    }
  }
;
  notifyOnData(dataInfo);
  session.flush();
}
