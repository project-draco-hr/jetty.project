{
  if (_file == null) {
    _file=new File(_tmpDir,fileName);
    if (_deleteOnExit)     _file.deleteOnExit();
    BufferedOutputStream bos=null;
    try {
      bos=new BufferedOutputStream(new FileOutputStream(_file));
      _bout.writeTo(bos);
      bos.flush();
    }
  finally {
      if (bos != null)       bos.close();
      _bout=null;
    }
  }
 else {
    File f=new File(_tmpDir,fileName);
    if (_deleteOnExit)     f.deleteOnExit();
    if (_file.renameTo(f))     _file=f;
  }
}
