{
  if (!factory.isStarted())   throw new IllegalStateException(Factory.class.getSimpleName() + " is not started");
  try {
    SocketChannel channel=SocketChannel.open();
    if (bindAddress != null)     channel.bind(bindAddress);
    configure(channel);
    channel.configureBlocking(false);
    channel.connect(address);
    context.put(SslClientConnectionFactory.SSL_PEER_HOST_CONTEXT_KEY,((InetSocketAddress)address).getHostString());
    context.put(SslClientConnectionFactory.SSL_PEER_PORT_CONTEXT_KEY,((InetSocketAddress)address).getPort());
    context.put(SPDYClientConnectionFactory.SPDY_CLIENT_CONTEXT_KEY,this);
    context.put(SPDYClientConnectionFactory.SPDY_SESSION_LISTENER_CONTEXT_KEY,listener);
    context.put(SPDYClientConnectionFactory.SPDY_SESSION_PROMISE_CONTEXT_KEY,promise);
    factory.selector.connect(channel,context);
  }
 catch (  IOException x) {
    promise.failed(x);
  }
}
