{
  File home=testdir.getFile("home");
  FS.ensureEmpty(home);
  TestEnv.copyTestDir("usecases/home",home);
  File opt=testdir.getFile("opt");
  FS.ensureEmpty(opt);
  File common=new File(opt,"common");
  FS.ensureEmpty(common);
  TestEnv.makeFile(common,"start.ini","jetty.port=8080");
  File base=testdir.getFile("base");
  FS.ensureEmpty(base);
  TestEnv.makeFile(base,"start.ini","jetty.host=127.0.0.1");
  String dirRef="${my.opt}" + File.separator + "${my.dir}";
  MainResult result=runMain(base,home,"my.opt=" + opt.getAbsolutePath(),"my.dir=common","--extra-start-dir=" + dirRef);
  List<String> expectedSearchOrder=new ArrayList<>();
  expectedSearchOrder.add("${jetty.base}");
  expectedSearchOrder.add(dirRef);
  expectedSearchOrder.add("${jetty.home}");
  result.assertSearchOrder(expectedSearchOrder);
  result.assertProperty("jetty.host","127.0.0.1");
  result.assertProperty("jetty.port","8080");
}
