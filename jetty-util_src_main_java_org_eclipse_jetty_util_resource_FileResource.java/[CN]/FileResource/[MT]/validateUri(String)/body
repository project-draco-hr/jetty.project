{
  if (str == null) {
    return str;
  }
  int len=str.length();
  int codepoint;
  for (int i=0; i < len; i++) {
    codepoint=str.codePointAt(i);
    if (codepoint == 0) {
      throw new URISyntaxException(str,"Encountered NULL character");
    }
    if (Character.isISOControl(codepoint)) {
      throw new URISyntaxException(str,"Encountered ISO Control Code");
    }
  }
  return str;
}
