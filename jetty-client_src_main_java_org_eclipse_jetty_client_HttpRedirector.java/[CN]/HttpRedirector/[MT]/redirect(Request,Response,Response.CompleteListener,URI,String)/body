{
  HttpConversation conversation=client.getConversation(request.getConversationID(),false);
  Integer redirects=conversation == null ? Integer.valueOf(0) : (Integer)conversation.getAttribute(ATTRIBUTE);
  if (redirects == null)   redirects=0;
  if (redirects < client.getMaxRedirects()) {
    ++redirects;
    if (conversation != null)     conversation.setAttribute(ATTRIBUTE,redirects);
    Request redirect=client.copyRequest(request,location);
    redirect.method(method);
    redirect.onRequestBegin(new Request.BeginListener(){
      @Override public void onBegin(      Request redirect){
        Throwable cause=request.getAbortCause();
        if (cause != null)         redirect.abort(cause);
      }
    }
);
    redirect.send(listener);
    return redirect;
  }
 else {
    fail(request,response,new HttpResponseException("Max redirects exceeded " + redirects,response));
    return null;
  }
}
