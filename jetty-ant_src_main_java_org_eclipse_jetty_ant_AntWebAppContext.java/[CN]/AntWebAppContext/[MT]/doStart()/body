{
  try {
    TaskLog.logWithTimestamp("Starting web application " + this.getDescriptor());
    if (jettyEnvXml != null && jettyEnvXml.exists())     envConfiguration.setJettyEnvXml(Resource.toURL(jettyEnvXml));
    setClassLoader(new WebAppClassLoader(this.getClass().getClassLoader(),this));
    if (attributes != null && attributes.getAttributes() != null) {
      for (      Attribute a : attributes.getAttributes())       setAttribute(a.getName(),a.getValue());
    }
    if (contextXml != null) {
      XmlConfiguration xmlConfiguration=new XmlConfiguration(Resource.toURL(contextXml));
      TaskLog.log("Applying context xml file " + contextXml);
      xmlConfiguration.configure(this);
    }
    super.doStart();
  }
 catch (  Exception e) {
    TaskLog.log(e.toString());
  }
}
