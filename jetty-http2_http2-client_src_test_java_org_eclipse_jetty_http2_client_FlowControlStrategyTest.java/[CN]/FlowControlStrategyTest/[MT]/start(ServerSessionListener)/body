{
  QueuedThreadPool serverExecutor=new QueuedThreadPool();
  serverExecutor.setName("server");
  server=new Server(serverExecutor);
  connector=new ServerConnector(server,new RawHTTP2ServerConnectionFactory(new HttpConfiguration(),listener){
    @Override protected FlowControlStrategy newFlowControlStrategy(){
      return FlowControlStrategyTest.this.newFlowControlStrategy();
    }
  }
);
  server.addConnector(connector);
  server.start();
  client=new HTTP2Client();
  QueuedThreadPool clientExecutor=new QueuedThreadPool();
  clientExecutor.setName("client");
  client.setExecutor(clientExecutor);
  client.setClientConnectionFactory(new HTTP2ClientConnectionFactory(){
    @Override protected FlowControlStrategy newFlowControlStrategy(){
      return FlowControlStrategyTest.this.newFlowControlStrategy();
    }
  }
);
  client.start();
}
