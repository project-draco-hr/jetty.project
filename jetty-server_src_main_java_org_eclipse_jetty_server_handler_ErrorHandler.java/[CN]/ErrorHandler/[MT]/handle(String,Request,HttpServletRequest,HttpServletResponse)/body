{
  AbstractHttpConnection connection=AbstractHttpConnection.getCurrentHttpChannel();
  connection.getRequest().setHandled(true);
  String method=request.getMethod();
  if (!method.equals(HttpMethod.GET) && !method.equals(HttpMethod.POST) && !method.equals(HttpMethod.HEAD))   return;
  response.setContentType(MimeTypes.TEXT_HTML_8859_1);
  if (_cacheControl != null)   response.setHeader(HttpHeader.CACHE_CONTROL,_cacheControl);
  ByteArrayISO8859Writer writer=new ByteArrayISO8859Writer(4096);
  handleErrorPage(request,writer,connection.getResponse().getStatus(),connection.getResponse().getReason());
  writer.flush();
  response.setContentLength(writer.size());
  writer.writeTo(response.getOutputStream());
  writer.destroy();
}
