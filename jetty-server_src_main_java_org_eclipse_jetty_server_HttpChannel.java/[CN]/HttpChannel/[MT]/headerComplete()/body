{
  _requests.incrementAndGet();
switch (_version) {
case HTTP_0_9:
    break;
case HTTP_1_0:
  if (_configuration.getSendDateHeader())   _response.getHttpFields().put(_connector.getServer().getDateField());
break;
case HTTP_1_1:
if (_configuration.getSendDateHeader()) _response.getHttpFields().put(_connector.getServer().getDateField());
if (_expect) {
badMessage(HttpStatus.EXPECTATION_FAILED_417,null);
return true;
}
break;
default :
throw new IllegalStateException();
}
return true;
}
