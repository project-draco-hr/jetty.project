{
  _requests.incrementAndGet();
switch (_version) {
case HTTP_0_9:
    break;
case HTTP_1_0:
  if (getServer().getSendDateHeader())   _response.getHttpFields().putDateField(HttpHeader.DATE.toString(),_request.getTimeStamp());
break;
case HTTP_1_1:
if (getServer().getSendDateHeader()) _response.getHttpFields().putDateField(HttpHeader.DATE.toString(),_request.getTimeStamp());
if (_expect) {
badMessage(HttpStatus.EXPECTATION_FAILED_417,null);
return true;
}
break;
default :
throw new IllegalStateException();
}
return _expect100Continue;
}
