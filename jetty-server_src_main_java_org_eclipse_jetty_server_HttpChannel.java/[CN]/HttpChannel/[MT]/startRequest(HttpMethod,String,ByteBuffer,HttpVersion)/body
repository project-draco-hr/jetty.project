{
  _expect=false;
  _expect100Continue=false;
  _expect102Processing=false;
  if (_request.getTimeStamp() == 0)   _request.setTimeStamp(System.currentTimeMillis());
  _request.setMethod(httpMethod,method);
  if (httpMethod == HttpMethod.CONNECT)   _uri.parseConnect(uri.array(),uri.arrayOffset() + uri.position(),uri.remaining());
 else   _uri.parse(uri.array(),uri.arrayOffset() + uri.position(),uri.remaining());
  _request.setUri(_uri);
  String path;
  try {
    path=_uri.getDecodedPath();
  }
 catch (  Exception e) {
    LOG.warn("Failed UTF-8 decode for request path, trying ISO-8859-1");
    LOG.ignore(e);
    path=_uri.getDecodedPath(StringUtil.__ISO_8859_1);
  }
  String info=URIUtil.canonicalPath(path);
  if (info == null) {
    info="/";
    _request.setRequestURI("");
  }
  _request.setPathInfo(info);
  _version=version == null ? HttpVersion.HTTP_0_9 : version;
  _request.setHttpVersion(_version);
  return false;
}
