{
  _expect=false;
  _expect100Continue=false;
  _expect102Processing=false;
  _request.setTimeStamp(System.currentTimeMillis());
  _request.setMethod(method);
  _request.setUri(uri);
  String path;
  try {
    path=uri.getDecodedPath();
  }
 catch (  Exception e) {
    LOG.warn("Failed UTF-8 decode for request path, trying ISO-8859-1");
    LOG.ignore(e);
    path=uri.getDecodedPath(StandardCharsets.ISO_8859_1);
  }
  String info=URIUtil.canonicalPath(path);
  if (info == null) {
    if (path == null && uri.getScheme() != null && uri.getHost() != null) {
      info="/";
      _request.setRequestURI("");
    }
 else {
      badMessage(400,null);
      return true;
    }
  }
  _request.setPathInfo(info);
  _version=version == null ? HttpVersion.HTTP_0_9 : version;
  _request.setHttpVersion(_version);
  return false;
}
