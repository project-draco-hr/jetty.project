{
synchronized (_inputQ.lock()) {
    ByteBuffer content=null;
    while (content == null) {
      content=_inputQ.peekUnsafe();
      while (content != null && !content.hasRemaining()) {
        _inputQ.pollUnsafe();
        content=_inputQ.peekUnsafe();
      }
      if (content == null) {
        if (_inputEOF)         return -1;
        blockForContent();
      }
    }
    int l=Math.min(len,content.remaining());
    content.get(b,off,l);
    return l;
  }
}
