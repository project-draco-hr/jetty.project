{
  if (_state.isSuspended()) {
    try {
      HttpFields fields=new HttpFields();
      ResponseInfo info=new ResponseInfo(_request.getHttpVersion(),fields,0,Response.SC_INTERNAL_SERVER_ERROR,null,_request.isHead());
      boolean committed=commitResponse(info,null,true);
      if (!committed)       LOG.warn("Could not send response error 500, response is already committed");
    }
 catch (    IOException e) {
      LOG.debug("Could not commit response error 500",e);
    }
  }
 else {
    _response.sendError(500,null,x.getMessage());
  }
}
