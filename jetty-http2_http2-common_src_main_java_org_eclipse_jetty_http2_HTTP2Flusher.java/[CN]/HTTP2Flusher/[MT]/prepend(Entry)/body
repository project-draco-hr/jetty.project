{
  boolean fail=false;
synchronized (this) {
    if (isClosed()) {
      fail=true;
    }
 else {
      frames.add(0,entry);
      if (LOG.isDebugEnabled())       LOG.debug("Prepended {}, frames={}",entry,frames.size());
    }
  }
  if (fail)   closed(entry,new ClosedChannelException());
  return !fail;
}
