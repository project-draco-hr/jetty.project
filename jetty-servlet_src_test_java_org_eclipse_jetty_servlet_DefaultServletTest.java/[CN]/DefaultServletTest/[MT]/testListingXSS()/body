{
  ServletHolder defholder=context.addServlet(DefaultServlet.class,"/listing/*");
  defholder.setInitParameter("dirAllowed","true");
  defholder.setInitParameter("redirectWelcome","false");
  defholder.setInitParameter("gzip","false");
  File resBase=new File("src/test/resources");
  assertTrue("resBase.exists",resBase.exists());
  assertTrue("resBase.isDirectory",resBase.isDirectory());
  String resBasePath=resBase.getAbsolutePath();
  defholder.setInitParameter("resourceBase",resBasePath);
  StringBuffer req1=new StringBuffer();
  req1.append("GET /context/listing/;<script>window.alert(\"hi\");</script> HTTP/1.1\n");
  req1.append("Host: localhost\n");
  req1.append("Connection: close\n");
  req1.append("\n");
  String response=connector.getResponses(req1.toString());
  assertResponseContains("listing/one/",response);
  assertResponseContains("listing/two/",response);
  assertResponseContains("listing/three/",response);
  assertResponseNotContains("<script>",response);
}
