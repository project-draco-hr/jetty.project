{
  File testDir=new File("target/tests/" + DefaultServletTest.class.getSimpleName());
  prepareEmptyTestDir(testDir);
  File resBase=new File(testDir,"docroot");
  assertTrue(resBase.mkdirs());
  File inde=new File(resBase,"index.htm");
  File index=new File(resBase,"index.html");
  String resBasePath=resBase.getAbsolutePath();
  ServletHolder defholder=context.addServlet(DefaultServlet.class,"/");
  defholder.setInitParameter("dirAllowed","false");
  defholder.setInitParameter("redirectWelcome","false");
  defholder.setInitParameter("welcomeServlets","false");
  defholder.setInitParameter("gzip","false");
  defholder.setInitParameter("resourceBase",resBasePath);
  ServletHolder jspholder=context.addServlet(NoJspServlet.class,"*.jsp");
  String response=connector.getResponses("GET /context/ HTTP/1.0\r\n\r\n");
  assertResponseContains("403",response);
  createFile(index,"<h1>Hello Index</h1>");
  response=connector.getResponses("GET /context/ HTTP/1.0\r\n\r\n");
  assertResponseContains("<h1>Hello Index</h1>",response);
  createFile(inde,"<h1>Hello Inde</h1>");
  response=connector.getResponses("GET /context/ HTTP/1.0\r\n\r\n");
  assertResponseContains("<h1>Hello Index</h1>",response);
  assertTrue(index.delete());
  response=connector.getResponses("GET /context/ HTTP/1.0\r\n\r\n");
  assertResponseContains("<h1>Hello Inde</h1>",response);
  assertTrue(inde.delete());
  response=connector.getResponses("GET /context/ HTTP/1.0\r\n\r\n");
  assertResponseContains("403",response);
}
