{
  ServletHolder defholder=context.addServlet(DefaultServlet.class,"/*");
  defholder.setInitParameter("dirAllowed","true");
  defholder.setInitParameter("redirectWelcome","false");
  defholder.setInitParameter("gzip","false");
  File testDir=new File("target/tests/" + DefaultServletTest.class.getSimpleName());
  prepareEmptyTestDir(testDir);
  File resBase=new File(testDir,"docroot");
  assertTrue(resBase.mkdirs());
  assertTrue(new File(resBase,"one").mkdir());
  assertTrue(new File(resBase,"two").mkdir());
  assertTrue(new File(resBase,"three").mkdir());
  String resBasePath=resBase.getAbsolutePath();
  defholder.setInitParameter("resourceBase",resBasePath);
  StringBuffer req1=new StringBuffer();
  req1.append("GET /context/;JSESSIONID=1234567890 HTTP/1.1\n");
  req1.append("Host: localhost\n");
  req1.append("\n");
  String response=connector.getResponses(req1.toString());
  assertResponseContains("/one/;JSESSIONID=1234567890",response);
  assertResponseContains("/two/;JSESSIONID=1234567890",response);
  assertResponseContains("/three/;JSESSIONID=1234567890",response);
  assertResponseNotContains("<script>",response);
}
