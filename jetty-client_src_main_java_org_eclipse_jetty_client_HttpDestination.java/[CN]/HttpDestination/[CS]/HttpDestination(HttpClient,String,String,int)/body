{
  this.client=client;
  this.scheme=scheme;
  this.host=host;
  this.address=new Address(host,port);
  this.exchanges=new BlockingArrayQueue<>(client.getMaxRequestsQueuedPerDestination());
  this.requestNotifier=new RequestNotifier(client);
  this.responseNotifier=new ResponseNotifier(client);
  ProxyConfiguration proxyConfig=client.getProxyConfiguration();
  proxyAddress=proxyConfig != null && proxyConfig.matches(host,port) ? new Address(proxyConfig.getHost(),proxyConfig.getPort()) : null;
  if (!client.isDefaultPort(scheme,port))   host+=":" + port;
  hostField=new HttpField(HttpHeader.HOST,host);
}
