{
  if (buffer.capacity() == _bufferSize) {
switch (_bufferType) {
case BYTE_ARRAY:
      return buffer instanceof ByteArrayBuffer && !(buffer instanceof IndirectNIOBuffer);
case DIRECT:
    return buffer instanceof DirectNIOBuffer;
case INDIRECT:
  return buffer instanceof IndirectNIOBuffer;
}
}
return false;
}
