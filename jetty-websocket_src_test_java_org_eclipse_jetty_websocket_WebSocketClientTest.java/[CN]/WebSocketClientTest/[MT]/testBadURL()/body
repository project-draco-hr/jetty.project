{
  WebSocketClient client=new WebSocketClient(_factory);
  boolean bad=false;
  final AtomicBoolean open=new AtomicBoolean();
  try {
    client.open(new URI("http://localhost:8080"),new WebSocket(){
      public void onOpen(      Connection connection){
        open.set(true);
      }
      public void onClose(      int closeCode,      String message){
      }
    }
);
    Assert.fail();
  }
 catch (  IllegalArgumentException e) {
    bad=true;
  }
  Assert.assertTrue(bad);
  Assert.assertFalse(open.get());
}
