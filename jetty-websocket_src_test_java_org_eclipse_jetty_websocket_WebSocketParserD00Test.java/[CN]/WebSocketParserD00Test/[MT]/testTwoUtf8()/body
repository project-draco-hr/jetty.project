{
  _in.put((byte)0x00);
  _in.put("Hello World".getBytes(StringUtil.__UTF8));
  _in.put((byte)0xff);
  _in.put((byte)0x00);
  _in.put("Hell\uFF4F W\uFF4Frld".getBytes(StringUtil.__UTF8));
  _in.put((byte)0xff);
  int filled=_parser.parseNext();
  assertEquals(30,filled);
  assertEquals("Hello World",_handler._data.get(0));
  assertFalse(_parser.isBufferEmpty());
  assertFalse(_parser.getBuffer() == null);
  filled=_parser.parseNext();
  assertEquals(0,filled);
  assertEquals("Hell\uFF4f W\uFF4Frld",_handler._data.get(1));
  assertTrue(_parser.isBufferEmpty());
  assertTrue(_parser.getBuffer() == null);
}
