{
  for (  IPluginModelBase pluginModel : PluginRegistry.getActiveModels()) {
    String symbName=pluginModel.getBundleDescription().getSymbolicName();
    if (pluginModel.getUnderlyingResource() != null) {
      bundlesInWorkspaceCollector.add(pluginModel);
      continue;
    }
    if (symbName.startsWith(JETTY_BUNDLES_PREFIX)) {
      if (symbName.startsWith("org.eclipse.jetty.osgi.pde")) {
        continue;
      }
    }
 else     if (symbName.startsWith(JETTY_JSP_BUNDLES_PREFIX)) {
      bundlesInPlatformCollector.add(pluginModel);
    }
 else     if (!ALL_BUNDLE_DEPS.contains(symbName)) {
      ExportPackageDescription[] exPacks=pluginModel.getBundleDescription().getExportPackages();
      for (int j=0; j < exPacks.length; j++) {
        ExportPackageDescription xp=exPacks[j];
        if (PACKAGES_DEPENDENCIES.contains(xp.getName())) {
          bundlesInPlatformCollector.add(pluginModel);
          break;
        }
      }
    }
  }
}
