{
  if (isSubmitKeyUpdates()) {
    return submit(update);
  }
 else {
    runChange(update);
    if (_state.compareAndSet(State.SELECT,State.WAKEUP)) {
      wakeup();
      return true;
    }
    return false;
  }
}
