{
  _docRoot=MavenTestingUtils.getTargetTestingDir(DataSourceLoginServiceTest.class.getSimpleName());
  FS.ensureEmpty(_docRoot);
  File content=new File(_docRoot,"input.txt");
  FileOutputStream out=new FileOutputStream(content);
  out.write(_content.getBytes("utf-8"));
  out.close();
  _dbRoot=new File(_docRoot,"derby");
  String dbPath=_dbRoot.getAbsolutePath();
  System.setProperty("derby.system.home",dbPath);
  FS.ensureEmpty(_dbRoot);
  File dstest=new File(_dbRoot,"dstest");
  FS.ensureEmpty(dstest);
  File scriptFile=MavenTestingUtils.getTestResourceFile("createdb.sql");
  DatabaseLoginServiceTestServer.createDB(dbPath,scriptFile,"jdbc:derby:dstest;create=true");
  _testServer=new DatabaseLoginServiceTestServer();
  _testServer.setResourceBase(_docRoot.getAbsolutePath());
  _testServer.setLoginService(configureLoginService());
  _testServer.start();
  _baseUri=_testServer.getBaseUri();
}
