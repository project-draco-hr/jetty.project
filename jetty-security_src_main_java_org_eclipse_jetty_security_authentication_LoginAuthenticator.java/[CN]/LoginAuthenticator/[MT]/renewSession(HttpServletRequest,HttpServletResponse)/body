{
  HttpSession httpSession=request.getSession(false);
  if (_renewSession && httpSession != null && httpSession.getAttribute(AbstractSessionManager.SESSION_KNOWN_ONLY_TO_AUTHENTICATED) != Boolean.TRUE) {
synchronized (this) {
      httpSession=AbstractSessionManager.renewSession(request,httpSession,true);
    }
  }
  return httpSession;
}
