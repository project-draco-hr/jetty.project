{
  if (_state.compareAndSet(State.ITERATING,State.IDLE))   return;
  loop:   while (true) {
switch (_state.get()) {
case ITERATE_AGAIN:
      if (_state.compareAndSet(State.ITERATE_AGAIN,State.IDLE))       break loop;
    continue;
case ITERATING:
  if (_state.compareAndSet(State.ITERATING,State.IDLE))   break loop;
continue;
case SCHEDULED:
if (_state.compareAndSet(State.SCHEDULED,State.IDLE)) iterate();
break loop;
case IDLE:
iterate();
break loop;
default :
throw new IllegalStateException(this + " state=" + _state.get());
}
}
}
