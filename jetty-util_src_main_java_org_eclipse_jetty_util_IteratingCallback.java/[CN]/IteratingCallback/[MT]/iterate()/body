{
  try {
    while (_state.compareAndSet(State.WAITING,State.ITERATING)) {
      if (process()) {
        if (_state.compareAndSet(State.ITERATING,State.SUCCEEDED))         completed();
 else         throw new IllegalStateException("Already " + _state.get());
        return;
      }
 else       if (_state.compareAndSet(State.ITERATING,State.WAITING))       break;
    }
  }
 catch (  Exception e) {
    failed(e);
  }
}
