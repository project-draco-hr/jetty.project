{
  while (true) {
    State state=_state.get();
switch (state) {
case IDLE:
      return true;
case SUCCEEDED:
    if (!_state.compareAndSet(state,State.LOCKED))     continue;
  _iterate=false;
_state.set(State.IDLE);
return true;
case FAILED:
if (!_state.compareAndSet(state,State.LOCKED)) continue;
_iterate=false;
_state.set(State.IDLE);
return true;
case LOCKED:
Thread.yield();
continue;
default :
return false;
}
}
}
