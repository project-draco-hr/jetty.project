{
  if (maxPayloadSize < bufferSize) {
    throw new IllegalStateException("Cannot have payload size be smaller than buffer size");
  }
  this.maxPayloadSize=maxPayloadSize;
}
