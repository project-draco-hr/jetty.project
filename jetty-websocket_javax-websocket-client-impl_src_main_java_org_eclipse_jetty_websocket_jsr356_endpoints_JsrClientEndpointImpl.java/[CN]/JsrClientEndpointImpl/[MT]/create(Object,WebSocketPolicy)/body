{
  Object endpoint=websocket;
  if (websocket instanceof ConfiguredEndpoint) {
    ConfiguredEndpoint ce=(ConfiguredEndpoint)websocket;
    endpoint=ce.getEndpoint();
  }
  Class<?> endpointClass=endpoint.getClass();
  JsrClientMetadata basemetadata=container.getClientEndpointMetadata(endpointClass);
  JsrEvents events=new JsrEvents(basemetadata);
  ClientEndpointConfig config=basemetadata.getEndpointConfigCopy();
  return new JsrAnnotatedEventDriver(policy,endpoint,events,config);
}
