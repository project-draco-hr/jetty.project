{
  String baseUrl="http://" + host + ":"+ _port+ "/";
  int count=200;
  expireCount.set(0);
  Log.info("Starting test on " + baseUrl);
  for (int i=0; i < count; i++) {
    if (i % 10 == 0)     System.err.print('.');
    expireCount.incrementAndGet();
    final ContentExchange ex=new ContentExchange(){
      @Override protected void onExpire(){
        expireCount.decrementAndGet();
      }
    }
;
    ex.setMethod("GET");
    ex.setURL(baseUrl);
    client.send(ex);
    try {
      Thread.sleep(50);
    }
 catch (    InterruptedException e) {
      break;
    }
  }
  try {
    Thread.sleep(2000);
    int loops=0;
    while (expireCount.get() > 0 && loops < 10) {
      Log.info("waiting for test to complete: " + expireCount.get() + " of "+ count);
      ++loops;
      Thread.sleep(2000);
    }
    Thread.sleep(2000);
  }
 catch (  InterruptedException e) {
  }
  System.err.println('!');
  assertEquals(0,expireCount.get());
}
