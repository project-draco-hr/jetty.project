{
  if (updateState(State.RECEIVE,State.RECEIVE)) {
    HttpExchange exchange=connection.getExchange();
    if (exchange != null) {
      exchange.getResponse().getHeaders().add(name,value);
switch (name.toLowerCase(Locale.ENGLISH)) {
case "set-cookie":
case "set-cookie2":
{
          CookieStore cookieStore=connection.getHttpClient().getCookieStore();
          HttpDestination destination=connection.getDestination();
          List<HttpCookie> cookies=HttpCookieParser.parseCookies(value);
          for (          HttpCookie cookie : cookies)           cookieStore.addCookie(destination,cookie);
          break;
        }
default :
{
        break;
      }
  }
}
}
return false;
}
