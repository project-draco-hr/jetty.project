{
  parser.shutdownInput();
  State state=this.state.get();
  if (state == State.IDLE || state == State.RECEIVE) {
    if (!fail(new EOFException()))     connection.close();
  }
}
