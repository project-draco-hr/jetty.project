{
  HttpExchange exchange=connection.getExchange();
  if (exchange == null)   return false;
  AtomicMarkableReference<Result> completion=exchange.responseComplete(null);
  if (!completion.isMarked())   return false;
  parser.reset();
  decoder=null;
  if (!updateState(State.RECEIVE,State.IDLE))   throw new IllegalStateException();
  exchange.terminateResponse();
  HttpResponse response=exchange.getResponse();
  List<Response.ResponseListener> listeners=exchange.getConversation().getResponseListeners();
  ResponseNotifier notifier=connection.getDestination().getResponseNotifier();
  notifier.notifySuccess(listeners,response);
  LOG.debug("Received {}",response);
  Result result=completion.getReference();
  if (result != null) {
    connection.complete(exchange,!result.isFailed());
    notifier.notifyComplete(listeners,result);
  }
  return true;
}
