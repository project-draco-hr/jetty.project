{
  parser.close();
  failed=true;
  HttpExchange exchange=connection.getExchange();
  if (exchange == null)   return;
  HttpResponse response=exchange.response();
  LOG.debug("Failed {} {}",response,failure);
  boolean exchangeComplete=exchange.responseComplete(false);
  HttpConversation conversation=exchange.conversation();
  notifier.notifyFailure(conversation.listener(),response,failure);
  if (exchangeComplete) {
    Result result=new Result(exchange.request(),response,failure);
    notifier.notifyComplete(conversation.listener(),result);
  }
}
