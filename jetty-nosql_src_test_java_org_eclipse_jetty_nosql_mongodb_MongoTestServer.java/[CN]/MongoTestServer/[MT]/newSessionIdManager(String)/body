{
  if (_idManager != null) {
    try {
      _idManager.stop();
    }
 catch (    Exception e) {
      e.printStackTrace();
    }
    _idManager.setScavengeDelay(_scavengePeriod + 1000);
    _idManager.setScavengePeriod(_maxInactivePeriod);
    try {
      _idManager.start();
    }
 catch (    Exception e) {
      e.printStackTrace();
    }
    return _idManager;
  }
  try {
    System.err.println("MongoTestServer:SessionIdManager:" + _maxInactivePeriod + "/"+ _scavengePeriod);
    _idManager=new MongoSessionIdManager(_server);
    _idManager.setScavengeDelay((int)TimeUnit.SECONDS.toMillis(_scavengePeriod));
    _idManager.setScavengePeriod(_maxInactivePeriod);
    return _idManager;
  }
 catch (  Exception e) {
    throw new IllegalStateException();
  }
}
