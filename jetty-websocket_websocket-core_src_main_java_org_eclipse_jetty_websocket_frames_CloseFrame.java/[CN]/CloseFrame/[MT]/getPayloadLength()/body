{
  if (super.getPayloadLength() == 0) {
    int length=0;
    if (getStatusCode() != 0) {
      length=length + 2;
      if (hasReason()) {
        length=length + getReason().getBytes().length;
      }
    }
    return length;
  }
 else {
    return super.getPayloadLength();
  }
}
