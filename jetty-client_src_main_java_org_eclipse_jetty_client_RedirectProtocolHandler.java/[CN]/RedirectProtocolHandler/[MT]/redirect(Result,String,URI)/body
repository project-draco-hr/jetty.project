{
  final Request request=result.getRequest();
  HttpConversation conversation=client.getConversation(request.getConversationID(),false);
  Integer redirects=(Integer)conversation.getAttribute(ATTRIBUTE);
  if (redirects == null)   redirects=0;
  if (redirects < client.getMaxRedirects()) {
    ++redirects;
    conversation.setAttribute(ATTRIBUTE,redirects);
    Request redirect=client.copyRequest(request,location);
    redirect.method(method);
    redirect.onRequestBegin(new Request.BeginListener(){
      @Override public void onBegin(      Request redirect){
        Throwable cause=request.getAbortCause();
        if (cause != null)         redirect.abort(cause);
      }
    }
);
    redirect.send(null);
  }
 else {
    fail(result,new HttpResponseException("Max redirects exceeded " + redirects,result.getResponse()));
  }
}
