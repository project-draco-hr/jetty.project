{
  for (int i=0; i < files.length; i++) {
    files[i]=File.createTempFile("R-" + i + "-",".txt");
    files[i].deleteOnExit();
    names[i]=files[i].getName();
    FileOutputStream out=new FileOutputStream(files[i]);
    for (int j=0; j < (i * 10 - 1); j++)     out.write(' ');
    out.write('\n');
    out.close();
  }
  directory=Resource.newResource(files[0].getParentFile().getAbsolutePath());
  factory=new ResourceFactory(){
    public Resource getResource(    String path){
      try {
        return directory.addPath(path);
      }
 catch (      Exception e) {
        return null;
      }
    }
  }
;
  cache=new ResourceCache(factory,new MimeTypes(),false);
  cache.setMaxCacheSize(95);
  cache.setMaxCachedFileSize(85);
  cache.setMaxCachedFiles(4);
}
