{
  if (!Boolean.getBoolean("JETTY_NO_SHUTDOWN_HOOK") && !hooked) {
    try {
      Method shutdownHook=java.lang.Runtime.class.getMethod("addShutdownHook",new Class[]{java.lang.Thread.class});
      shutdownHook.invoke(Runtime.getRuntime(),new Object[]{this});
      this.hooked=true;
    }
 catch (    Exception e) {
      if (Log.isDebugEnabled())       Log.debug("No shutdown hook in JVM ",e);
    }
  }
}
