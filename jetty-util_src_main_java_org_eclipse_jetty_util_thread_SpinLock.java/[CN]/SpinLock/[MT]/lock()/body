{
  Thread current=Thread.currentThread();
  while (true) {
    Thread locker=_lock.get();
    if (locker != null || !_lock.compareAndSet(null,current)) {
      if (locker == current)       throw new IllegalStateException("SpinLock is not reentrant");
      continue;
    }
    return _unlock;
  }
}
