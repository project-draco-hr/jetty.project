{
  Thread thread=Thread.currentThread();
  while (true) {
    if (!_lock.compareAndSet(null,thread)) {
      if (_lock.get() == thread)       throw new IllegalStateException("SpinLock is not reentrant");
      continue;
    }
    return _unlock;
  }
}
