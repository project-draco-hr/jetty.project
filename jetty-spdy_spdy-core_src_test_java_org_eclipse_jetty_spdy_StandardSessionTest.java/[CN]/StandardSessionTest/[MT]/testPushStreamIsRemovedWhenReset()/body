{
  setControllerWriteExpectation(false);
  IStream stream=createStream();
  IStream pushStream=(IStream)stream.push(new PushInfo(new Fields(),false));
  assertThatPushStreamIsInSession(pushStream);
  session.rst(new RstInfo(pushStream.getId(),StreamStatus.INVALID_STREAM));
  assertThatPushStreamIsNotInSession(pushStream);
  assertThatStreamIsNotAssociatedWithPushStream(stream,pushStream);
  assertThatStreamIsReset(pushStream);
}
