{
  setControllerWriteExpectationToFail(false);
  IStream stream=createStream();
  IStream pushStream=(IStream)stream.syn(new SynInfo(false)).get();
  assertThatPushStreamIsInSession(pushStream);
  session.rst(new RstInfo(pushStream.getId(),StreamStatus.INVALID_STREAM));
  assertThatPushStreamIsNotInSession(pushStream);
  assertThatStreamIsNotAssociatedWithPushStream(stream,pushStream);
  assertThatStreamIsReset(pushStream);
}
