{
  setControllerWriteExpectation(false);
  final CountDownLatch closedListenerCalledLatch=new CountDownLatch(1);
  session.addListener(new TestStreamListener(null,closedListenerCalledLatch));
  IStream stream=createStream();
  IStream pushStream=createPushStream(stream);
  session.rst(new RstInfo(pushStream.getId(),StreamStatus.CANCEL_STREAM));
  assertThatOnStreamClosedListenerHasBeenCalled(closedListenerCalledLatch);
}
