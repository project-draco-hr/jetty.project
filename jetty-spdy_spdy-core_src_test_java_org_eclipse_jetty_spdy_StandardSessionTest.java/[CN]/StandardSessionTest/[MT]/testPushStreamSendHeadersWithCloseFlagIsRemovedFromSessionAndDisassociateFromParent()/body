{
  setControllerWriteExpectation(false);
  IStream stream=createStream();
  PushInfo pushInfo=new PushInfo(5,TimeUnit.SECONDS,headers,false);
  IStream pushStream=(IStream)stream.push(pushInfo);
  assertThatStreamIsAssociatedWithPushStream(stream,pushStream);
  assertThatPushStreamIsInSession(pushStream);
  pushStream.headers(new HeadersInfo(headers,true));
  assertThatPushStreamIsNotInSession(pushStream);
  assertThatPushStreamIsHalfClosed(pushStream);
  assertThatPushStreamIsClosed(pushStream);
  assertThatStreamIsNotAssociatedWithPushStream(stream,pushStream);
}
