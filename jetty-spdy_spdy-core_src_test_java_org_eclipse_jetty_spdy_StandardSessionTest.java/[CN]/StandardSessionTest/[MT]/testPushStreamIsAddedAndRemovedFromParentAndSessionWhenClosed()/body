{
  setControllerWriteExpectationToFail(false);
  IStream stream=createStream();
  IStream pushStream=createPushStream(stream);
  assertThatPushStreamIsHalfClosed(pushStream);
  assertThatPushStreamIsInSession(pushStream);
  assertThatStreamIsAssociatedWithPushStream(stream,pushStream);
  session.data(pushStream,new StringDataInfo("close",true),5,TimeUnit.SECONDS,new Callback.Adapter());
  assertThatPushStreamIsClosed(pushStream);
  assertThatPushStreamIsNotInSession(pushStream);
  assertThatStreamIsNotAssociatedWithPushStream(stream,pushStream);
}
