{
  try {
    ((StdErrLog)Log.getLogger(HttpParser.class)).setHideStacks(true);
    String response;
    response=connector.getResponses("GET http://localhost:WRONG/ HTTP/1.1\n" + "Host: localhost\n" + "\015\012");
    checkContains(response,0,"HTTP/1.1 400");
    response=connector.getResponses("GET /bad/encoding%1 HTTP/1.1\n" + "Host: localhost\n" + "\015\012");
    checkContains(response,0,"HTTP/1.1 400");
    response=connector.getResponses("GET % HTTP/1.1\n" + "Host: localhost\n" + "\015\012");
    checkContains(response,0,"HTTP/1.1 400");
  }
  finally {
    ((StdErrLog)Log.getLogger(HttpParser.class)).setHideStacks(false);
  }
}
