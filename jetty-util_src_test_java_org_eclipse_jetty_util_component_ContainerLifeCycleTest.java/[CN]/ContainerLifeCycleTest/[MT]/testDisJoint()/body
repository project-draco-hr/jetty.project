{
  ContainerLifeCycle a0=new ContainerLifeCycle();
  TestContainerLifeCycle a1=new TestContainerLifeCycle();
  a1.start();
  a0.addBean(a1);
  Assert.assertFalse(a0.isManaged(a1));
  a0.start();
  Assert.assertEquals(1,a1.started.get());
  Assert.assertEquals(0,a1.stopped.get());
  Assert.assertEquals(0,a1.destroyed.get());
  a0.start();
  Assert.assertEquals(1,a1.started.get());
  Assert.assertEquals(0,a1.stopped.get());
  Assert.assertEquals(0,a1.destroyed.get());
  a0.stop();
  Assert.assertEquals(1,a1.started.get());
  Assert.assertEquals(0,a1.stopped.get());
  Assert.assertEquals(0,a1.destroyed.get());
  a1.stop();
  Assert.assertEquals(1,a1.started.get());
  Assert.assertEquals(1,a1.stopped.get());
  Assert.assertEquals(0,a1.destroyed.get());
  a0.start();
  Assert.assertEquals(1,a1.started.get());
  Assert.assertEquals(1,a1.stopped.get());
  Assert.assertEquals(0,a1.destroyed.get());
  a0.manage(a1);
  Assert.assertTrue(a0.isManaged(a1));
  a0.stop();
  Assert.assertEquals(1,a1.started.get());
  Assert.assertEquals(1,a1.stopped.get());
  Assert.assertEquals(0,a1.destroyed.get());
  a0.start();
  Assert.assertEquals(2,a1.started.get());
  Assert.assertEquals(1,a1.stopped.get());
  Assert.assertEquals(0,a1.destroyed.get());
  a0.stop();
  Assert.assertEquals(2,a1.started.get());
  Assert.assertEquals(2,a1.stopped.get());
  Assert.assertEquals(0,a1.destroyed.get());
  a0.unmanage(a1);
  Assert.assertFalse(a0.isManaged(a1));
  a0.destroy();
  Assert.assertEquals(2,a1.started.get());
  Assert.assertEquals(2,a1.stopped.get());
  Assert.assertEquals(0,a1.destroyed.get());
  a1.destroy();
  Assert.assertEquals(2,a1.started.get());
  Assert.assertEquals(2,a1.stopped.get());
  Assert.assertEquals(1,a1.destroyed.get());
}
