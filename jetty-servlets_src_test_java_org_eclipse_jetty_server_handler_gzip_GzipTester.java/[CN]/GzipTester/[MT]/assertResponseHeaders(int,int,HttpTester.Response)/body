{
  Assert.assertThat("Response.status",response.getStatus(),is(status));
  Assert.assertThat("Response.header[Content-Encoding]",response.get("Content-Encoding"),not(containsString(compressionType)));
  if (expectedFilesize != (-1)) {
    Assert.assertEquals(expectedFilesize,response.getContentBytes().length);
    String cl=response.get("Content-Length");
    if (cl != null) {
      int serverLength=Integer.parseInt(response.get("Content-Length"));
      Assert.assertEquals(serverLength,expectedFilesize);
    }
    if (status >= 200 && status < 300)     Assert.assertThat(response.get("ETAG"),Matchers.startsWith("W/"));
  }
  Assert.assertThat("Response.header[Content-Encoding]",response.get("Content-Encoding"),not(containsString(compressionType)));
}
