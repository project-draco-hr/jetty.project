{
  if (buffers == null)   return;
  try {
    flush(buffers);
    for (    ByteBuffer buffer : buffers) {
      if (buffer.hasRemaining())       return;
    }
    callback.completed(context);
  }
 catch (  IOException x) {
    callback.failed(context,x);
  }
 finally {
    context=null;
    callback=null;
    buffers=null;
  }
}
