{
  if (_redirected && _requestComplete && _responseComplete) {
    if (_location != null) {
      if (_location.indexOf("://") > 0) {
        _exchange.setURL(_location);
      }
 else {
        _exchange.setRequestURI(_location);
      }
      boolean isHttps=HttpScheme.HTTPS.equals(String.valueOf(_exchange.getScheme()));
      HttpDestination destination=_destination.getHttpClient().getDestination(_exchange.getAddress(),isHttps);
      if (_destination == destination) {
        _destination.resend(_exchange);
      }
 else {
        HttpEventListener listener=this;
        while (listener instanceof HttpEventListenerWrapper) {
          listener=((HttpEventListenerWrapper)listener).getEventListener();
        }
        _exchange.getEventListener().onRetry();
        _exchange.reset();
        _exchange.setEventListener(listener);
        Address address=_exchange.getAddress();
        int port=address.getPort();
        StringBuilder hostHeader=new StringBuilder(64);
        hostHeader.append(address.getHost());
        if (!((port == 80 && !isHttps) || (port == 443 && isHttps))) {
          hostHeader.append(':');
          hostHeader.append(port);
        }
        _exchange.setRequestHeader(HttpHeader.HOST,hostHeader.toString());
        destination.send(_exchange);
      }
      return false;
    }
 else {
      setDelegationResult(false);
    }
  }
  return true;
}
