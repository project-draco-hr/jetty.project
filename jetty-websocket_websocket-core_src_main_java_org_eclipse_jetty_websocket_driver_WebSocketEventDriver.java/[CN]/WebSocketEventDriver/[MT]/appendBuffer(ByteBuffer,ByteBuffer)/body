{
  if (payloadBuf == null) {
    return;
  }
  if (msgBuf.remaining() < payloadBuf.remaining()) {
    if (LOG.isDebugEnabled()) {
      LOG.debug("    msgBuf = {}",BufferUtil.toDetailString(msgBuf));
      LOG.debug("payloadBuf = {}",BufferUtil.toDetailString(msgBuf));
    }
    throw new MessageTooLargeException("Message exceeded maximum buffer size of [" + payloadBuf.capacity() + "]");
  }
  msgBuf.put(payloadBuf);
}
