{
  List<HttpCookie> result=new ArrayList<>();
  String host=destination.getHost();
  int port=destination.getPort();
  String key=host + ":" + port;
  Queue<HttpCookie> cookies=allCookies.get(key + "/");
  if (cookies != null)   accumulateCookies(destination,cookies,result);
  if (path == null)   path="/";
  String[] split=path.split("/");
  for (int i=1; i < split.length; i++) {
    String segment=split[i];
    key+="/" + segment;
    cookies=allCookies.get(key);
    if (cookies != null)     accumulateCookies(destination,cookies,result);
    if (segment.length() > 0)     key+="/";
  }
  int domains=host.split("\\.").length - 1;
  for (int i=2; i <= domains; ++i) {
    String[] hostParts=host.split("\\.",i);
    host=hostParts[hostParts.length - 1];
    key=host + ":" + port+ "/";
    cookies=allCookies.get(key);
    if (cookies != null)     accumulateCookies(destination,cookies,result);
  }
  return result;
}
