{
  _handler._checker=new RequestTester(){
    @Override public boolean check(    HttpServletRequest request,    HttpServletResponse response){
      Map map=null;
      try {
        request.getParameterMap();
        Assert.fail("Expected parsing failure");
        return false;
      }
 catch (      Exception e) {
        map=request.getParameterMap();
        assertFalse(map == null);
        assertTrue(map.isEmpty());
        Enumeration names=request.getParameterNames();
        assertFalse(names.hasMoreElements());
      }
      return true;
    }
  }
;
  String request="GET /?param=%ZZaaa HTTP/1.1\r\n" + "Host: whatever\r\n" + "Content-Type: text/html;charset=utf8\n"+ "Connection: close\n"+ "\n";
  String responses=_connector.getResponses(request);
  assertTrue(responses.startsWith("HTTP/1.1 200"));
}
