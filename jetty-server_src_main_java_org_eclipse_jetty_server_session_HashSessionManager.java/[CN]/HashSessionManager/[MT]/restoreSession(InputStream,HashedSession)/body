{
  DataInputStream in=new DataInputStream(is);
  String clusterId=in.readUTF();
  String nodeId=in.readUTF();
  boolean idChanged=in.readBoolean();
  long created=in.readLong();
  long cookieSet=in.readLong();
  long accessed=in.readLong();
  long lastAccessed=in.readLong();
  int requests=in.readInt();
  if (session == null)   session=(HashedSession)newSession(created,System.currentTimeMillis(),clusterId);
  session._cookieSet=cookieSet;
  session._lastAccessed=lastAccessed;
  int size=in.readInt();
  if (size > 0) {
    ClassLoadingObjectInputStream ois=new ClassLoadingObjectInputStream(in);
    for (int i=0; i < size; i++) {
      String key=ois.readUTF();
      Object value=ois.readObject();
      session.setAttribute(key,value);
    }
    ois.close();
  }
 else   in.close();
  return session;
}
