{
  startMonitor();
  if (_activeOptions.isEmpty()) {
    _activeOptions.add("default");
    _activeOptions.add("*");
  }
  if (_secure) {
    addMandatoryOption("secure");
    addMandatoryOption("security");
  }
  if (xmls.isEmpty()) {
    if (_fromDaemon) {
      xmls.add("etc/jetty-logging.xml");
    }
    xmls.add("etc/jetty.xml");
  }
  initConfig(xmls);
  xmls=resolveXmlConfigs(xmls);
  Classpath classpath=_config.getCombinedClasspath(_activeOptions);
  System.setProperty("java.class.path",classpath.toString());
  ClassLoader cl=classpath.getClassLoader();
  if (Config.isDebug()) {
    System.err.println("java.class.path=" + System.getProperty("java.class.path"));
    System.err.println("jetty.home=" + System.getProperty("jetty.home"));
    System.err.println("java.home=" + System.getProperty("java.home"));
    System.err.println("java.io.tmpdir=" + System.getProperty("java.io.tmpdir"));
    System.err.println("java.class.path=" + classpath);
    System.err.println("classloader=" + cl);
    System.err.println("classloader.parent=" + cl.getParent());
  }
  if (_showUsage) {
    usage();
    return;
  }
  if (_dumpVersions) {
    showClasspathWithVersions(classpath);
    return;
  }
  if (_listModes) {
    showAllModesWithVersions(classpath);
    return;
  }
  if (_execPrint) {
    showExecPrint(classpath,xmls);
    return;
  }
  Thread.currentThread().setContextClassLoader(cl);
  initSecurity(cl);
  try {
    String classname=_config.getMainClassname();
    String mainClass=System.getProperty("jetty.server");
    if (mainClass != null)     classname=mainClass;
    mainClass=System.getProperty("main.class");
    if (mainClass != null)     classname=mainClass;
    Config.debug("main.class=" + classname);
    invokeMain(cl,classname,xmls);
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
