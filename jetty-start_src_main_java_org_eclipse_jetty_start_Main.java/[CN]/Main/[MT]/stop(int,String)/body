{
  int _port=port;
  String _key=key;
  try {
    if (_port <= 0) {
      System.err.println("STOP.PORT system property must be specified");
    }
    if (_key == null) {
      _key="";
      System.err.println("STOP.KEY system property must be specified");
      System.err.println("Using empty key");
    }
    Socket s=new Socket(InetAddress.getByName("127.0.0.1"),_port);
    try {
      OutputStream out=s.getOutputStream();
      out.write((_key + "\r\nstop\r\n").getBytes());
      out.flush();
    }
  finally {
      s.close();
    }
  }
 catch (  ConnectException e) {
    usageExit(e,ERR_NOT_STOPPED);
  }
catch (  Exception e) {
    usageExit(e,ERR_UNKNOWN);
  }
}
