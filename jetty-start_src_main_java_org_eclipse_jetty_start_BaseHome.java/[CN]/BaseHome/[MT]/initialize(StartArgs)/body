{
  Pattern jetty_home=Pattern.compile("(-D)?jetty.home=(.*)");
  Pattern jetty_base=Pattern.compile("(-D)?jetty.base=(.*)");
  Path homePath=null;
  Path basePath=null;
  FileSystem fs=FileSystems.getDefault();
  for (  String arg : args.getCommandLine()) {
    Matcher home_match=jetty_home.matcher(arg);
    if (home_match.matches()) {
      homePath=fs.getPath(home_match.group(2));
    }
    Matcher base_match=jetty_base.matcher(arg);
    if (base_match.matches()) {
      basePath=fs.getPath(base_match.group(2));
    }
  }
  if (homePath != null) {
    this.homeDir.setDir(homePath);
    if (basePath == null) {
      this.baseDir.setDir(homePath);
      args.getProperties().setProperty(JETTY_BASE,this.baseDir.toString(),"<internal-fallback>");
    }
 else {
      this.baseDir.setDir(basePath);
    }
  }
 else   if (basePath != null) {
    this.baseDir.setDir(basePath);
  }
  args.addSystemProperty(JETTY_HOME,this.homeDir.toString());
  args.addSystemProperty(JETTY_BASE,this.baseDir.toString());
}
