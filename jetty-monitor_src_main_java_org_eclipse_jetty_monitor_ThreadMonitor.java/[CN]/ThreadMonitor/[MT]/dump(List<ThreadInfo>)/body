{
  if (threads != null && threads.size() > 0) {
    for (    ThreadInfo info : threads) {
      StringBuffer msg=new StringBuffer();
      if (info.getLockOwnerId() < 0) {
        msg.append(String.format("Thread %s[%d] is spinning",info.getThreadName(),info.getThreadId()));
      }
 else {
        msg.append(String.format("Thread %s[%d] is %s",info.getThreadName(),info.getThreadId(),info.getThreadState()));
        msg.append(String.format(" on %s owned by %s[%d]",info.getLockName(),info.getLockOwnerName(),info.getLockOwnerId()));
      }
      _logger.warn(new ThreadMonitorException(msg.toString(),info.getStackTrace()));
    }
  }
}
