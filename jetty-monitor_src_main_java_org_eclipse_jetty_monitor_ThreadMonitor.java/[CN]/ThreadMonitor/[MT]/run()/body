{
  long currTime=System.currentTimeMillis();
  long lastTime=currTime;
  long lastDumpTime=currTime;
  while (!_done) {
    currTime=System.currentTimeMillis();
    if (currTime < lastTime + _scanInterval) {
      try {
        Thread.sleep(100);
      }
 catch (      InterruptedException ex) {
        Log.ignore(ex);
      }
      continue;
    }
    collectThreadInfo();
    lastTime=System.currentTimeMillis();
    if (_logInterval > 0 && lastTime > lastDumpTime + _logInterval) {
      logCpuUsage();
      lastDumpTime=lastTime;
    }
    logThreadState();
  }
}
