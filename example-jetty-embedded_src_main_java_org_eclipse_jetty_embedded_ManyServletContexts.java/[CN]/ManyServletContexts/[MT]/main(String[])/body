{
  Server server=new Server(8090);
  MBeanContainer mbContainer=new MBeanContainer(ManagementFactory.getPlatformMBeanServer());
  mbContainer.start();
  server.getContainer().addEventListener(mbContainer);
  server.addBean(mbContainer,true);
  ContextHandlerCollection contexts=new ContextHandlerCollection();
  server.setHandler(contexts);
  ServletContextHandler root=new ServletContextHandler(contexts,"/",ServletContextHandler.SESSIONS);
  root.addServlet(new ServletHolder(new HelloServlet("Hello")),"/");
  root.addServlet(new ServletHolder(new HelloServlet("Ciao")),"/it/*");
  root.addServlet(new ServletHolder(new HelloServlet("Bonjoir")),"/fr/*");
  ServletContextHandler other=new ServletContextHandler(contexts,"/other",ServletContextHandler.SESSIONS);
  other.addServlet(DefaultServlet.class.getCanonicalName(),"/");
  other.addServlet(new ServletHolder(new HelloServlet("YO!")),"*.yo");
  DeploymentManager dm=new DeploymentManager();
  WebAppProvider wp=new WebAppProvider();
  dm.addAppProvider(wp);
  ContextProvider cp=new ContextProvider();
  dm.addAppProvider(cp);
  server.addBean(dm);
  server.addBean(wp);
  server.addBean(cp);
  server.start();
  System.err.println(server.dump());
  server.join();
}
