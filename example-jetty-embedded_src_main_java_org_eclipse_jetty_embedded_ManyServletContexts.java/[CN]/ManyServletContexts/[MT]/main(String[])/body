{
  Server server=new Server(8080);
  MBeanContainer mbContainer=new MBeanContainer(ManagementFactory.getPlatformMBeanServer());
  server.getContainer().addEventListener(mbContainer);
  server.addBean(mbContainer);
  mbContainer.addBean(Log.getLog());
  ContextHandlerCollection contexts=new ContextHandlerCollection();
  server.setHandler(contexts);
  ServletContextHandler root=new ServletContextHandler(contexts,"/",ServletContextHandler.SESSIONS);
  root.addServlet(new ServletHolder(new HelloServlet("Hello")),"/");
  root.addServlet(new ServletHolder(new HelloServlet("Ciao")),"/it/*");
  root.addServlet(new ServletHolder(new HelloServlet("Bonjoir")),"/fr/*");
  ServletContextHandler other=new ServletContextHandler(contexts,"/other",ServletContextHandler.SESSIONS);
  other.addServlet(DefaultServlet.class.getCanonicalName(),"/");
  other.addServlet(new ServletHolder(new HelloServlet("YO!")),"*.yo");
  server.start();
  System.err.println(server.dump());
  server.join();
}
