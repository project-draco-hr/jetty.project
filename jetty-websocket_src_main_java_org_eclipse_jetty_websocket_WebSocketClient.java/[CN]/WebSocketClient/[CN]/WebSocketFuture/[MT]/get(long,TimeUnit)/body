{
  _done.await(timeout,unit);
  ByteChannel channel=null;
  org.eclipse.jetty.websocket.WebSocket.Connection connection=null;
  Throwable exception;
synchronized (this) {
    exception=_exception;
    if (_connection == null) {
      exception=_exception;
      channel=_channel;
      _channel=null;
    }
 else     connection=_connection.getConnection();
  }
  if (channel != null)   closeChannel(channel,WebSocketConnectionD13.CLOSE_NO_CLOSE,"timeout");
  if (exception != null)   throw new ExecutionException(exception);
  if (connection != null)   return connection;
  throw new TimeoutException();
}
