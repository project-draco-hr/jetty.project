{
  EventDriverFactory factory=new EventDriverFactory(WebSocketPolicy.newClientPolicy());
  try {
    factory.getMethods(BadDuplicateFrameSocket.class);
    Assert.fail("Should have thrown " + InvalidWebSocketException.class);
  }
 catch (  InvalidWebSocketException e) {
    Assert.assertThat(e.getMessage(),containsString("Duplicate @OnWebSocketFrame"));
  }
}
