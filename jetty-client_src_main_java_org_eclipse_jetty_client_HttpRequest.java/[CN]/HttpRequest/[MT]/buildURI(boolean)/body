{
  String path=getPath();
  String query=getQuery();
  if (query != null && withQuery)   path+="?" + query;
  URI result=URI.create(path);
  if (!result.isAbsolute())   result=URI.create(client.address(getScheme(),getHost(),getPort()) + path);
  return result;
}
