{
  URI uri=URI.create(path);
  String rawPath=uri.getRawPath();
  if (uri.isOpaque())   rawPath=path;
  if (rawPath == null)   rawPath="";
  this.path=rawPath;
  String query=uri.getRawQuery();
  if (query != null) {
    this.query=query;
    params.clear();
    extractParams(query);
  }
  if (uri.isAbsolute())   this.path=buildURI(false).toString();
  this.uri=null;
  return this;
}
