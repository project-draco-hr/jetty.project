{
  this.client=client;
  this.conversation=conversation;
  scheme=uri.getScheme();
  host=client.normalizeHost(uri.getHost());
  port=client.normalizePort(scheme,uri.getPort());
  path=uri.getRawPath();
  query=uri.getRawQuery();
  extractParams(query);
  this.uri=buildURI(true);
  followRedirects(client.isFollowRedirects());
  idleTimeout=client.getIdleTimeout();
  HttpField acceptEncodingField=client.getAcceptEncodingField();
  if (acceptEncodingField != null)   headers.put(acceptEncodingField);
  headers.put(client.getUserAgentField());
}
