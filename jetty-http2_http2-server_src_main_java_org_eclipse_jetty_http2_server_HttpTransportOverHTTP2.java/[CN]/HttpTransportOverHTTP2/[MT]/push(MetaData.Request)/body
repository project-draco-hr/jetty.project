{
  if (!stream.getSession().isPushEnabled()) {
    if (LOG.isDebugEnabled())     LOG.debug("HTTP/2 Push disabled for {}",request);
    return;
  }
  stream.push(new PushPromiseFrame(stream.getId(),0,request),new Promise<Stream>(){
    @Override public void succeeded(    Stream pushStream){
      HttpTransportOverHTTP2 transport=new HttpTransportOverHTTP2(connector,httpConfiguration,endPoint,(IStream)pushStream,request);
      HttpInputOverHTTP2 input=new HttpInputOverHTTP2();
      HttpChannelOverHTTP2 channel=new HttpChannelOverHTTP2(connector,httpConfiguration,endPoint,transport,input,pushStream);
      pushStream.setAttribute(IStream.CHANNEL_ATTRIBUTE,channel);
      channel.onPushRequest(request);
    }
    @Override public void failed(    Throwable x){
      if (LOG.isDebugEnabled())       LOG.debug("Could not push " + request,x);
    }
  }
);
}
