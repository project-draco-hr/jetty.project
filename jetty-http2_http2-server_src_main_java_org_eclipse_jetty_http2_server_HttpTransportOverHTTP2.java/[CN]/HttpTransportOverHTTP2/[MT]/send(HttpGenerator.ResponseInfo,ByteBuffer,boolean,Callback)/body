{
  MetaData.Request metaData=(MetaData.Request)request.getMetaData();
  boolean isHeadRequest=HttpMethod.HEAD.is(metaData.getMethod());
  boolean hasContent=BufferUtil.hasContent(content) && !isHeadRequest;
  if (commit.compareAndSet(false,true)) {
    commit(info,!hasContent,!hasContent ? callback : new Callback.Adapter(){
      @Override public void failed(      Throwable x){
      }
    }
);
  }
 else {
  }
  if (hasContent) {
    send(content,lastContent,callback);
  }
}
