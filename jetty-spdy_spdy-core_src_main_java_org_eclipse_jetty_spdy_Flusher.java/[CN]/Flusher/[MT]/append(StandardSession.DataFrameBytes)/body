{
synchronized (lock) {
    Throwable failure=this.failure;
    if (failure == null) {
      int index=queue.size();
      while (index > 0) {
        StandardSession.FrameBytes element=queue.getUnsafe(index - 1);
        if (element.compareTo(frameBytes) >= 0)         break;
        --index;
      }
      queue.add(index,frameBytes);
    }
    return failure;
  }
}
