{
  int position=buffer.position();
  int limit=buffer.limit();
  if (position == limit) {
    buffer.position(0);
    buffer.limit(buffer.capacity());
    return 0;
  }
  buffer.position(limit);
  buffer.limit(buffer.capacity());
  return position;
}
