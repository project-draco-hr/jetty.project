{
  baseRequest.setHandled(true);
  sleep(roundtrip / 2);
  if (request.getHeader("x-spdy-push") == null)   sleep(roundtrip / 2);
  String suffix=target.substring(target.indexOf('.') + 1);
  int index=Integer.parseInt(target.substring(1,target.length() - suffix.length() - 1));
  int contentLength;
  String contentType;
switch (suffix) {
case "html":
    contentLength=htmlResources[index];
  contentType="text/html";
break;
case "css":
contentLength=cssResources[index];
contentType="text/css";
break;
case "js":
contentLength=jsResources[index];
contentType="text/javascript";
break;
case "png":
contentLength=pngResources[index];
contentType="image/png";
break;
default :
throw new ServletException();
}
response.setContentType(contentType);
response.setContentLength(contentLength);
response.getOutputStream().write(new byte[contentLength]);
}
