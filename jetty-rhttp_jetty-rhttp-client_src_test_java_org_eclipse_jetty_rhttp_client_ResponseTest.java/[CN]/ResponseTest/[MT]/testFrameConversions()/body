{
  int id=1;
  int statusCode=200;
  String statusMessage="OK";
  Map<String,String> headers=new LinkedHashMap<String,String>();
  headers.put("X","X");
  headers.put("Y","Y");
  headers.put("Z","Z");
  byte[] body="BODY".getBytes("UTF-8");
  RHTTPResponse response1=new RHTTPResponse(id,statusCode,statusMessage,headers,body);
  byte[] frameBytes1=response1.getFrameBytes();
  RHTTPResponse response2=RHTTPResponse.fromFrameBytes(frameBytes1);
  assertEquals(id,response2.getId());
  assertEquals(statusCode,response2.getStatusCode());
  assertEquals(response2.getStatusMessage(),statusMessage);
  assertEquals(headers,response2.getHeaders());
  assertTrue(Arrays.equals(response2.getBody(),body));
  byte[] frameBytes2=response2.getFrameBytes();
  assertTrue(Arrays.equals(frameBytes1,frameBytes2));
}
