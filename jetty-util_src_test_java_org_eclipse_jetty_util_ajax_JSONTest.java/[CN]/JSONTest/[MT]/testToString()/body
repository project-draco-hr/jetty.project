{
  HashMap map=new HashMap();
  HashMap obj6=new HashMap();
  HashMap obj7=new HashMap();
  Woggle w0=new Woggle();
  Woggle w1=new Woggle();
  w0.name="woggle0";
  w0.nested=w1;
  w0.number=100;
  w1.name="woggle1";
  w1.nested=null;
  w1.number=-101;
  map.put("n1",null);
  map.put("n2",new Integer(2));
  map.put("n3",new Double(-0.00000000003));
  map.put("n4","4\n\r\t\"4");
  map.put("n5",new Object[]{"a",new Character('b'),new Integer(3),new String[]{},null,Boolean.TRUE,Boolean.FALSE});
  map.put("n6",obj6);
  map.put("n7",obj7);
  map.put("n8",new int[]{1,2,3,4});
  map.put("n9",new JSON.Literal("[{},  [],  {}]"));
  map.put("w0",w0);
  obj7.put("x","value");
  String s=JSON.toString(map);
  assertTrue(s.indexOf("\"n1\":null") >= 0);
  assertTrue(s.indexOf("\"n2\":2") >= 0);
  assertTrue(s.indexOf("\"n3\":-3.0E-11") >= 0);
  assertTrue(s.indexOf("\"n4\":\"4\\n") >= 0);
  assertTrue(s.indexOf("\"n5\":[\"a\",\"b\",") >= 0);
  assertTrue(s.indexOf("\"n6\":{}") >= 0);
  assertTrue(s.indexOf("\"n7\":{\"x\":\"value\"}") >= 0);
  assertTrue(s.indexOf("\"n8\":[1,2,3,4]") >= 0);
  assertTrue(s.indexOf("\"n9\":[{},  [],  {}]") >= 0);
  assertTrue(s.indexOf("\"w0\":{\"class\":\"org.eclipse.jetty.util.ajax.JSONTest$Woggle\",\"name\":\"woggle0\",\"nested\":{\"class\":\"org.eclipse.jetty.util.ajax.JSONTest$Woggle\",\"name\":\"woggle1\",\"nested\":null,\"number\":-101},\"number\":100}") >= 0);
  Gadget gadget=new Gadget();
  gadget.setShields(42);
  gadget.setWoggles(new Woggle[]{w0,w1});
  s=JSON.toString(new Gadget[]{gadget});
  assertTrue(s.startsWith("["));
  assertTrue(s.indexOf("\"modulated\":false") >= 0);
  assertTrue(s.indexOf("\"shields\":42") >= 0);
  assertTrue(s.indexOf("\"name\":\"woggle0\"") >= 0);
  assertTrue(s.indexOf("\"name\":\"woggle1\"") >= 0);
}
