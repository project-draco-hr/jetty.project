{
  List<URL> urls=new ArrayList<URL>();
  Bundle[] bundles=FrameworkUtil.getBundle(PluggableWebAppRegistrationCustomizerImpl.class).getBundleContext().getBundles();
  Collection<String> tldbundles=getTldBundles(provider);
  for (  Bundle bundle : bundles) {
    if (tldbundles.contains(bundle.getSymbolicName())) {
      registerTldBundle(locatorHelper,bundle,urls);
    }
  }
  return urls.toArray(new URL[urls.size()]);
}
