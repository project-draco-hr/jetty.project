{
  this.pathSpec=pathSpec;
  boolean inGrouping=false;
  this.pathDepth=0;
  this.specLength=pathSpec.length();
  for (  char c : pathSpec.toCharArray()) {
switch (c) {
case '[':
      inGrouping=true;
    break;
case ']':
  inGrouping=false;
break;
case '/':
if (!inGrouping) {
this.pathDepth++;
}
break;
}
}
this.pattern=Pattern.compile(pathSpec);
}
