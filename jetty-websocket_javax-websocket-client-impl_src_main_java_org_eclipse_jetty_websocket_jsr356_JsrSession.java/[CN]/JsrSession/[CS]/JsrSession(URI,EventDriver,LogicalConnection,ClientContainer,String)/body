{
  super(requestURI,websocket,connection);
  if (websocket instanceof AbstractJsrEventDriver) {
    this.config=((AbstractJsrEventDriver)websocket).getConfig();
  }
 else {
    this.config=new BasicEndpointConfig();
  }
  this.container=container;
  this.id=id;
  this.decoderFactory=new DecoderFactory(container.getDecoderFactory());
  this.encoderFactory=new EncoderFactory(container.getEncoderFactory());
  this.activeDecoders=new HashMap<>();
  this.activeEncoders=new HashMap<>();
  this.messageHandlerFactory=new MessageHandlerFactory();
  this.wrappers=new MessageHandlerWrapper[MessageType.values().length];
  this.messageHandlerSet=new HashSet<>();
}
