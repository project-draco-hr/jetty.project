{
  try {
    String message="0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF";
    for (int i=0; i < iterations; ++i) {
      byte[] data=message.getBytes(StringUtil.__UTF8);
      _generator.addFrame((byte)0x8,WebSocketConnectionD06.OP_TEXT,data,0,data.length);
      _generator.flush();
      _response=null;
      while (_response == null)       _parser.parseNext();
      Assert.assertEquals(message,_response.toString());
      latch.countDown();
    }
  }
 catch (  IOException x) {
    throw new RuntimeException(x);
  }
}
