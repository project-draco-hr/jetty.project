{
  if (length == 0)   return;
  if (LOG.isDebugEnabled())   LOG.debug("Data sent, decreasing window by {}",length);
  int oldSize=session.updateWindowSize(-length);
  if (LOG.isDebugEnabled())   LOG.debug("Updated session window {} -> {} for {}",oldSize,oldSize - length,session);
  if (stream != null) {
    oldSize=stream.updateWindowSize(-length);
    if (LOG.isDebugEnabled())     LOG.debug("Updated stream window {} -> {} for {}",oldSize,oldSize - length,stream);
  }
}
