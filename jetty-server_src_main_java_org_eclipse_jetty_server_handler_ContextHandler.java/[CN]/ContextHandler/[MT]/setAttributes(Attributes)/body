{
  if (attributes instanceof AttributesMap) {
    _attributes=(AttributesMap)attributes;
    Enumeration e=_attributes.getAttributeNames();
    while (e.hasMoreElements()) {
      String name=(String)e.nextElement();
      checkManagedAttribute(name,attributes.getAttribute(name));
    }
  }
 else {
    _attributes=new AttributesMap();
    Enumeration e=attributes.getAttributeNames();
    while (e.hasMoreElements()) {
      String name=(String)e.nextElement();
      Object value=attributes.getAttribute(name);
      checkManagedAttribute(name,value);
      _attributes.setAttribute(name,value);
    }
  }
}
