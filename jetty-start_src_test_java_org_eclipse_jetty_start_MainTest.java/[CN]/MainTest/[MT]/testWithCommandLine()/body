{
  List<String> cmdLineArgs=new ArrayList<>();
  File homePath=MavenTestingUtils.getTestResourceDir("usecases/home");
  cmdLineArgs.add("jetty.home=" + homePath);
  cmdLineArgs.add("--exec");
  cmdLineArgs.add("-Xms1024m");
  cmdLineArgs.add("-Xmx1024m");
  File extraJar=MavenTestingUtils.getTestResourceFile("extra-libs/example.jar");
  File extraDir=MavenTestingUtils.getTestResourceDir("extra-resources");
  cmdLineArgs.add(String.format("--lib=%s%s%s",extraJar.getAbsolutePath(),File.pathSeparatorChar,extraDir.getAbsolutePath()));
  cmdLineArgs.add("jetty.xml");
  cmdLineArgs.add("jetty-jmx.xml");
  cmdLineArgs.add("jetty-logging.xml");
  Main main=new Main();
  StartArgs args=main.processCommandLine(cmdLineArgs.toArray(new String[cmdLineArgs.size()]));
  BaseHome baseHome=main.getBaseHome();
  Assert.assertThat("jetty.home",baseHome.getHome(),is(homePath.getAbsolutePath()));
  Assert.assertThat("jetty.base",baseHome.getBase(),is(homePath.getAbsolutePath()));
  ConfigurationAssert.assertConfiguration(baseHome,args,"assert-home-with-jvm.txt");
}
