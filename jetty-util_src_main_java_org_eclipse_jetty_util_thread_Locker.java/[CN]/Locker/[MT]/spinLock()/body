{
  Thread current=Thread.currentThread();
  while (true) {
    Thread locker=_spinLockState.get();
    if (locker != null || !_spinLockState.compareAndSet(null,current)) {
      if (locker == current)       throw new IllegalStateException("Locker is not reentrant");
      continue;
    }
    return;
  }
}
