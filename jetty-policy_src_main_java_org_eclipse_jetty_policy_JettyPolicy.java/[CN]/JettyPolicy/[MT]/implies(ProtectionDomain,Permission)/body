{
  PermissionCollection pc;
  if (!_initialized) {
synchronized (_initialized) {
      if (!_initialized) {
        refresh();
      }
    }
  }
synchronized (_cache) {
    pc=_cache.get(domain);
  }
  if (pc != null) {
    return pc.implies(permission);
  }
  pc=getPermissions(domain);
  if (pc == null) {
    return false;
  }
synchronized (_cache) {
    _cache.put(domain,pc);
  }
  return pc.implies(permission);
}
