{
  int written=0;
  for (  ByteBuffer b : buffers) {
    if (b.hasRemaining()) {
      int position=b.position();
      int l=super.flush(b);
      notifyOutgoing(b,position,l);
      if (l == 0)       break;
 else       written+=l;
    }
  }
  return written;
}
