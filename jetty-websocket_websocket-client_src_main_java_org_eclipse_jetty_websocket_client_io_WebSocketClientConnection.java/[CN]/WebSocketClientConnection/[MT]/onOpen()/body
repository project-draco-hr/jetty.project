{
  boolean beenOpened=opened.getAndSet(true);
  if (!beenOpened) {
    WebSocketSession session=getSession();
    sessionListener.onSessionOpened(session);
    connectPromise.succeeded(session);
  }
  super.onOpen();
}
