{
  if (!dir.exists()) {
    throw new IOException("Directory does not exist: " + dir.getAbsolutePath());
  }
  if (!dir.canWrite()) {
    throw new IOException("Unable to write to directory: " + dir.getAbsolutePath());
  }
}
