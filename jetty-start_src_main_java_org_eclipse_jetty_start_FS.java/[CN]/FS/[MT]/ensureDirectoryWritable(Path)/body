{
  if (!Files.exists(dir,NO_LINK_OPTIONS)) {
    throw new IOException("Path does not exist: " + dir.toAbsolutePath());
  }
  if (!Files.isDirectory(dir,NO_LINK_OPTIONS)) {
    throw new IOException("Directory does not exist: " + dir.toAbsolutePath());
  }
  if (!Files.isWritable(dir)) {
    throw new IOException("Unable to write to directory: " + dir.toAbsolutePath());
  }
}
