{
  if (_port <= 0) {
    if (_serverName == null)     getServerName();
    if (_port <= 0) {
      if (_serverName != null && _uri != null)       _port=_uri.getPort();
 else {
        InetSocketAddress local=_connection.getLocalAddress();
        _port=local == null ? 0 : local.getPort();
      }
    }
  }
  if (_port <= 0) {
    if (getScheme().equalsIgnoreCase(URIUtil.HTTPS))     return 443;
    return 80;
  }
  return _port;
}
