{
  MultiMap<String> result=new MultiMap<>();
  String contentType=getContentType();
  if (contentType != null && !contentType.isEmpty()) {
    contentType=HttpFields.valueParameters(contentType,null);
    int contentLength=getContentLength();
    if (contentLength != 0) {
      if (MimeTypes.Type.FORM_ENCODED.is(contentType) && _inputState == __NONE && (HttpMethod.POST.is(getMethod()) || HttpMethod.PUT.is(getMethod()))) {
        extractFormParameters(result);
      }
 else       if (contentType.startsWith("multipart/form-data") && getAttribute(__MULTIPART_CONFIG_ELEMENT) != null && _multiPartInputStream == null) {
        extractMultipartParameters(result);
      }
    }
  }
  return result;
}
