{
  try {
    if (_useFileMappedBuffer && resource.getFile() != null)     return new DirectNIOBuffer(resource.getFile());
    int len=(int)resource.length();
    Buffer buffer=new DirectNIOBuffer(len);
    InputStream is=resource.getInputStream();
    buffer.readFrom(is,len);
    is.close();
    return buffer;
  }
 catch (  IOException e) {
    Log.warn(e);
    return null;
  }
}
