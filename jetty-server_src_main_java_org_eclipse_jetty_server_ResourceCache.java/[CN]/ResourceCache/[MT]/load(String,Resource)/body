{
  Content content=null;
  if (resource != null && resource.exists() && !resource.isDirectory()) {
    long len=resource.length();
    if (len > 0 && len < _maxCachedFileSize && len < _maxCacheSize) {
      content=new Content(pathInContext,resource);
      shrinkCache();
      Content added=_cache.putIfAbsent(pathInContext,content);
      if (added != null) {
        content.invalidate();
        content=added;
      }
      return content;
    }
  }
  return null;
}
