{
  if (!dir.exists()) {
    return false;
  }
  String lowername=name.toLowerCase();
  File file=new File(dir,name);
  if (!file.isDirectory() && !lowername.endsWith(".war")) {
    return false;
  }
  if (file.isDirectory() && (new File(dir,name + ".war").exists() || new File(dir,name + ".WAR").exists())) {
    return false;
  }
  if (_contexts != null) {
    String context=name;
    if (!file.isDirectory()) {
      context=context.substring(0,context.length() - 4);
    }
    if (new File(_contexts,context + ".xml").exists() || new File(_contexts,context + ".XML").exists()) {
      return false;
    }
  }
  return true;
}
