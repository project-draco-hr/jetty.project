{
  this.scheduler=scheduler;
  this.endPoint=endPoint;
  this.generator=generator;
  this.listener=listener;
  this.flowControl=flowControl;
  this.flusher=new HTTP2Flusher(this);
  this.maxLocalStreams=maxStreams;
  this.maxRemoteStreams=maxStreams;
  this.streamIds.set(initialStreamId);
  this.windowSize.set(flowControl.getInitialWindowSize());
}
