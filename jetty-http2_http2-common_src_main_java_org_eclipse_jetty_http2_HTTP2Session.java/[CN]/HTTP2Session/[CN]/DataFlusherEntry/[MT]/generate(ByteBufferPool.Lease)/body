{
  DataFrame dataFrame=(DataFrame)frame;
  int flowControlLength=dataFrame.remaining() + dataFrame.padding();
  int streamWindowSize=stream.getWindowSize();
  int sessionWindowSize=getWindowSize();
  int windowSize=Math.min(streamWindowSize,sessionWindowSize);
  length=Math.min(flowControlLength,windowSize);
  if (LOG.isDebugEnabled())   LOG.debug("Generated {}, maxLength={}",dataFrame,length);
  generator.data(lease,dataFrame,length);
}
