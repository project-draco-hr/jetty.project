{
  flowControl.onDataSent(HTTP2Session.this,stream,length);
  DataFrame dataFrame=(DataFrame)frame;
  if (dataFrame.remaining() > 0) {
    flusher.prepend(this);
  }
 else {
    stream.updateClose(dataFrame.isEndStream(),true);
    if (stream.isClosed())     removeStream(stream,true);
    callback.succeeded();
  }
}
