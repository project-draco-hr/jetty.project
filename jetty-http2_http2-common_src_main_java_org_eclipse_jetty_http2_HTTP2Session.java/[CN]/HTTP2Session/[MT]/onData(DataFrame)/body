{
  if (LOG.isDebugEnabled())   LOG.debug("Received {}",frame);
  int streamId=frame.getStreamId();
  final IStream stream=getStream(streamId);
  if (stream != null) {
    stream.updateClose(frame.isEndStream(),false);
    final int flowControlLength=frame.remaining() + frame.padding();
    flowControl.onDataReceived(stream,flowControlLength);
    boolean result=stream.process(frame,new Callback.Adapter(){
      @Override public void succeeded(){
        flowControl.onDataConsumed(stream,flowControlLength);
      }
    }
);
    if (stream.isClosed())     removeStream(stream,false);
    return result;
  }
 else {
    ResetFrame resetFrame=new ResetFrame(streamId,ErrorCodes.STREAM_CLOSED_ERROR);
    reset(resetFrame,disconnectOnFailure());
    return false;
  }
}
