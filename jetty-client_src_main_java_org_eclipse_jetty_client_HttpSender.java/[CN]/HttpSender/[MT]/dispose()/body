{
  while (true) {
    RequestState current=requestState.get();
    if (updateRequestState(current,RequestState.FAILURE)) {
      HttpContent content=this.content;
      if (content != null)       content.close();
      return current;
    }
  }
}
