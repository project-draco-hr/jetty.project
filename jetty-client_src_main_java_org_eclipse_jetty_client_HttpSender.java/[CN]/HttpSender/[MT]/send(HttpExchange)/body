{
  if (!updateState(State.IDLE,State.BEGIN))   throw new IllegalStateException();
  Request request=exchange.getRequest();
  Throwable cause=request.getAbortCause();
  if (cause != null) {
    exchange.abort(cause);
  }
 else {
    LOG.debug("Sending {}",request);
    RequestNotifier notifier=connection.getDestination().getRequestNotifier();
    notifier.notifyBegin(request);
    ContentProvider content=request.getContent();
    this.contentIterator=content == null ? Collections.<ByteBuffer>emptyIterator() : content.iterator();
    boolean updated=updateSendState(SendState.IDLE,SendState.EXECUTE);
    assert updated;
    if (content instanceof AsyncContentProvider)     ((AsyncContentProvider)content).setListener(this);
    send();
  }
}
