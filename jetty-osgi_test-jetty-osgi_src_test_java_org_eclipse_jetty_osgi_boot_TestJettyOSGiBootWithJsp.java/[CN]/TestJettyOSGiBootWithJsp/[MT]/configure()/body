{
  File etcFolder=new File("src/test/config/etc");
  String etc="file://" + etcFolder.getAbsolutePath();
  ArrayList<Option> options=new ArrayList<Option>();
  options.add(PaxRunnerOptions.vmOption("-Djetty.port=9876 -Djetty.home=" + etcFolder.getParentFile().getAbsolutePath() + " -D"+ OSGiServerConstants.MANAGED_JETTY_XML_CONFIG_URLS+ "="+ etc+ "/jetty.xml;"+ etc+ "/jetty-selector.xml;"+ etc+ "/jetty-deployer.xml;"+ etc+ "/jetty-testrealm.xml"));
  options.add(CoreOptions.equinox());
  options.add(CoreOptions.bootDelegationPackages("org.xml.sax","org.xml.*","org.w3c.*","javax.xml.*"));
  options.addAll(TestJettyOSGiBootCore.coreJettyDependencies());
  if (LOGGING_ENABLED) {
    options.addAll(Arrays.asList(options(systemProperty("org.ops4j.pax.logging.DefaultServiceLog.level").value("INFO"))));
  }
  options.addAll(jspDependencies());
  if (REMOTE_DEBUGGING) {
    options.addAll(Arrays.asList(options(PaxRunnerOptions.vmOption("-Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5006"))));
  }
  return options.toArray(new Option[options.size()]);
}
