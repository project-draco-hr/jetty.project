{
  try {
    LOG.debug("Parsing {} bytes",buffer.remaining());
    while (parseFrame(buffer)) {
      LOG.debug("Parsed Frame: " + frame);
      notifyFrame(frame);
    }
  }
 catch (  WebSocketException e) {
    notifyWebSocketException(e);
  }
catch (  Throwable t) {
    notifyWebSocketException(new WebSocketException(t));
  }
 finally {
    buffer.position(buffer.limit());
  }
}
