{
  try {
    LOG.debug("Parsing {} bytes",buffer.remaining());
    while (buffer.hasRemaining()) {
      if (parser.parse(buffer)) {
        notifyFrame(parser.getFrame());
      }
    }
  }
 catch (  WebSocketException e) {
    notifyWebSocketException(e);
  }
catch (  Throwable t) {
    notifyWebSocketException(new WebSocketException(t));
  }
 finally {
    buffer.position(buffer.limit());
  }
}
