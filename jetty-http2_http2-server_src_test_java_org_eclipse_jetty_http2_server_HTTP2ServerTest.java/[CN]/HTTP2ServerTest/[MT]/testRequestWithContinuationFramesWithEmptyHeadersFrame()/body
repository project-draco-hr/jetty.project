{
  testRequestWithContinuationFrames(new Callable<ByteBufferPool.Lease>(){
    @Override public ByteBufferPool.Lease call() throws Exception {
      ByteBufferPool.Lease lease=new ByteBufferPool.Lease(byteBufferPool);
      generator.control(lease,new PrefaceFrame());
      MetaData.Request metaData=newRequest("GET",new HttpFields());
      generator.control(lease,new HeadersFrame(1,metaData,null,true));
      List<ByteBuffer> buffers=lease.getByteBuffers();
      ByteBuffer headersFrameHeader=buffers.get(1);
      headersFrameHeader.put(0,(byte)0);
      headersFrameHeader.putShort(1,(short)0);
      lease.insert(2,buffers.get(3).slice(),false);
      return lease;
    }
  }
);
}
