{
  Class<?> paramTypes[]=eventMethod.getParamTypes();
  @SuppressWarnings("unchecked") Class<? extends BaseFrame> frameType=(Class<? extends BaseFrame>)((paramTypes.length == 1) ? paramTypes[0] : paramTypes[1]);
  if (onFrames.containsKey(frameType)) {
    StringBuilder err=new StringBuilder();
    err.append("Duplicate Frame Type declaration on ");
    err.append(eventMethod.getMethod());
    err.append(StringUtil.__LINE_SEPARATOR);
    EventMethod dup=onFrames.get(frameType);
    err.append("Type ").append(frameType.getSimpleName()).append(" previously declared at ");
    err.append(dup.getMethod());
    throw new InvalidWebSocketException(err.toString());
  }
  onFrames.put(frameType,eventMethod);
}
