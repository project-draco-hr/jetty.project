{
  ByteBuffer content=createRandomByteBuffer();
  boolean lastContent=true;
  Object context=null;
  httpTransportOverSPDY.send(responseInfo,content,lastContent,context,callback);
  ArgumentCaptor<ReplyInfo> replyInfoCaptor=ArgumentCaptor.forClass(ReplyInfo.class);
  verify(stream,times(1)).reply(replyInfoCaptor.capture());
  assertThat("ReplyInfo close is false",replyInfoCaptor.getValue().isClose(),is(false));
  ArgumentCaptor<ByteBufferDataInfo> dataInfoCaptor=ArgumentCaptor.forClass(ByteBufferDataInfo.class);
  verify(stream,times(1)).data(dataInfoCaptor.capture(),anyLong(),any(TimeUnit.class),anyObject(),any(Callback.class));
  assertThat("lastContent is true",dataInfoCaptor.getValue().isClose(),is(true));
  assertThat("ByteBuffer length is 4096",dataInfoCaptor.getValue().length(),is(4096));
}
