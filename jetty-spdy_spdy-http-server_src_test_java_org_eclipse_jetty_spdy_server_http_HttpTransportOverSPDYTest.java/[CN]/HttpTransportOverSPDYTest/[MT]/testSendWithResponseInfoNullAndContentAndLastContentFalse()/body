{
  ByteBuffer content=createRandomByteBuffer();
  boolean lastContent=false;
  httpTransportOverSPDY.send(null,content,lastContent,callback);
  ArgumentCaptor<ByteBufferDataInfo> dataInfoCaptor=ArgumentCaptor.forClass(ByteBufferDataInfo.class);
  ArgumentCaptor<Callback> callbackCaptor=ArgumentCaptor.forClass(Callback.class);
  verify(stream,times(1)).data(dataInfoCaptor.capture(),callbackCaptor.capture());
  callbackCaptor.getValue().succeeded();
  verify(callback,times(1)).succeeded();
  assertThat("lastContent is false",dataInfoCaptor.getValue().isClose(),is(false));
  assertThat("ByteBuffer is empty",dataInfoCaptor.getValue().length(),is(4096));
}
