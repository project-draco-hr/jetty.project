{
  assertNotClosed();
  int left=len;
  int offset=off;
  while (left > 0) {
    int space=utf.remaining();
    int size=Math.min(space,left);
    assert(space > 0);
    assert(size > 0);
    utf.append(cbuf,offset,size);
    left-=size;
    if (left > 0) {
      flush(false);
    }
    offset+=size;
  }
}
