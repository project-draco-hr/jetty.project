{
  assertNotClosed();
  flush(true);
  closed=true;
  if (callback != null) {
    callback.writeSuccess();
  }
  bufferPool.release(buffer);
  LOG.debug("closed (frame count={})",frameCount);
}
