{
  int requests=1000;
  CountDownLatch requestLatch=new CountDownLatch(requests);
  for (int i=0; i < requests; i++) {
    threadPool.execute(new executeSingleRequestRunnable(requestLatch));
  }
  threadPool.shutdown();
  threadPool.awaitTermination(60,TimeUnit.SECONDS);
  assertThat("all requests executed",requestLatch.await(60,TimeUnit.SECONDS),is(true));
}
