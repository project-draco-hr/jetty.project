{
  int readyOps=_key.readyOps();
  int oldInterestOps;
  int newInterestOps;
  try (SpinLock.Lock lock=_lock.lock()){
    _updatePending=true;
    oldInterestOps=_desiredInterestOps;
    newInterestOps=oldInterestOps & ~readyOps;
    _desiredInterestOps=newInterestOps;
  }
   if (LOG.isDebugEnabled())   LOG.debug("onSelected {}->{} for {}",oldInterestOps,newInterestOps,this);
  boolean readable=(readyOps & SelectionKey.OP_READ) != 0;
  boolean writable=(readyOps & SelectionKey.OP_WRITE) != 0;
  return readable ? (writable ? _runFillableCompleteWrite : _runFillable) : (writable ? _runCompleteWrite : null);
}
