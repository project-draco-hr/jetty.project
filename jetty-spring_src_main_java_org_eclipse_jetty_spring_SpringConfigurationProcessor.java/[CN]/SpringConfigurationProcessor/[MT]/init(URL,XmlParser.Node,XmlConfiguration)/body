{
  try {
    _configuration=configuration;
    Resource resource=url != null ? new UrlResource(url) : new ByteArrayResource(("" + "<?xml version=\"1.0\" encoding=\"UTF-8\"?>" + "<!DOCTYPE beans PUBLIC \"-//SPRING//DTD BEAN//EN\" \"http://www.springframework.org/dtd/spring-beans.dtd\">"+ config).getBytes("UTF-8"));
    _beanFactory=new XmlBeanFactory(resource){
      @Override protected void applyPropertyValues(      String beanName,      BeanDefinition mbd,      BeanWrapper bw,      PropertyValues pvs){
        _configuration.initializeDefaults(bw.getWrappedInstance());
        super.applyPropertyValues(beanName,mbd,bw,pvs);
      }
    }
;
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
