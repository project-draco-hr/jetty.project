{
  Locker lock=new Locker(spin);
  assertFalse(lock.isLocked());
  try (Locker.Lock l=lock.lock()){
    assertTrue(lock.isLocked());
  }
  finally {
    assertFalse(lock.isLocked());
  }
  assertFalse(lock.isLocked());
}
