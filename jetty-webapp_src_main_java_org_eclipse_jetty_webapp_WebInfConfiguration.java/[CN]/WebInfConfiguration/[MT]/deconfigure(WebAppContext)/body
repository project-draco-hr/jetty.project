{
  Boolean tmpdirConfigured=(Boolean)context.getAttribute(TEMPDIR_CONFIGURED);
  if (context.getTempDirectory() != null && (tmpdirConfigured == null || !tmpdirConfigured.booleanValue()) && !isTempWorkDirectory(context.getTempDirectory())) {
    IO.delete(context.getTempDirectory());
    context.setTempDirectory(null);
    context.setAttribute(TEMPDIR_CONFIGURED,null);
    context.setAttribute(WebAppContext.TEMPDIR,null);
  }
  context.setBaseResource(_preUnpackBaseResource);
}
