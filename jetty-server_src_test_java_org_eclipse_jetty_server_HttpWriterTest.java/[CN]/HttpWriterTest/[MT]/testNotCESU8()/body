{
  _writer.setCharacterEncoding(StringUtil.__UTF8);
  String data="xxx\uD801\uDC00xxx";
  _writer.write(data);
  assertEquals("787878F0909080787878",TypeUtil.toHexString(_bytes.asArray()));
  assertArrayEquals(data.getBytes(StringUtil.__UTF8),_bytes.asArray());
  assertEquals(3 + 4 + 3,_bytes.length());
  Utf8StringBuilder buf=new Utf8StringBuilder();
  buf.append(_bytes.asArray(),0,_bytes.length());
  assertEquals(data,buf.toString());
}
