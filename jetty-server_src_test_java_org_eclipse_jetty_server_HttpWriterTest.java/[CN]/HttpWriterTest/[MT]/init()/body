{
  _bytes=BufferUtil.allocate(2048);
  HttpChannel channel=new HttpChannel(null,null,null){
    @Override public HttpConnector getHttpConnector(){
      return null;
    }
    @Override protected int write(    ByteBuffer content) throws IOException {
      return BufferUtil.append(content,_bytes);
    }
    @Override protected void commit(    ResponseInfo info,    ByteBuffer content) throws IOException {
    }
    @Override protected int getContentBufferSize(){
      return 0;
    }
    @Override protected void increaseContentBufferSize(    int size){
    }
    @Override protected void resetBuffer(){
      BufferUtil.clear(_bytes);
    }
    @Override protected void flushResponse() throws IOException {
    }
    @Override protected void completeResponse() throws IOException {
    }
    @Override protected void completed(){
    }
    @Override protected void execute(    Runnable task){
      task.run();
    }
    @Override public Timer getTimer(){
      return null;
    }
  }
;
  HttpOutput httpOut=new HttpOutput(channel);
  _writer=new HttpWriter(httpOut);
}
