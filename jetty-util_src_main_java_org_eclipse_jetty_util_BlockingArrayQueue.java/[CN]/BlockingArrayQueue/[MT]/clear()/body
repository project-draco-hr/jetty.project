{
  final Lock tailLock=_tailLock;
  tailLock.lock();
  try {
    final Lock headLock=_headLock;
    headLock.lock();
    try {
      _indexes[HEAD_OFFSET]=0;
      _indexes[TAIL_OFFSET]=0;
      _size.set(0);
    }
  finally {
      headLock.unlock();
    }
  }
  finally {
    tailLock.unlock();
  }
}
