{
  Runnable client=new Runnable(){
    @Override public void run(){
      try {
        Session client=factory.newSPDYClient(version).connect(proxyAddress,null).get(5,TimeUnit.SECONDS);
        for (int i=0; i < requestsPerClient; i++) {
          sendSingleClientRequest(proxyAddress,client,serverIdentificationString,serverHost);
        }
      }
 catch (      InterruptedException|ExecutionException|TimeoutException e) {
        fail();
        e.printStackTrace();
      }
    }
  }
;
  return client;
}
