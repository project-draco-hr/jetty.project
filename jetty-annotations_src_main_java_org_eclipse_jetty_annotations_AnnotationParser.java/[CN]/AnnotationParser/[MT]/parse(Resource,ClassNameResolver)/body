{
  if (!dir.isDirectory() || !dir.exists() || dir.getName().startsWith("."))   return;
  String[] files=dir.list();
  for (int f=0; files != null && f < files.length; f++) {
    try {
      Resource res=dir.addPath(files[f]);
      if (res.isDirectory())       parse(res,resolver);
 else {
        String fullname=res.getName();
        String filename=res.getFile().getName();
        if (isValidClassFileName(filename)) {
          if ((resolver == null) || (!resolver.isExcluded(fullname) && (!isParsed(fullname) || resolver.shouldOverride(fullname)))) {
            Resource r=Resource.newResource(res.getURL());
            scanClass(r.getInputStream());
          }
        }
      }
    }
 catch (    Exception ex) {
      LOG.warn(Log.EXCEPTION,ex);
    }
  }
}
