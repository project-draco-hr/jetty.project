{
  Future<Void> future=stream.data(new ByteBufferDataInfo(content,lastContent));
  try {
    if (endPoint.getIdleTimeout() > 0)     future.get(endPoint.getIdleTimeout(),TimeUnit.MILLISECONDS);
 else     future.get();
  }
 catch (  ExecutionException e) {
    LOG.debug(e);
    Throwable cause=e.getCause();
    if (cause instanceof IOException)     throw (IOException)cause;
    throw new RuntimeIOException(cause);
  }
catch (  Exception e) {
    throw new RuntimeIOException(e);
  }
}
