{
  FutureCallback<Void> future=new FutureCallback<>();
  stream.data(new ByteBufferDataInfo(content,lastContent),endPoint.getIdleTimeout(),TimeUnit.MILLISECONDS,future);
  try {
    future.get();
  }
 catch (  ExecutionException e) {
    LOG.debug(e);
    Throwable cause=e.getCause();
    throw new EofException(cause);
  }
catch (  Exception e) {
    throw new EofException(e);
  }
}
