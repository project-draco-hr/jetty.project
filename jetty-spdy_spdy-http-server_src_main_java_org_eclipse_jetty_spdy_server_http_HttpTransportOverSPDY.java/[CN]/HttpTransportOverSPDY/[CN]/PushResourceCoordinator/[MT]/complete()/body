{
  if (channelActive.compareAndSet(true,false))   sendNextResourceData();
 else   throw new IllegalStateException("No channel was active when complete has been called.");
}
