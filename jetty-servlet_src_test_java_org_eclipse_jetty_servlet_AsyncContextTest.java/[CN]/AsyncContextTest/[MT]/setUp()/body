{
  _server=new Server();
  _contextHandler=new ServletContextHandler(ServletContextHandler.NO_SESSIONS);
  _connector=new LocalConnector(_server);
  _connector.setIdleTimeout(30000);
  _server.setConnectors(new Connector[]{_connector});
  _contextHandler.setContextPath("/ctx");
  _contextHandler.addServlet(new ServletHolder(new TestServlet()),"/servletPath");
  _contextHandler.addServlet(new ServletHolder(new TestServlet()),"/path with spaces/servletPath");
  _contextHandler.addServlet(new ServletHolder(new TestServlet2()),"/servletPath2");
  _contextHandler.addServlet(new ServletHolder(new ForwardingServlet()),"/forward");
  _contextHandler.addServlet(new ServletHolder(new AsyncDispatchingServlet()),"/dispatchingServlet");
  _contextHandler.addServlet(new ServletHolder(new ExpireServlet()),"/expire/*");
  _contextHandler.addServlet(new ServletHolder(new ErrorServlet()),"/error/*");
  ErrorPageErrorHandler error_handler=new ErrorPageErrorHandler();
  _contextHandler.setErrorHandler(error_handler);
  error_handler.addErrorPage(500,"/error");
  HandlerList handlers=new HandlerList();
  handlers.setHandlers(new Handler[]{_contextHandler,new DefaultHandler()});
  _server.setHandler(handlers);
  _server.start();
}
