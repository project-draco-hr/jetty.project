{
  Map<String,String> headers=new HashMap<String,String>();
  for (Enumeration headerNames=httpRequest.getHeaderNames(); headerNames.hasMoreElements(); ) {
    String name=(String)headerNames.nextElement();
    String value=httpRequest.getHeader(name);
    headers.put(name,value);
  }
  byte[] body=Utils.read(httpRequest.getInputStream());
  return new RHTTPRequest(requestId,httpRequest.getMethod(),httpRequest.getRequestURI(),headers,body);
}
