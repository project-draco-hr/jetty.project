{
  if (_endPoint.flush(buffers))   return null;
  boolean progress=true;
  while (true) {
    int not_empty=0;
    while (not_empty < buffers.length && BufferUtil.isEmpty(buffers[not_empty]))     not_empty++;
    if (not_empty == buffers.length)     return null;
    if (not_empty > 0)     buffers=Arrays.copyOfRange(buffers,not_empty,buffers.length);
    if (!progress)     break;
    int r=buffers[0].remaining();
    if (_endPoint.flush(buffers))     return null;
    progress=r != buffers[0].remaining();
  }
  return buffers;
}
