{
  boolean progress=true;
  while (progress && buffers != null) {
    int before=buffers[0].remaining();
    if (_endPoint.flush(buffers))     return null;
    int r=buffers[0].remaining();
    progress=before != r;
    int not_empty=0;
    while (r == 0) {
      if (++not_empty == buffers.length) {
        buffers=null;
        not_empty=0;
        break;
      }
      r=buffers[not_empty].remaining();
    }
    if (not_empty > 0)     buffers=Arrays.copyOfRange(buffers,not_empty,buffers.length);
  }
  return buffers == null ? EMPTY_BUFFERS : buffers;
}
