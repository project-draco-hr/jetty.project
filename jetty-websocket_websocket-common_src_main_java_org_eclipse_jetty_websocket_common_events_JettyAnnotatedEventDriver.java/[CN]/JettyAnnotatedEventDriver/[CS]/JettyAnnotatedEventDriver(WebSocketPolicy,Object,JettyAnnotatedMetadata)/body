{
  super(policy,websocket);
  this.events=events;
  WebSocket anno=websocket.getClass().getAnnotation(WebSocket.class);
  if (anno.maxTextMessageSize() > 0) {
    this.policy.setMaxTextMessageSize(anno.maxTextMessageSize());
  }
  if (anno.maxBinaryMessageSize() > 0) {
    this.policy.setMaxTextMessageSize(anno.maxBinaryMessageSize());
  }
  if (anno.inputBufferSize() > 0) {
    this.policy.setInputBufferSize(anno.inputBufferSize());
  }
  if (anno.maxIdleTime() > 0) {
    this.policy.setIdleTimeout(anno.maxIdleTime());
  }
}
