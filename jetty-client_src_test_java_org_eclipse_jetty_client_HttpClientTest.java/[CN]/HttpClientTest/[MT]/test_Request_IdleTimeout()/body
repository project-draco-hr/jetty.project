{
  final long idleTimeout=1000;
  start(new AbstractHandler(){
    @Override public void handle(    String target,    org.eclipse.jetty.server.Request baseRequest,    HttpServletRequest request,    HttpServletResponse response) throws IOException, ServletException {
      try {
        baseRequest.setHandled(true);
        TimeUnit.MILLISECONDS.sleep(2 * idleTimeout);
      }
 catch (      InterruptedException x) {
        throw new ServletException(x);
      }
    }
  }
);
  final String host="localhost";
  final int port=connector.getLocalPort();
  try {
    client.newRequest(host,port).scheme(scheme).idleTimeout(idleTimeout).send().get(3 * idleTimeout,TimeUnit.MILLISECONDS);
    Assert.fail();
  }
 catch (  ExecutionException expected) {
    Assert.assertTrue(expected.getCause() instanceof TimeoutException);
  }
  ContentResponse response=client.newRequest(host,port).scheme(scheme).send().get(3 * idleTimeout,TimeUnit.MILLISECONDS);
  Assert.assertNotNull(response);
  Assert.assertEquals(200,response.getStatus());
}
