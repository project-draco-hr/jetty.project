{
  logger.debug("Received {} on {}",synInfo,stream);
  final ServerHTTPSPDYAsyncConnection connection=new ServerHTTPSPDYAsyncConnection(connector,new EmptyAsyncEndPoint(),connector.getServer(),(SPDYAsyncConnection)endPoint.getConnection(),stream);
  stream.setAttribute("connection",connection);
  final Headers headers=synInfo.getHeaders();
  final boolean isClose=synInfo.isClose();
  StreamFrameListener result=headers.isEmpty() || !isClose ? this : null;
  connection.post(new Runnable(){
    @Override public void run(){
      try {
        connection.beginRequest(headers);
        if (isClose)         connection.endRequest();
      }
 catch (      HttpException x) {
        respond(stream,x.getStatus());
      }
catch (      IOException x) {
        close(stream);
      }
    }
  }
);
  return result;
}
