{
  final HttpDestination destination=_httpClient.getDestination(new Address("localhost",_port),_scheme.equalsIgnoreCase("https"));
  final org.eclipse.jetty.client.HttpConnection[] connections=new org.eclipse.jetty.client.HttpConnection[_maxConnectionsPerAddress];
  for (int i=0; i < _maxConnectionsPerAddress; i++) {
    connections[i]=destination.reserveConnection(200);
    assertNotNull(connections[i]);
    HttpExchange ex=new ContentExchange();
    ex.setURL(_scheme + "://localhost:" + _port+ "/?i="+ i);
    ex.setMethod(HttpMethods.GET);
    connections[i].send(ex);
  }
  Connection c=destination.reserveConnection(500);
  assertNull(c);
  destination.returnConnection(connections[0],false);
  c=destination.reserveConnection(500);
  assertNotNull(c);
}
