{
  ContentExchange httpExchange=new ContentExchange(true);
  httpExchange.setURL(getBaseURI().toASCIIString());
  httpExchange.setRequestURI("*");
  httpExchange.setMethod(HttpMethods.OPTIONS);
  _httpClient.send(httpExchange);
  int state=httpExchange.waitForDone();
  assertEquals(HttpExchange.STATUS_COMPLETED,state);
  assertEquals(HttpStatus.OK_200,httpExchange.getResponseStatus());
  HttpFields headers=httpExchange.getResponseFields();
  HttpAsserts.assertContainsHeaderKey("Content-Length",headers);
  assertEquals("Content-Length header value",0,headers.getLongField("Content-Length"));
  HttpAsserts.assertContainsHeaderKey("Allow",headers);
  String allow=headers.getStringField("Allow");
  String expectedMethods[]={"GET","HEAD","POST","PUT","DELETE","MOVE","OPTIONS","TRACE"};
  for (  String expectedMethod : expectedMethods) {
    assertThat(allow,containsString(expectedMethod));
  }
}
