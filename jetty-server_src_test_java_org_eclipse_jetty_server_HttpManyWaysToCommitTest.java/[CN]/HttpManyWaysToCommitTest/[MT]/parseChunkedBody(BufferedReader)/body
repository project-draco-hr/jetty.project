{
  StringBuilder body;
  String line;
  body=new StringBuilder(64 * 1024);
  while ((line=reader.readLine()) != null) {
    if ("0".equals(line)) {
      line=reader.readLine();
      assertThat("There's no more content after as 0 indicated the final chunk",line,is(""));
      break;
    }
    int length=Integer.parseInt(line,16);
    for (int i=0; i < length; ++i) {
      char c=(char)reader.read();
      body.append(c);
    }
    line=reader.readLine();
    assertThat("chunk is followed by an empty line",line,is(""));
  }
  return body;
}
