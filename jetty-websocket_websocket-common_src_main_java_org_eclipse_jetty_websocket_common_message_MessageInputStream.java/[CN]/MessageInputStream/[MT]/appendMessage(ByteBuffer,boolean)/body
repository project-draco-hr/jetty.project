{
  if (LOG.isDebugEnabled()) {
    LOG.debug("appendMessage(ByteBuffer,{}): {}",isLast,BufferUtil.toDetailString(payload));
  }
  if (buffersExhausted.get()) {
    throw new RuntimeException("Last frame already received");
  }
  if (closed.get()) {
    return;
  }
  try {
    buffers.put(payload);
    if (isLast) {
      buffersExhausted.set(true);
    }
  }
 catch (  InterruptedException e) {
    throw new IOException(e);
  }
}
