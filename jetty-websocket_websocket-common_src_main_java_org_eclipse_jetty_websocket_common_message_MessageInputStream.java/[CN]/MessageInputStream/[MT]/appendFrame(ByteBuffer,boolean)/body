{
  if (LOG.isDebugEnabled()) {
    LOG.debug("appendMessage(ByteBuffer,{}): {}",fin,BufferUtil.toDetailString(framePayload));
  }
  if (closed.get()) {
    return;
  }
  try {
    buffers.put(framePayload);
  }
 catch (  InterruptedException e) {
    throw new IOException(e);
  }
 finally {
    if (fin) {
      buffers.offer(EOF);
    }
  }
}
