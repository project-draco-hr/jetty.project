{
  startServer(new AbstractHandler(){
    @Override public void handle(    String target,    Request baseRequest,    HttpServletRequest request,    HttpServletResponse response) throws IOException, ServletException {
      baseRequest.setHandled(true);
    }
  }
);
  try (Socket client=new Socket("localhost",connector.getLocalPort())){
    String request="" + "POST / HTTP/1.1\r\n" + "Host: localhost\r\n"+ "Content-Length: " + length1 + "\r\n"+ "Content-Length: "+ length2+ "\r\n"+ "\r\n"+ content;
    OutputStream output=client.getOutputStream();
    output.write(request.getBytes(StandardCharsets.UTF_8));
    output.flush();
    SimpleHttpParser parser=new SimpleHttpParser();
    BufferedReader reader=new BufferedReader(new InputStreamReader(client.getInputStream(),StandardCharsets.UTF_8));
    SimpleHttpResponse response=parser.readResponse(reader);
    Assert.assertEquals(HttpStatus.BAD_REQUEST_400,Integer.parseInt(response.getCode()));
  }
 }
