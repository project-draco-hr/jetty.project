{
  _persistent=false;
switch (_state) {
case STATE_END:
case STATE_SEEKING_EOF:
    _state=STATE_END;
  break;
case STATE_EOF_CONTENT:
_state=STATE_END;
_handler.messageComplete(_contentPosition);
break;
default :
_state=STATE_END;
if (!_headResponse) _handler.earlyEOF();
_handler.messageComplete(_contentPosition);
}
if (!isComplete() && !isIdle()) throw new EofException();
return true;
}
