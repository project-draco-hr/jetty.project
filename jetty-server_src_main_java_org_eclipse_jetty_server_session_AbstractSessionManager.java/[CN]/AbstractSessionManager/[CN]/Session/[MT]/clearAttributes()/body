{
  while (_attributes != null && _attributes.size() > 0) {
    ArrayList keys;
synchronized (Session.this) {
      keys=new ArrayList(_attributes.keySet());
    }
    Iterator iter=keys.iterator();
    while (iter.hasNext()) {
      String key=(String)iter.next();
      Object value;
synchronized (Session.this) {
        value=_attributes.remove(key);
      }
      unbindValue(key,value);
      if (_sessionAttributeListeners != null) {
        HttpSessionBindingEvent event=new HttpSessionBindingEvent(this,key,value);
        for (int i=0; i < LazyList.size(_sessionAttributeListeners); i++)         ((HttpSessionAttributeListener)LazyList.get(_sessionAttributeListeners,i)).attributeRemoved(event);
      }
    }
  }
  if (_attributes != null)   _attributes.clear();
}
