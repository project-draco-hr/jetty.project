{
  _context=ContextHandler.getCurrentContext();
  _loader=Thread.currentThread().getContextClassLoader();
  if (_sessionIdManager == null) {
    Server server=getSessionHandler().getServer();
synchronized (server) {
      _sessionIdManager=server.getSessionIdManager();
      if (_sessionIdManager == null) {
        _sessionIdManager=new HashSessionIdManager();
        server.setSessionIdManager(_sessionIdManager);
      }
    }
  }
  if (!_sessionIdManager.isStarted())   _sessionIdManager.start();
  String tmp=_context.getInitParameter(SessionManager.__SessionCookieProperty);
  if (tmp != null)   _sessionCookie=tmp;
  tmp=_context.getInitParameter(SessionManager.__SessionIdPathParameterNameProperty);
  if (tmp != null) {
    setSessionIdPathParameterName(tmp);
  }
  if (_maxCookieAge == -1) {
    if (_context != null) {
      String str=_context.getInitParameter(SessionManager.__MaxAgeProperty);
      if (str != null)       _maxCookieAge=Integer.parseInt(str.trim());
    }
  }
  if (_sessionDomain == null) {
    if (_context != null)     _sessionDomain=_context.getInitParameter(SessionManager.__SessionDomainProperty);
  }
  if (_sessionPath == null) {
    if (_context != null)     _sessionPath=_context.getInitParameter(SessionManager.__SessionPathProperty);
  }
  super.doStart();
}
