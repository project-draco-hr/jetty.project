{
  target=_replacement;
  for (int g=1; g <= matcher.groupCount(); g++) {
    String group=matcher.group(g);
    target=target.replaceAll("\\$" + g,group);
  }
  response.setStatus(HttpServletResponse.SC_MOVED_PERMANENTLY);
  response.setHeader("Location",response.encodeRedirectURL(target));
  return target;
}
