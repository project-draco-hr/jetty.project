{
  LOG.debug("{} protocolSelected {}",this,protocol);
  NextProtoNego.remove(engine);
  ConnectionFactory connectionFactory=connector.getConnectionFactory(protocol);
  EndPoint endPoint=getEndPoint();
  endPoint.getConnection().onClose();
  Connection connection=connectionFactory.newConnection(connector,endPoint);
  endPoint.setConnection(connection);
  completed=true;
}
