{
  if (_gzOut != null)   throw new IllegalStateException();
  if (_out == null || _bOut != null) {
    _out=_response.getOutputStream();
    if (_contentLength >= 0) {
      if (_contentLength < Integer.MAX_VALUE)       _response.setContentLength((int)_contentLength);
 else       _response.setHeader("Content-Length",Long.toString(_contentLength));
    }
    if (_bOut != null)     _out.write(_bOut.getBuf(),0,_bOut.getCount());
    _bOut=null;
  }
}
