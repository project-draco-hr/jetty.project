{
  while (true) {
    ConnectState current=connect.get();
switch (current) {
case DISCONNECTED:
{
        if (!connect.compareAndSet(current,ConnectState.CONNECTING))         continue;
        newConnection(this);
        return;
      }
case CONNECTING:
{
      return;
    }
case CONNECTED:
{
    HttpConnectionOverSPDY connection=this.connection;
    if (connection != null)     process(connection,false);
    break;
  }
default :
{
  throw new IllegalStateException();
}
}
}
}
