{
  if (connect.compareAndSet(ConnectState.CONNECTING,ConnectState.CONNECTED)) {
    HttpConnectionOverSPDY connection=this.connection=(HttpConnectionOverSPDY)result;
    process(connection,true);
  }
 else {
    result.close();
    failed(new IllegalStateException());
  }
}
