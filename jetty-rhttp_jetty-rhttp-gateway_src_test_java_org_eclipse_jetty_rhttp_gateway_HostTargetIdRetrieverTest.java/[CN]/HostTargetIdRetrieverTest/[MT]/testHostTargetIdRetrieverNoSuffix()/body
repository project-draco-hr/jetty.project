{
  String host="test";
  Class<HttpServletRequest> klass=HttpServletRequest.class;
  HttpServletRequest request=(HttpServletRequest)Proxy.newProxyInstance(klass.getClassLoader(),new Class<?>[]{klass},new Request(host));
  HostTargetIdRetriever retriever=new HostTargetIdRetriever(null);
  String result=retriever.retrieveTargetId(request);
  assertEquals(host,result);
}
