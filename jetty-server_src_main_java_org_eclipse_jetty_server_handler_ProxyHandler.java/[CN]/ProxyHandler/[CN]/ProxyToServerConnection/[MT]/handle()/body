{
  logger.info("ProxyToServer: handle entered");
  if (data != null) {
    write(endPoint,data);
    data=null;
  }
  while (true) {
    int read=endPoint.fill(buffer);
    if (read == -1) {
      logger.info("ProxyToServer: closed connection {}",endPoint,null);
      connection.close();
      break;
    }
    if (read == 0)     break;
    logger.info("ProxyToServer: read {} bytes {}",read,endPoint);
    write(connection.endPoint,buffer);
  }
  logger.info("ProxyToServer: handle exited");
  return this;
}
