{
  logger.info("ClientToProxy: handle entered");
  if (firstTime) {
    firstTime=false;
    register(channel,connection);
  }
  while (true) {
    int read=endPoint.fill(buffer);
    if (read == -1) {
      logger.info("ClientToProxy: closed connection {}",endPoint,null);
      connection.close();
      break;
    }
    if (read == 0)     break;
    logger.info("ClientToProxy: read {} bytes {}",read,endPoint);
    write(connection.endPoint,buffer);
  }
  logger.info("ClientToProxy: handle exited");
  return this;
}
