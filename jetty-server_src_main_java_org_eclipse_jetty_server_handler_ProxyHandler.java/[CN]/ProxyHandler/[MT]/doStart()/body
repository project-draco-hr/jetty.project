{
  super.doStart();
  threadPool=new QueuedThreadPool();
  threadPool.start();
  selectorManager.start();
  threadPool.dispatch(new Runnable(){
    public void run(){
      while (isRunning()) {
        try {
          selectorManager.doSelect(0);
        }
 catch (        IOException x) {
          logger.warn("Unexpected exception",x);
        }
      }
    }
  }
);
}
