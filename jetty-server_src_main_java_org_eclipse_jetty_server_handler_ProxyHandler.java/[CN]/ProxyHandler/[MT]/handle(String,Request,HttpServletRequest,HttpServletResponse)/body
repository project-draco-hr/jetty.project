{
  if (HttpMethods.CONNECT.equalsIgnoreCase(request.getMethod())) {
    logger.info("CONNECT request for {}",request.getRequestURI(),null);
    handle(request,response,request.getRequestURI());
  }
 else {
    logger.info("Plain request for {}",serverAddress,null);
    if (serverAddress == null)     throw new ServletException("Parameter 'serverAddress' cannot be null");
    handle(request,response,serverAddress);
  }
}
