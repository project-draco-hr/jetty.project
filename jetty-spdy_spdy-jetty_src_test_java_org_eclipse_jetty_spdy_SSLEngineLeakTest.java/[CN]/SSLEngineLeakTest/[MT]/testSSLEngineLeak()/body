{
  avoidStackLocalVariables();
  Thread.sleep(1000);
  System.gc();
  Field field=NextProtoNego.class.getDeclaredField("objects");
  field.setAccessible(true);
  Map<Object,NextProtoNego.Provider> objects=(Map<Object,NextProtoNego.Provider>)field.get(null);
  Assert.assertEquals(0,objects.size());
}
