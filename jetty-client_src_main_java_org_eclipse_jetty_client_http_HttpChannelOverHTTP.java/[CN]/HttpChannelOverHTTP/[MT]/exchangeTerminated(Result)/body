{
  super.exchangeTerminated(result);
  HttpFields responseHeaders=result.getResponse().getHeaders();
  boolean close=result.isFailed() || responseHeaders.contains(HttpHeader.CONNECTION,HttpHeaderValue.CLOSE.asString()) || receiver.isShutdown();
  if (close)   connection.close();
 else   connection.release();
}
