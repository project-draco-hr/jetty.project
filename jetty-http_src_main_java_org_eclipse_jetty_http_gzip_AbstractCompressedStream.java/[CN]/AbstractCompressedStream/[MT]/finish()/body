{
  if (!_closed) {
    if (_out == null || _bOut != null) {
      if (_contentLength > 0 && _contentLength < _minCompressSize)       doNotCompress();
 else       doCompress();
    }
    if (_compressedOutputStream != null && !_closed) {
      _closed=true;
      _compressedOutputStream.close();
    }
  }
}
