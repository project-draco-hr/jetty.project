{
  int size=buffer.length();
  process(buffer,null);
  int filled=buffer.length() - size;
  if (filled == 0 && isInputShutdown())   return -1;
  return filled;
}
