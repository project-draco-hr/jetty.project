{
  Buffer content=getContentBuffer();
  if (content != null) {
    ByteBuffer buffer=ByteBuffer.wrap(content.asArray());
    logger.debug("HTTP < {} bytes of content",buffer.remaining());
    content.clear();
    _state=STATE_END;
    stream.data(new ByteBufferDataInfo(buffer,true));
  }
 else   if (!closed) {
    ByteBuffer buffer=ByteBuffer.allocate(0);
    closed=true;
    _state=STATE_END;
    stream.data(new ByteBufferDataInfo(buffer,true));
  }
}
