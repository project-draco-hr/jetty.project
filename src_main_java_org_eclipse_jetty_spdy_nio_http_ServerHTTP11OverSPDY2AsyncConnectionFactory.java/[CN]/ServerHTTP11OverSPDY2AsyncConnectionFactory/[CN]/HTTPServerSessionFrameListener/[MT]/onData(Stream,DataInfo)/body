{
  try {
    forwardHeadersComplete(stream);
    stream.setAttribute("data",Boolean.TRUE);
    ByteBuffer buffer=ByteBuffer.allocate(dataInfo.getBytesCount());
    dataInfo.getBytes(buffer);
    forwardContent(stream,buffer);
    if (dataInfo.isClose())     forwardRequestComplete(stream);
  }
 catch (  HttpException x) {
    respond(stream,x.getStatus());
  }
catch (  IOException x) {
    close(stream);
  }
}
