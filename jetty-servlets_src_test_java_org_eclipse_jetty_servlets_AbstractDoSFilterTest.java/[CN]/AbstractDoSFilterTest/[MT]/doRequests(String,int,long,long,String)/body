{
  Socket socket=new Socket(_host,_port);
  socket.setSoTimeout(30000);
  for (int i=loops; i-- > 0; ) {
    socket.getOutputStream().write(loopRequests.getBytes("UTF-8"));
    socket.getOutputStream().flush();
    if (i > 0 && pauseBetweenLoops > 0)     Thread.sleep(pauseBetweenLoops);
  }
  if (pauseBeforeLast > 0)   Thread.sleep(pauseBeforeLast);
  socket.getOutputStream().write(lastRequest.getBytes("UTF-8"));
  socket.getOutputStream().flush();
  String response;
  if (loopRequests.contains("/unresponsive")) {
    Thread.sleep(_requestMaxTime * 2);
    response=IO.toString(socket.getInputStream(),"UTF-8");
  }
 else {
    response=IO.toString(socket.getInputStream(),"UTF-8");
  }
  socket.close();
  return response;
}
