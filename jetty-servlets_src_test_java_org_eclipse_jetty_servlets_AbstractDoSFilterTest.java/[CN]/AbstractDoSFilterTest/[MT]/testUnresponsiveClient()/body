{
  int numRequests=1000;
  String last="GET /ctx/timeout/unresponsive?lines=" + numRequests + " HTTP/1.1\r\nHost: localhost\r\nConnection: close\r\n\r\n";
  String responses=doRequests("",0,0,0,last);
  int responseLines=count(responses,"Line:");
  assertTrue(responses.contains("DoSFilter: timeout"));
  assertThat(responseLines,greaterThan(0));
  assertThat(responseLines,Matchers.lessThan(numRequests));
}
