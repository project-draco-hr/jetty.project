{
  URI toUri=request.getRequestURI();
  String hostname=toUri.getHost();
  if (isVirtualConnectionPossibleTo(hostname)) {
    return new FutureTask<Session>(new VirtualConnect(client,driver,request));
  }
  return new FutureTask<Session>(new PhysicalConnect(client,driver,request));
}
