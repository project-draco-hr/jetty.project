{
  super(endpoint);
  _uri=StringUtil.__UTF8.equals(URIUtil.__CHARSET) ? new HttpURI() : new EncodedHttpURI(URIUtil.__CHARSET);
  _connector=connector;
  HttpBuffers ab=(HttpBuffers)_connector;
  _parser=newHttpParser(ab.getRequestBuffers(),endpoint,new RequestHandler());
  _requestFields=new HttpFields();
  _responseFields=new HttpFields(server.getMaxCookieVersion());
  _request=new Request(this);
  _response=new Response(this);
  _generator=new HttpGenerator(ab.getResponseBuffers(),_endp);
  _generator.setSendServerVersion(server.getSendServerVersion());
  _server=server;
}
