{
  int ho=HttpHeaders.CACHE.getOrdinal(name);
switch (ho) {
case HttpHeaders.HOST_ORDINAL:
    _host=true;
  break;
case HttpHeaders.EXPECT_ORDINAL:
if (_version >= HttpVersions.HTTP_1_1_ORDINAL) {
  value=HttpHeaderValues.CACHE.lookup(value);
switch (HttpHeaderValues.CACHE.getOrdinal(value)) {
case HttpHeaderValues.CONTINUE_ORDINAL:
    _expect100Continue=_generator instanceof HttpGenerator;
  break;
case HttpHeaderValues.PROCESSING_ORDINAL:
_expect102Processing=_generator instanceof HttpGenerator;
break;
default :
String[] values=value.toString().split(",");
for (int i=0; values != null && i < values.length; i++) {
CachedBuffer cb=HttpHeaderValues.CACHE.get(values[i].trim());
if (cb == null) _expect=true;
 else {
switch (cb.getOrdinal()) {
case HttpHeaderValues.CONTINUE_ORDINAL:
_expect100Continue=_generator instanceof HttpGenerator;
break;
case HttpHeaderValues.PROCESSING_ORDINAL:
_expect102Processing=_generator instanceof HttpGenerator;
break;
default :
_expect=true;
}
}
}
}
}
break;
case HttpHeaders.ACCEPT_ENCODING_ORDINAL:
case HttpHeaders.USER_AGENT_ORDINAL:
value=HttpHeaderValues.CACHE.lookup(value);
break;
case HttpHeaders.CONTENT_TYPE_ORDINAL:
value=MimeTypes.CACHE.lookup(value);
_charset=MimeTypes.getCharsetFromContentType(value);
break;
}
_requestFields.add(name,value);
}
