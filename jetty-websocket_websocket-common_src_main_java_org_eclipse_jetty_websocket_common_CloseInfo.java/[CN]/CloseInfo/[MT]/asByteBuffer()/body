{
  if ((statusCode == StatusCode.NO_CLOSE) || (statusCode == StatusCode.NO_CODE) || (statusCode == (-1))) {
    return null;
  }
  int len=2;
  byte utf[]=null;
  if (StringUtil.isNotBlank(reason)) {
    utf=StringUtil.getUtf8Bytes(reason);
    len+=utf.length;
  }
  byte buf[]=new byte[len];
  buf[0]=(byte)((statusCode >>> 8) & 0xFF);
  buf[1]=(byte)((statusCode >>> 0) & 0xFF);
  if (utf != null) {
    System.arraycopy(utf,0,buf,2,utf.length);
  }
  return buf;
}
