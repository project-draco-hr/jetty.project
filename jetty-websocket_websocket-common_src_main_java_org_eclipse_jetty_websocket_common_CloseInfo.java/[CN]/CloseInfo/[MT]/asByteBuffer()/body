{
  if ((statusCode == StatusCode.NO_CLOSE) || (statusCode == StatusCode.NO_CODE) || (statusCode == (-1))) {
    return null;
  }
  int len=2;
  byte utf[]=null;
  if (StringUtil.isNotBlank(reason)) {
    utf=StringUtil.getUtf8Bytes(reason);
    len+=utf.length;
  }
  ByteBuffer buf=ByteBuffer.allocate(len);
  buf.put((byte)((statusCode >>> 8) & 0xFF));
  buf.put((byte)((statusCode >>> 0) & 0xFF));
  if (utf != null) {
    buf.put(utf,0,utf.length);
  }
  buf.flip();
  return buf;
}
