{
  context.addDecorator(new AnnotationDecorator(context));
  if (!context.getMetaData().isMetaDataComplete()) {
    if (context.getServletContext().getEffectiveMajorVersion() >= 3 || context.isConfigurationDiscovered()) {
      _discoverableAnnotationHandlers.add(new WebServletAnnotationHandler(context));
      _discoverableAnnotationHandlers.add(new WebFilterAnnotationHandler(context));
      _discoverableAnnotationHandlers.add(new WebListenerAnnotationHandler(context));
    }
  }
  createServletContainerInitializerAnnotationHandlers(context,getNonExcludedInitializers(context));
  if (!_discoverableAnnotationHandlers.isEmpty() || _classInheritanceHandler != null || !_containerInitializerAnnotationHandlers.isEmpty())   scanForAnnotations(context);
}
