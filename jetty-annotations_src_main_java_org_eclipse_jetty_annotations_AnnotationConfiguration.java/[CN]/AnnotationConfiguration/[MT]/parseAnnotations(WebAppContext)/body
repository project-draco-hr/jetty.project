{
  AnnotationFinder finder=new AnnotationFinder();
  parseContainerPath(context,finder);
  parseWebInfLib(context,finder);
  parseWebInfClasses(context,finder);
  AnnotationProcessor processor=new AnnotationProcessor(context,finder);
  processor.process();
  List servlets=processor.getServlets();
  List filters=processor.getFilters();
  List servletMappings=processor.getServletMappings();
  List filterMappings=processor.getFilterMappings();
  List listeners=processor.getListeners();
  ServletHandler servletHandler=(ServletHandler)context.getServletHandler();
  servletHandler.setFilters((FilterHolder[])LazyList.toArray(filters,FilterHolder.class));
  servletHandler.setFilterMappings((FilterMapping[])LazyList.toArray(filterMappings,FilterMapping.class));
  servletHandler.setServlets((ServletHolder[])LazyList.toArray(servlets,ServletHolder.class));
  servletHandler.setServletMappings((ServletMapping[])LazyList.toArray(servletMappings,ServletMapping.class));
  context.setEventListeners((EventListener[])LazyList.toArray(listeners,EventListener.class));
}
