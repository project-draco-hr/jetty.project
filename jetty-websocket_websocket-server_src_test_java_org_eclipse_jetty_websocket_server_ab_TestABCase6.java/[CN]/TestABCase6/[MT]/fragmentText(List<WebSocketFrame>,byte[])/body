{
  int len=msg.length;
  byte opcode=OpCode.TEXT;
  byte mini[];
  for (int i=0; i < len; i++) {
    WebSocketFrame frame=new WebSocketFrame(opcode);
    mini=new byte[1];
    mini[0]=msg[i];
    frame.setPayload(mini);
    boolean isLast=(i >= (len - 1));
    frame.setFin(isLast);
    frames.add(frame);
    opcode=OpCode.CONTINUATION;
  }
}
