{
  File policyFile=MavenTestingUtils.getTestResourceFile("single-codebase-file-permission.policy");
  JettyPolicy ap=new JettyPolicy(Collections.singleton(policyFile.getAbsolutePath()),evaluator);
  ap.refresh();
  URL url=new URL("file:///foo.jar");
  CodeSource cs=new CodeSource(url,new Certificate[0]);
  PermissionCollection pc=ap.getPermissions(cs);
  assertNotNull(pc);
  Permission testReadPerm=new FilePermission("/tmp/*","read");
  Permission testWritePerm=new FilePermission("/tmp/*","write");
  Permission testDeletePerm=new FilePermission("/tmp/*","delete");
  assertTrue(pc.implies(testReadPerm));
  assertTrue(pc.implies(testWritePerm));
  assertFalse(pc.implies(testDeletePerm));
}
