{
  endPoint.setInput("" + "HTTP/1.1 200 OK\r\n" + "Content-length: 1\r\n"+ "\r\n");
  BlockingResponseListener listener=new BlockingResponseListener();
  HttpExchange exchange=newExchange(listener);
  exchange.receive();
  connection.idleTimeout();
  try {
    listener.get(5,TimeUnit.SECONDS);
    Assert.fail();
  }
 catch (  ExecutionException e) {
    Assert.assertTrue(e.getCause() instanceof TimeoutException);
  }
}
