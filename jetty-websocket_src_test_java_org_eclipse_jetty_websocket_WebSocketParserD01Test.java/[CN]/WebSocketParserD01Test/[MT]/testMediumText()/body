{
  String string="Hell\uFF4f Medium W\uFF4Frld ";
  for (int i=0; i < 4; i++)   string=string + string;
  string+=". The end.";
  byte[] bytes=string.getBytes("UTF-8");
  _in.put((byte)0x00);
  _in.put((byte)0x7E);
  _in.put((byte)(bytes.length >> 8));
  _in.put((byte)(bytes.length & 0xff));
  _in.put(bytes);
  int filled=_parser.parseNext();
  assertEquals(bytes.length + 4,filled);
  assertEquals(string,_handler._data.get(0));
  assertTrue(_parser.isBufferEmpty());
  assertTrue(_parser.getBuffer() == null);
}
