{
  if (LOG.isDebugEnabled()) {
    LOG.debug("{} Notify {}",policy.getBehavior(),incomingFramesHandler);
  }
  if (policy.getBehavior() == WebSocketBehavior.SERVER) {
    if (f.isMasked() == false) {
      throw new ProtocolException("Client MUST mask all frames (RFC-6455: Section 5.1)");
    }
  }
 else   if (policy.getBehavior() == WebSocketBehavior.CLIENT) {
    if (f.isMasked() == true) {
      throw new ProtocolException("Server MUST NOT mask any frames (RFC-6455: Section 5.1)");
    }
  }
  if (incomingFramesHandler == null) {
    return;
  }
  try {
    incomingFramesHandler.incomingFrame(f);
  }
 catch (  WebSocketException e) {
    notifyWebSocketException(e);
  }
catch (  Throwable t) {
    LOG.warn(t);
    notifyWebSocketException(new WebSocketException(t));
  }
}
