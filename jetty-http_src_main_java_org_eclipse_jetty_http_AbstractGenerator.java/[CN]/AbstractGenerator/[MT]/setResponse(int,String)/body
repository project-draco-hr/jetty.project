{
  if (_state != STATE_HEADER)   throw new IllegalStateException("STATE!=START");
  _method=null;
  _status=status;
  if (reason != null) {
    int len=reason.length();
    if (len > _headerBufferSize / 2)     len=_headerBufferSize / 2;
    _reason=new ByteArrayBuffer(len);
    for (int i=0; i < len; i++) {
      char ch=reason.charAt(i);
      if (ch != '\r' && ch != '\n')       _reason.put((byte)ch);
 else       _reason.put((byte)' ');
    }
  }
}
