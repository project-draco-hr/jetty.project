{
  Buffer content=_content;
  Buffer buffer=_buffer;
  if (content != null && content.length() > 0 || buffer != null && buffer.length() > 0 || isBufferFull()) {
    flushBuffer();
    while ((content != null && content.length() > 0 || buffer != null && buffer.length() > 0) && _endp.isOpen())     blockForOutput(maxIdleTime);
  }
  while (_endp.isBufferingOutput() && _endp.isOpen()) {
    if (!_endp.isBlocking())     _endp.blockWritable(maxIdleTime);
    _endp.flush();
  }
}
