{
  configureServer(new HelloWorldHandler());
  try (Socket client=newSocket(_serverURI.getHost(),_serverURI.getPort())){
    client.setSoTimeout(10000);
    ((StdErrLog)Log.getLogger(HttpConnection.class)).setHideStacks(true);
    ((AbstractLogger)Log.getLogger(HttpConnection.class)).info("expect request is too large, then ISE extra data ...");
    OutputStream os=client.getOutputStream();
    byte[] buffer=new byte[64 * 1024];
    Arrays.fill(buffer,(byte)'A');
    os.write(buffer);
    os.flush();
    String response=readResponse(client);
    Assert.assertThat(response,Matchers.containsString("HTTP/1.1 413 "));
  }
  finally {
    ((StdErrLog)Log.getLogger(HttpConnection.class)).setHideStacks(true);
  }
}
