{
  lockMsg(MsgType.BINARY);
  try {
    connection.getIOState().assertOutputOpen();
    if (LOG.isDebugEnabled()) {
      LOG.debug("sendBytes with {}",BufferUtil.toDetailString(data));
    }
    blockingWrite(new BinaryFrame().setPayload(data));
  }
  finally {
    unlockMsg();
  }
}
