{
  Server server=createWebAppServer("/log4j","dummy-webapp-logging-log4j.war");
  server.start();
  SimpleRequest.get(server,"/log4j/logging");
  server.stop();
  String prefix="LoggingServlet(log4j)";
  List<LogEvent> expectedLogs=new ArrayList<LogEvent>();
  expectedLogs.add(new LogEvent(Severity.INFO,LOGGING_SERVLET_ID,prefix + " GET requested"));
  expectedLogs.add(new LogEvent(Severity.WARN,LOGGING_SERVLET_ID,prefix + " Slightly warn, with a chance of log events"));
  expectedLogs.add(new LogEvent(Severity.ERROR,LOGGING_SERVLET_ID,prefix + " Nothing is (intentionally) being output by this Servlet"));
  expectedLogs.add(new LogEvent(Severity.ERROR,LOGGING_SERVLET_ID,prefix + " Whoops (intentionally) causing a Throwable").expectedThrowable(new FileNotFoundException("A file cannot be found")));
  assertContainsLogEvents(testAppender,expectedLogs);
}
