{
  if ((statusCode == StatusCode.NO_CLOSE) || (statusCode == StatusCode.NO_CODE) || (statusCode == (-1))) {
    return null;
  }
  ByteBuffer buf=ByteBuffer.allocate(WebSocketFrame.MAX_CONTROL_PAYLOAD);
  buf.putChar((char)statusCode);
  if (StringUtil.isNotBlank(reason)) {
    byte utf[]=StringUtil.getUtf8Bytes(reason);
    buf.put(utf,0,utf.length);
  }
  BufferUtil.flipToFlush(buf,0);
  return buf;
}
