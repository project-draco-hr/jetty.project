{
  @SuppressWarnings("unchecked") List<Resource> frags=(List<Resource>)context.getAttribute(FRAGMENT_RESOURCES);
  if (frags != null) {
    for (    Resource frag : frags) {
      if (frag.isDirectory()) {
        metaData.addFragment(frag,Resource.newResource(frag.getURL() + "/META-INF/web-fragment.xml"));
      }
 else {
        metaData.addFragment(frag,Resource.newResource("jar:" + frag.getURL() + "!/META-INF/web-fragment.xml"));
      }
    }
  }
}
