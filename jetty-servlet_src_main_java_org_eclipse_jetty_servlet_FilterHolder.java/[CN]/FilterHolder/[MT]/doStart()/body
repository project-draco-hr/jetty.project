{
  super.doStart();
  if (!javax.servlet.Filter.class.isAssignableFrom(_class)) {
    String msg=_class + " is not a javax.servlet.Filter";
    super.stop();
    throw new IllegalStateException(msg);
  }
  if (_filter == null) {
    try {
      ServletContext context=_servletHandler.getServletContext();
      _filter=(context instanceof ServletContextHandler.Context) ? ((ServletContextHandler.Context)context).createFilter(getHeldClass()) : getHeldClass().newInstance();
    }
 catch (    ServletException se) {
      Throwable cause=se.getRootCause();
      if (cause instanceof InstantiationException)       throw (InstantiationException)cause;
      if (cause instanceof IllegalAccessException)       throw (IllegalAccessException)cause;
      throw se;
    }
  }
  _config=new Config();
  LOG.debug("Filter.init {}",_filter);
  _filter.init(_config);
}
