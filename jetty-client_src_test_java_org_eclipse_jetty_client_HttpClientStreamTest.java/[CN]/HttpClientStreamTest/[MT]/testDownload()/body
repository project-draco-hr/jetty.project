{
  final byte[] data=new byte[128 * 1024];
  start(new AbstractHandler(){
    @Override public void handle(    String target,    org.eclipse.jetty.server.Request baseRequest,    HttpServletRequest request,    HttpServletResponse response) throws IOException, ServletException {
      baseRequest.setHandled(true);
      response.getOutputStream().write(data);
    }
  }
);
  InputStreamResponseListener listener=new InputStreamResponseListener();
  client.newRequest("localhost",connector.getLocalPort()).scheme(scheme).send(listener);
  Response response=listener.get(5,TimeUnit.SECONDS);
  Assert.assertNotNull(response);
  Assert.assertEquals(200,response.status());
  InputStream input=listener.getInputStream();
  Assert.assertNotNull(input);
  int length=0;
  while (input.read() >= 0)   ++length;
  Assert.assertEquals(data.length,length);
  Result result=listener.await(5,TimeUnit.SECONDS);
  Assert.assertNotNull(result);
  Assert.assertSame(response,result.getResponse());
}
