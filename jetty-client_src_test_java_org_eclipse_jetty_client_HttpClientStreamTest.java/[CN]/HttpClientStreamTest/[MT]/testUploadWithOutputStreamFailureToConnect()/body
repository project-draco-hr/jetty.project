{
  start(new EmptyServerHandler());
  final byte[] data=new byte[512];
  final CountDownLatch latch=new CountDownLatch(1);
  OutputStreamContentProvider content=new OutputStreamContentProvider();
  client.newRequest("0.0.0.1",connector.getLocalPort()).scheme(scheme).content(content).send(new Response.CompleteListener(){
    @Override public void onComplete(    Result result){
      if (result.isFailed())       latch.countDown();
    }
  }
);
  try (OutputStream output=content.getOutputStream()){
    output.write(data);
    Assert.fail();
  }
 catch (  IOException x) {
  }
  Assert.assertTrue(latch.await(5,TimeUnit.SECONDS));
}
