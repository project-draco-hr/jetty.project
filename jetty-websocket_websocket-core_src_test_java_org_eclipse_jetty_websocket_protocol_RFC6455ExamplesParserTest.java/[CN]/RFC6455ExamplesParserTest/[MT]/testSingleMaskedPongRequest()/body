{
  ByteBuffer buf=ByteBuffer.allocate(16);
  buf.put(new byte[]{(byte)0x8a,(byte)0x85,0x37,(byte)0xfa,0x21,0x3d,0x7f,(byte)0x9f,0x4d,0x51,0x58});
  buf.flip();
  WebSocketPolicy policy=new WebSocketPolicy(WebSocketBehavior.SERVER);
  Parser parser=new Parser(policy);
  FrameParseCapture capture=new FrameParseCapture();
  parser.setIncomingFramesHandler(capture);
  parser.parse(buf);
  capture.assertNoErrors();
  capture.assertHasFrame(OpCode.PONG,1);
  WebSocketFrame pong=capture.getFrames().get(0);
  Assert.assertThat("PongFrame.payload",pong.getPayloadAsUTF8(),is("Hello"));
}
