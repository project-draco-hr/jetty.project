{
  TextFrame text=new TextFrame("Hello");
  text.setFin(true);
  WebSocketPolicy policy=new WebSocketPolicy(WebSocketBehavior.SERVER);
  TextFrameGenerator generator=new TextFrameGenerator(policy);
  ByteBuffer actual=ByteBuffer.allocate(32);
  generator.generate(actual,text);
  ByteBuffer expected=ByteBuffer.allocate(10);
  expected.put(new byte[]{(byte)0x81,(byte)0x05,(byte)0x48,(byte)0x65,(byte)0x6c,(byte)0x6c,(byte)0x6f});
  expected.flip();
  actual.flip();
  ByteBufferAssert.assertEquals("t1 buffers are not equal",expected,actual);
}
