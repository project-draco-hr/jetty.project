{
  PingFrame ping=new PingFrame();
  byte msg[]="Hello".getBytes(StringUtil.__UTF8_CHARSET);
  ByteBuffer payload=ByteBuffer.allocate(msg.length);
  payload.put(msg);
  ping.setPayload(payload);
  WebSocketPolicy policy=WebSocketPolicy.newServerPolicy();
  PingFrameGenerator gen=new PingFrameGenerator(policy);
  ByteBuffer actual=ByteBuffer.allocate(32);
  gen.generate(actual,ping);
  actual.flip();
  ByteBuffer expected=ByteBuffer.allocate(10);
  expected.put(new byte[]{(byte)0x89,(byte)0x05,(byte)0x48,(byte)0x65,(byte)0x6c,(byte)0x6c,(byte)0x6f});
  expected.flip();
  ByteBufferAssert.assertEquals("Ping buffers",expected,actual);
}
