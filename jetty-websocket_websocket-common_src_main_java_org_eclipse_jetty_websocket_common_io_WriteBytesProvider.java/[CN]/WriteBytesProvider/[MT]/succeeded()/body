{
synchronized (this) {
    generator.getBufferPool().release(buffer);
    if (active == null) {
      return;
    }
    if (active.frame.remaining() <= 0) {
      active=null;
    }
    flushCallback.succeeded();
  }
}
