{
  this.generator=Objects.requireNonNull(generator);
  this.flushCallback=Objects.requireNonNull(flushCallback);
  this.queue=new LinkedList<>();
  this.past=new LinkedList<>();
  this.closed=new AtomicBoolean(false);
}
