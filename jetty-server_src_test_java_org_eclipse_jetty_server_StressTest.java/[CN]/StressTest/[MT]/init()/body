{
  _threads=new QueuedThreadPool(new BlockingArrayQueue<Runnable>(4,4));
  _threads.setMaxThreads(200);
  _server=new Server();
  _server.setThreadPool(_threads);
  _connector=new SelectChannelConnector();
  _connector.setAcceptors(Math.max(1,Runtime.getRuntime().availableProcessors() / 2));
  _connector.setAcceptQueueSize(5000);
  _connector.setMaxIdleTime(30000);
  _server.addConnector(_connector);
  TestHandler _handler=new TestHandler();
  _server.setHandler(_handler);
  _server.start();
}
