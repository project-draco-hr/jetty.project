{
  sendMainRequestAndCSSRequest(null,false);
  final CountDownLatch pushDataLatch=new CountDownLatch(1);
  final CountDownLatch pushSynHeadersValid=new CountDownLatch(1);
  Session session=startClient(version,serverAddress,null);
  ((StdErrLog)LOG.getLogger("org.eclipse.jetty.spdy.StandardSession")).setHideStacks(true);
  sendRequest(session,mainRequestHeaders,pushSynHeadersValid,pushDataLatch,true);
  assertThat("No push data is received",pushDataLatch.await(1,TimeUnit.SECONDS),is(false));
  assertThat("Push push headers valid",pushSynHeadersValid.await(5,TimeUnit.SECONDS),is(true));
  sendRequest(session,associatedCSSRequestHeaders,pushSynHeadersValid,pushDataLatch,true);
  ((StdErrLog)LOG.getLogger("org.eclipse.jetty.spdy.StandardSession")).setHideStacks(false);
}
