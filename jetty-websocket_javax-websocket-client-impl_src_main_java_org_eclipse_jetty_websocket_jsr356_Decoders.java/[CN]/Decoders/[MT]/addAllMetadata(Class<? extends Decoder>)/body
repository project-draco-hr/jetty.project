{
  DecoderWrapper wrapper=null;
  for (  DecoderMetadata metadata : metadataFactory.getMetadata(decoder)) {
    Decoder decoderImpl;
    try {
      decoderImpl=decoder.newInstance();
      wrapper=new DecoderWrapper(decoderImpl,metadata);
      add(wrapper);
    }
 catch (    InstantiationException|IllegalAccessException cause) {
      throw new IllegalStateException("Unable to instantiate Decoder: " + decoder.getName(),cause);
    }
  }
  return wrapper;
}
