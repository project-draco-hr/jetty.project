{
  boolean activeRemoved;
  boolean idleRemoved;
  final ReentrantLock lock=this.lock;
  lock.lock();
  try {
    activeRemoved=activeConnections.remove(connection);
    idleRemoved=idleConnections.remove(connection);
  }
  finally {
    lock.unlock();
  }
  if (activeRemoved)   released(connection);
  boolean removed=activeRemoved || idleRemoved;
  if (removed) {
    int pooled=connectionCount.decrementAndGet();
    if (LOG.isDebugEnabled())     LOG.debug("Connection removed {} - pooled: {}",connection,pooled);
  }
  return removed;
}
