{
  List<Sweeper.Sweepable> toSweep=new ArrayList<>();
  final ReentrantLock lock=this.lock;
  lock.lock();
  try {
    for (    Connection connection : getActiveConnections()) {
      if (connection instanceof Sweeper.Sweepable)       toSweep.add(((Sweeper.Sweepable)connection));
    }
  }
  finally {
    lock.unlock();
  }
  for (  Sweeper.Sweepable candidate : toSweep) {
    if (candidate.sweep()) {
      boolean removed=getActiveConnections().remove(candidate);
      LOG.warn("Connection swept: {}{}{} from active connections{}{}",candidate,System.lineSeparator(),removed ? "Removed" : "Not removed",System.lineSeparator(),dump());
    }
  }
  return false;
}
