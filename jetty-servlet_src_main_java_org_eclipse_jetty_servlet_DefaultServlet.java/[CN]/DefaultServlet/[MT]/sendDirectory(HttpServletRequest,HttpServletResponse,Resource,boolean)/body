{
  if (!_dirAllowed) {
    response.sendError(HttpServletResponse.SC_FORBIDDEN);
    return;
  }
  byte[] data=null;
  String base=URIUtil.addPaths(request.getRequestURI(),URIUtil.SLASH);
  String dir=resource.getListHTML(base,parent);
  if (dir == null) {
    response.sendError(HttpServletResponse.SC_FORBIDDEN,"No directory");
    return;
  }
  data=dir.getBytes("UTF-8");
  response.setContentType("text/html; charset=UTF-8");
  response.setContentLength(data.length);
  response.getOutputStream().write(data);
}
