{
  super(endpoint,timestamp);
  _endp.setMaxIdleTime(maxIdleTime);
  _webSocket=websocket;
  _onFrame=_webSocket instanceof OnFrame ? (OnFrame)_webSocket : null;
  _onTextMessage=_webSocket instanceof OnTextMessage ? (OnTextMessage)_webSocket : null;
  _onBinaryMessage=_webSocket instanceof OnBinaryMessage ? (OnBinaryMessage)_webSocket : null;
  _onControl=_webSocket instanceof OnControl ? (OnControl)_webSocket : null;
  _generator=new WebSocketGeneratorD06(buffers,_endp,null);
  _parser=new WebSocketParserD06(buffers,endpoint,_frameHandler,true);
  _protocol=protocol;
  _maxTextMessageSize=buffers.getBufferSize();
  _maxBinaryMessageSize=-1;
}
