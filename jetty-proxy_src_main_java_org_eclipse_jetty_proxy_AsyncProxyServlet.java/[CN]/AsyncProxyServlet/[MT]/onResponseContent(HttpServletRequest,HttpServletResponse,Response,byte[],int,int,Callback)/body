{
  StreamWriter writeListener=(StreamWriter)request.getAttribute(WRITE_LISTENER_ATTRIBUTE);
  if (writeListener == null) {
    writeListener=new StreamWriter(request.getAsyncContext());
    request.setAttribute(WRITE_LISTENER_ATTRIBUTE,writeListener);
    response.getOutputStream().setWriteListener(writeListener);
  }
  _log.debug("{} proxying content to downstream: {} bytes",getRequestId(request),length);
  if (writeListener.data(buffer,offset,length,callback))   writeListener.onWritePossible();
 else   ;
}
