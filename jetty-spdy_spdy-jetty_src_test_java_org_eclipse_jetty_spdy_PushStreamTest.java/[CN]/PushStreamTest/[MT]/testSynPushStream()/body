{
  final CountDownLatch pushStreamSynLatch=new CountDownLatch(1);
  Session clientSession=startClient(startServer(new ServerSessionFrameListener.Adapter(){
    @Override public StreamFrameListener onSyn(    Stream stream,    SynInfo synInfo){
      stream.reply(new ReplyInfo(false));
      stream.syn(new SynInfo(false));
      return null;
    }
  }
),new SessionFrameListener.Adapter(){
    @Override public StreamFrameListener onSyn(    Stream stream,    SynInfo synInfo){
      pushStreamSynLatch.countDown();
      stream.reply(new ReplyInfo(false));
      return super.onSyn(stream,synInfo);
    }
  }
);
  clientSession.syn(new SynInfo(false),null).get();
  assertThat("onSyn has been called",pushStreamSynLatch.await(5,TimeUnit.SECONDS),is(true));
}
