{
  String compression=null;
  if (encodingHeader != null) {
    String[] encodings=getEncodings(encodingHeader);
    if (encodings != null) {
      for (int i=0; i < encodings.length; i++) {
        if (encodings[i].toLowerCase(Locale.ENGLISH).contains(GZIP)) {
          if (isEncodingAcceptable(encodings[i])) {
            compression=GZIP;
            break;
          }
        }
        if (encodings[i].toLowerCase(Locale.ENGLISH).contains(DEFLATE)) {
          if (isEncodingAcceptable(encodings[i])) {
            compression=DEFLATE;
          }
        }
      }
    }
  }
  return compression;
}
