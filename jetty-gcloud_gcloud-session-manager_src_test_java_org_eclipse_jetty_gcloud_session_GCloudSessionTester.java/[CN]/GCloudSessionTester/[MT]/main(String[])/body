{
  System.setProperty("org.eclipse.jetty.server.session.LEVEL","DEBUG");
  Server server=new Server(8080);
  HashLoginService loginService=new HashLoginService();
  loginService.setName("Test Realm");
  loginService.setConfig("../../jetty-distribution/target/distribution/demo-base/resources/realm.properties");
  server.addBean(loginService);
  GCloudConfiguration config=new GCloudConfiguration();
  config.setProjectId("jetty9-work");
  config.setP12File("/tmp/jetty9-work-51c6d017a35b.p12");
  config.setPassword("OBF:1xtl1v2h1ym91rwd1vv11vu91rwh1ym51v1x1xtx");
  config.setServiceAccount("170642172088-gmvs56i7pkqoi7g9cha8o75n0jo3us2j@developer.gserviceaccount.com");
  GCloudSessionIdManager idmgr=new GCloudSessionIdManager(server);
  idmgr.setConfig(config);
  idmgr.setWorkerName("w1");
  server.setSessionIdManager(idmgr);
  WebAppContext webapp=new WebAppContext();
  webapp.setContextPath("/");
  webapp.setResourceBase("../../jetty-distribution/target/distribution/demo-base/webapps/test/");
  webapp.addAliasCheck(new AllowSymLinkAliasChecker());
  GCloudSessionManager mgr=new GCloudSessionManager();
  mgr.setSessionIdManager(idmgr);
  webapp.setSessionHandler(new SessionHandler(mgr));
  server.setHandler(webapp);
  server.start();
  server.join();
}
