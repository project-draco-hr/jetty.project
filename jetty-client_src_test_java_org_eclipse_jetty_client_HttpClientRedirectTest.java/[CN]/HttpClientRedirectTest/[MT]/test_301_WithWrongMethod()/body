{
  try {
    client.newRequest("localhost",connector.getLocalPort()).scheme(scheme).method(HttpMethod.POST).path("/301/localhost/done").send().get(5,TimeUnit.SECONDS);
    fail();
  }
 catch (  ExecutionException x) {
    HttpResponseException xx=(HttpResponseException)x.getCause();
    Response response=xx.getResponse();
    Assert.assertNotNull(response);
    Assert.assertEquals(301,response.status());
    Assert.assertTrue(response.headers().containsKey(HttpHeader.LOCATION.asString()));
  }
}
