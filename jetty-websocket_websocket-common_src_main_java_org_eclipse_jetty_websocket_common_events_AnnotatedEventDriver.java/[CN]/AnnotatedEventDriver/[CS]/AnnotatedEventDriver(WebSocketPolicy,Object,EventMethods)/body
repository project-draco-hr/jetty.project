{
  super(policy,websocket);
  this.events=events;
  WebSocket anno=websocket.getClass().getAnnotation(WebSocket.class);
  if (anno.maxBinarySize() > 0) {
    this.policy.setMaxBinaryMessageSize(anno.maxBinarySize());
  }
  if (anno.maxTextSize() > 0) {
    this.policy.setMaxTextMessageSize(anno.maxTextSize());
  }
  if (anno.maxIdleTime() > 0) {
    this.policy.setIdleTimeout(anno.maxIdleTime());
  }
}
