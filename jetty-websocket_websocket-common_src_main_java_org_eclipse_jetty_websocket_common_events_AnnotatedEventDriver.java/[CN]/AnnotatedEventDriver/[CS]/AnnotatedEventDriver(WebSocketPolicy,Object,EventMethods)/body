{
  super(policy,websocket);
  this.events=events;
  WebSocket anno=websocket.getClass().getAnnotation(WebSocket.class);
  if (anno.maxMessageSize() > 0) {
    this.policy.setMaxMessageSize(anno.maxMessageSize());
  }
  if (anno.maxMessageSize() > 0) {
    this.policy.setInputBufferSize(anno.inputBufferSize());
  }
  if (anno.maxIdleTime() > 0) {
    this.policy.setIdleTimeout(anno.maxIdleTime());
  }
}
