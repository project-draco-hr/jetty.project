{
  StringBuffer rawResponse=new StringBuffer();
  rawResponse.append("HTTP/1.1 200 OK\n");
  rawResponse.append("Date: Mon, 08 Jun 2009 23:05:26 GMT\n");
  rawResponse.append("Content-Type: text/plain\n");
  rawResponse.append("Content-Length: 28\n");
  rawResponse.append("Last-Modified: Mon, 08 Jun 2009 17:06:22 GMT\n");
  rawResponse.append("Server: Jetty(7.0.y.z-SNAPSHOT)\n");
  rawResponse.append("\n");
  rawResponse.append("ABCDEFGHIJKLMNOPQRSTTUVWXYZ\n");
  rawResponse.append("HTTP/1.1 200 OK\n");
  rawResponse.append("Date: Mon, 08 Jun 2009 23:05:26 GMT\n");
  rawResponse.append("Content-Type: text/plain\n");
  rawResponse.append("Content-Length: 25\n");
  rawResponse.append("Last-Modified: Mon, 08 Jun 2009 17:06:22 GMT\n");
  rawResponse.append("Server: Jetty(7.0.y.z-SNAPSHOT)\n");
  rawResponse.append("\n");
  rawResponse.append("Host=Default\n");
  rawResponse.append("Resource=R1\n");
  rawResponse.append("HTTP/1.1 200 OK\n");
  rawResponse.append("Date: Mon, 08 Jun 2009 23:05:26 GMT\n");
  rawResponse.append("Content-Type: text/plain\n");
  rawResponse.append("Content-Length: 25\n");
  rawResponse.append("Last-Modified: Mon, 08 Jun 2009 17:06:22 GMT\n");
  rawResponse.append("Connection: close\n");
  rawResponse.append("Server: Jetty(7.0.y.z-SNAPSHOT)\n");
  rawResponse.append("\n");
  rawResponse.append("Host=Default\n");
  rawResponse.append("Resource=R2\n");
  rawResponse.append("\n");
  List<HttpResponseTester> responses=HttpResponseTester.parseMulti(rawResponse);
  assertNotNull("Responses should not be null",responses);
  assertEquals("Responses.size",3,responses.size());
  HttpResponseTester resp1=responses.get(0);
  resp1.assertStatusOK();
  resp1.assertContentType("text/plain");
  resp1.assertBody("ABCDEFGHIJKLMNOPQRSTTUVWXYZ\n");
  assertThat(resp1.getHeader("Connection"),is(not("close")));
  HttpResponseTester resp2=responses.get(1);
  resp2.assertStatusOK();
  resp2.assertContentType("text/plain");
  resp2.assertBody("Host=Default\nResource=R1\n");
  assertThat(resp2.getHeader("Connection"),is(not("close")));
  HttpResponseTester resp3=responses.get(2);
  resp3.assertStatusOK();
  resp3.assertContentType("text/plain");
  resp3.assertBody("Host=Default\nResource=R2\n");
  assertThat(resp3.getHeader("Connection"),is("close"));
}
