{
  super(websocket);
  ClientEndpoint anno=websocket.getAnnotation(ClientEndpoint.class);
  if (anno == null) {
    throw new InvalidWebSocketException("Unsupported WebSocket object, missing @" + ClientEndpoint.class + " annotation");
  }
  this.endpoint=anno;
  this.config=new DefaultClientEndpointConfig(anno.decoders(),anno.encoders());
  this.decoders=new Decoders(container.getDecoderMetadataFactory(),config);
}
