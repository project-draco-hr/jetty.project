{
  ExtensionConfig negotiated=new ExtensionConfig(config.getName());
  boolean nowrap=true;
  compressor=new Deflater(Deflater.BEST_COMPRESSION,nowrap);
  compressor.setStrategy(Deflater.DEFAULT_STRATEGY);
  decompressor=new Inflater(nowrap);
  for (  String key : config.getParameterKeys()) {
    key=key.trim();
    String value=config.getParameter(key,null);
switch (key) {
case "c2s_max_window_bits":
      negotiated.setParameter("s2c_max_window_bits",value);
    break;
case "c2s_no_context_takeover":
  negotiated.setParameter("s2c_no_context_takeover",value);
break;
case "s2c_max_window_bits":
negotiated.setParameter("c2s_max_window_bits",value);
break;
case "s2c_no_context_takeover":
negotiated.setParameter("c2s_no_context_takeover",value);
break;
}
}
super.setConfig(negotiated);
}
