{
  this.sslContextFactory=sslContextFactory;
  this.policy=WebSocketPolicy.newClientPolicy();
  this.bufferPool=new MappedByteBufferPool();
  this.extensionRegistry=new WebSocketExtensionFactory(policy,bufferPool);
  if (LOG.isDebugEnabled()) {
    LOG.debug("Using ZeroMasker (DEBUG)");
    this.masker=new ZeroMasker();
  }
 else {
    this.masker=new RandomMasker();
  }
  this.eventDriverFactory=new EventDriverFactory(policy);
  this.sessionFactory=new WebSocketSessionFactory();
}
