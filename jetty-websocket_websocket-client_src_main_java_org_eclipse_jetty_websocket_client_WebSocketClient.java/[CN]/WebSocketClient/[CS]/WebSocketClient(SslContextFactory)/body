{
  this.sslContextFactory=sslContextFactory;
  this.policy=WebSocketPolicy.newClientPolicy();
  this.extensionRegistry=new WebSocketExtensionFactory(policy,bufferPool);
  this.connectionManager=new ConnectionManager(bufferPool,executor,scheduler,sslContextFactory,policy);
  this.masker=new RandomMasker();
  this.eventDriverFactory=new EventDriverFactory(policy);
}
