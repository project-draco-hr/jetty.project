{
  this.executor=executor;
  this.sslContextFactory=sslContextFactory;
  this.policy=WebSocketPolicy.newClientPolicy();
  this.bufferPool=bufferPool;
  this.extensionRegistry=new WebSocketExtensionFactory(policy,bufferPool);
  this.extensionRegistry.unregister("deflate-frame");
  this.extensionRegistry.unregister("permessage-deflate");
  this.extensionRegistry.unregister("x-webkit-deflate-frame");
  this.masker=new RandomMasker();
  this.eventDriverFactory=new EventDriverFactory(policy);
  this.sessionFactory=new WebSocketSessionFactory(this);
  addBean(this.executor);
  addBean(this.sslContextFactory);
  addBean(this.bufferPool);
}
