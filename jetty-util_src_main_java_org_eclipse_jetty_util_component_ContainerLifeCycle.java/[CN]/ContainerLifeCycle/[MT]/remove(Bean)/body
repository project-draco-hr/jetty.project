{
  if (_beans.remove(bean)) {
    unmanage(bean);
    for (    Container.Listener l : _listeners)     l.beanRemoved(this,bean._bean);
    if (bean._bean instanceof Container.Listener) {
      Container.Listener listener=(Container.Listener)bean._bean;
      if (_listeners.remove(listener)) {
        for (        Bean b : _beans) {
          listener.beanRemoved(this,b._bean);
          if (listener instanceof InheritedListener && b.isManaged() && b._bean instanceof Container)           ((Container)b._bean).removeBean(listener);
        }
      }
    }
    if (bean._managed == Managed.MANAGED && bean._bean instanceof LifeCycle) {
      try {
        stop((LifeCycle)bean._bean);
      }
 catch (      RuntimeException|Error e) {
        throw e;
      }
catch (      Exception e) {
        throw new RuntimeException(e);
      }
    }
    return true;
  }
  return false;
}
