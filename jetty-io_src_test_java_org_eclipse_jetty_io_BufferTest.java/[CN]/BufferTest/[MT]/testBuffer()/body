{
  for (int i=0; i < buffer.length; i++) {
    String t="t" + i;
    Buffer b=buffer[i];
    assertEquals(t,0,b.length());
    assertEquals(t,10,b.capacity());
    assertEquals(t,10,b.space());
    b.put((byte)0);
    b.put((byte)1);
    b.put((byte)2);
    assertEquals(t,3,b.length());
    assertEquals(t,10,b.capacity());
    assertEquals(t,7,b.space());
    assertEquals(t,0,b.get());
    assertEquals(t,1,b.get());
    assertEquals(t,1,b.length());
    assertEquals(t,10,b.capacity());
    assertEquals(t,7,b.space());
    b.compact();
    assertEquals(t,9,b.space());
    byte[] ba={(byte)-1,(byte)3,(byte)4,(byte)5,(byte)6};
    b.put(ba,1,3);
    assertEquals(t,4,b.length());
    assertEquals(t,6,b.space());
    byte[] bg=new byte[4];
    b.get(bg,1,2);
    assertEquals(t,2,bg[1]);
    assertEquals(t,3,bg[2]);
    int count=b.get(bg,0,0);
    assertEquals(t,0,count);
    count=b.get(bg,0,2);
    assertEquals(t,2,count);
    count=b.get(bg,0,1);
    assertEquals(t,-1,count);
  }
}
