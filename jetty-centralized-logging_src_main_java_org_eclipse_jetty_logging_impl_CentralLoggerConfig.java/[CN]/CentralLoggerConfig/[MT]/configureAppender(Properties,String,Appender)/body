{
  appender.setId(id);
  Pattern appenderIdRegex=Pattern.compile("^appender\\." + id + "\\.([^\\.]*)$");
  Matcher match;
  @SuppressWarnings("unchecked") Enumeration<String> enNames=(Enumeration<String>)props.propertyNames();
  while (enNames.hasMoreElements()) {
    String name=enNames.nextElement();
    match=appenderIdRegex.matcher(name);
    if (match.matches()) {
      String fieldName=match.group(1);
      if (fieldName.equals("class")) {
        continue;
      }
      String value=props.getProperty(name);
      try {
        appender.setProperty(fieldName,value);
      }
 catch (      Exception e) {
        System.err.printf("Unable to set property %s on appender %s to %s%n",fieldName,appender.getClass().getName(),value);
        e.printStackTrace(System.err);
      }
    }
  }
}
