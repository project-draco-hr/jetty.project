{
  boolean needsQuoting=arg.indexOf(' ') >= 0 || arg.indexOf('"') >= 0;
  if (!needsQuoting) {
    return arg;
  }
  StringBuilder buf=new StringBuilder();
  boolean escaped=false;
  for (  char c : arg.toCharArray()) {
    if (!escaped && ((c == '"') || (c == ' '))) {
      buf.append("\\");
    }
    escaped=(c == '\\');
    buf.append(c);
  }
  return buf.toString();
}
