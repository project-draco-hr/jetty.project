{
  while (true) {
switch (_state.get()) {
case NEW:
      throw new IllegalStateException();
case DONE:
case CANCELLED:
    return false;
case DELAYED:
  if (_state.compareAndSet(State.DELAYED,State.CANCELLED)) {
    _node.cancel();
    return true;
  }
break;
case SCHEDULED:
if (_state.compareAndSet(State.SCHEDULED,State.CANCELLED)) {
_timerQ.remove(this);
return true;
}
break;
}
}
}
