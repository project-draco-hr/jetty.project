{
  if (delta < 0)   throw new IllegalArgumentException();
  int read=length() - available();
  int newConsumed=consumed() + delta;
  if (newConsumed > read)   throw new IllegalStateException("Consuming without reading: consumed " + newConsumed + " but only read "+ read);
  consumed.addAndGet(delta);
}
