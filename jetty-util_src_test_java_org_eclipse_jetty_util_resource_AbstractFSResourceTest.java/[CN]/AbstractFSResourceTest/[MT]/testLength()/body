{
  File file=testdir.getFile("foo");
  file.createNewFile();
  try (StringReader reader=new StringReader("foo");FileWriter writer=new FileWriter(file)){
    IO.copy(reader,writer);
  }
   long expected=file.length();
  try (Resource base=newResource(testdir.getDir())){
    Resource res=base.addPath("foo");
    assertThat("foo.length",res.length(),is(expected));
  }
 }
