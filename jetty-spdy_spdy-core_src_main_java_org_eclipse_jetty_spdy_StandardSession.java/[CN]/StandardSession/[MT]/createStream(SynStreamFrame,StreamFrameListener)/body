{
  IStream stream=newStream(synStream);
  stream.updateCloseState(synStream.isClose(),true);
  stream.setStreamFrameListener(listener);
  if (streams.putIfAbsent(synStream.getStreamId(),stream) != null) {
    throw new IllegalStateException();
  }
  logger.debug("Created {}",stream);
  notifyStreamCreated(stream);
  return stream;
}
