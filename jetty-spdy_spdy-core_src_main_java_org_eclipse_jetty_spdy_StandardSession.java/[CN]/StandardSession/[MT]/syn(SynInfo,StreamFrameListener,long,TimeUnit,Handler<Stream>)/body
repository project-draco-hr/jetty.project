{
synchronized (this) {
    if (synInfo.isUnidirectional()) {
      throw new UnsupportedOperationException();
    }
 else {
      int streamId=streamIds.getAndAdd(2);
      SynStreamFrame synStream=new SynStreamFrame(version,synInfo.getFlags(),streamId,0,synInfo.getPriority(),synInfo.getHeaders());
      IStream stream=createStream(synStream,listener);
      control(stream,synStream,timeout,unit,handler,stream);
    }
  }
}
