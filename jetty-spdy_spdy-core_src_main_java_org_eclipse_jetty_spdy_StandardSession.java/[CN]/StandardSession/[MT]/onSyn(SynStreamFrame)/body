{
  IStream stream=newStream(frame,null);
  stream.updateCloseState(frame.isClose(),false);
  logger.debug("Opening {}",stream);
  int streamId=stream.getId();
  IStream existing=streams.putIfAbsent(streamId,stream);
  if (existing != null) {
    RstInfo rstInfo=new RstInfo(streamId,StreamStatus.PROTOCOL_ERROR);
    logger.debug("Duplicate stream, {}",rstInfo);
    rst(rstInfo);
  }
 else {
    processSyn(listener,stream,frame);
  }
}
