{
  File homeDir=MavenTestingUtils.getTestResourceDir("usecases/" + homeName);
  File baseDir=MavenTestingUtils.getTestResourceDir("usecases/" + baseName);
  Main main=new Main();
  List<String> cmdLine=new ArrayList<>();
  cmdLine.add("jetty.home=" + homeDir.getAbsolutePath());
  cmdLine.add("jetty.base=" + baseDir.getAbsolutePath());
  for (  String arg : cmdLineArgs) {
    cmdLine.add(arg);
  }
  try {
    main.processCommandLine(cmdLine);
    fail("Expected " + UsageException.class.getName());
  }
 catch (  UsageException e) {
    assertThat("Usage error",e.getMessage(),containsString(expectedErrorMessage));
  }
}
