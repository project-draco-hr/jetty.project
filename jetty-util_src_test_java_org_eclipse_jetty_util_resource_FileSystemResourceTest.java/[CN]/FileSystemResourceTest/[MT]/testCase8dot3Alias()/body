{
  File dir=testdir.getDir();
  Path path=new File(dir,"TextFile.Long.txt").toPath();
  Files.createFile(path);
  try (Resource base=newResource(testdir.getDir())){
    Resource resource=base.addPath("TextFile.Long.txt");
    assertThat("!alias",resource.getAlias(),nullValue());
    assertThat(newResource(resource.getURI()).getAlias(),nullValue());
    assertThat(newResource(resource.getFile()).getAlias(),nullValue());
    Resource alias=base.addPath("TEXTFI~1.TXT");
    if (alias.exists()) {
      assertThat(alias.getAlias(),is(path.toUri()));
      assertThat(newResource(alias.getURI()).getAlias(),is(path.toUri()));
      assertThat(newResource(alias.getFile()).getAlias(),is(path.toUri()));
    }
  }
 }
