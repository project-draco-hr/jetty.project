{
  String className=node.getString("listener-class",false,true);
  EventListener listener=null;
  try {
    if (className != null && className.length() > 0) {
      EventListener[] listeners=context.getEventListeners();
      if (listeners != null) {
        for (        EventListener l : listeners) {
          if (l.getClass().getName().equals(className))           return;
        }
      }
      ((WebDescriptor)descriptor).addClassName(className);
      Class<?> listenerClass=context.loadClass(className);
      if (listenerClass == null) {
        throw new RuntimeException("Could not Load EventListener: " + className);
      }
      if (!(EventListener.class.isAssignableFrom(listenerClass))) {
        throw new RuntimeException("Not an EventListener: " + className);
      }
      listener=newListenerInstance(context,(Class<? extends EventListener>)listenerClass);
      if (listener == null) {
        throw new RuntimeException("Could not Load EventListener: " + className);
      }
      context.addEventListener(listener);
      context.getMetaData().setOrigin(className + ".listener",descriptor);
    }
  }
 catch (  Exception e) {
    throw new RuntimeException("Could not instantiate listener " + className,e);
  }
}
