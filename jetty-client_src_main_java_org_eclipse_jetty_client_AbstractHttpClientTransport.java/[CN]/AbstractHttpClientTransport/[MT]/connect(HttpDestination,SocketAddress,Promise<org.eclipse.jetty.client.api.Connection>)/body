{
  SocketChannel channel=null;
  try {
    channel=SocketChannel.open();
    HttpClient client=destination.getHttpClient();
    SocketAddress bindAddress=client.getBindAddress();
    if (bindAddress != null)     channel.bind(bindAddress);
    configure(client,channel);
    channel.configureBlocking(false);
    channel.connect(address);
    ConnectionCallback callback=new ConnectionCallback(destination,promise);
    selectorManager.connect(channel,callback);
  }
 catch (  Throwable x) {
    try {
      if (channel != null)       channel.close();
    }
 catch (    IOException xx) {
      LOG.ignore(xx);
    }
 finally {
      promise.failed(x);
    }
  }
}
