{
  AsyncChunk chunk;
synchronized (lock) {
    chunk=current;
    failure=x;
    lock.notify();
  }
  chunk.callback.failed(x);
}
