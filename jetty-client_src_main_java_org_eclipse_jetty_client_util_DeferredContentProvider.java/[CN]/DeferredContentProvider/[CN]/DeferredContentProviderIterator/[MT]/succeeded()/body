{
  AsyncChunk chunk;
synchronized (lock) {
    chunk=current;
    --size;
    lock.notify();
  }
  chunk.callback.succeeded();
}
