{
  boolean result;
synchronized (lock) {
    result=chunks.offer(chunk);
    if (result && chunk != CLOSE)     ++size;
  }
  if (result)   notifyListener();
  return result;
}
