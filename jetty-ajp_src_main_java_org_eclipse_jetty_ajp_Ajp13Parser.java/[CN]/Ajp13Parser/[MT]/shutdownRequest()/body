{
  _state=STATE_END;
  if (!Ajp13SocketConnector.__allowShutdown) {
    Log.warn("AJP13: Shutdown Request is Denied, allowShutdown is set to false!!!");
    return;
  }
  if (Ajp13SocketConnector.__secretWord != null) {
    Log.warn("AJP13: Validating Secret Word");
    try {
      String secretWord=Ajp13RequestPacket.getString(_buffer,_tok1).toString();
      if (!Ajp13SocketConnector.__secretWord.equals(secretWord)) {
        Log.warn("AJP13: Shutdown Request Denied, Invalid Sercret word!!!");
        throw new IllegalStateException("AJP13: Secret Word is Invalid: Peer has requested shutdown but, Secret Word did not match");
      }
    }
 catch (    Exception e) {
      Log.warn("AJP13: Secret Word is Required!!!");
      Log.debug(e);
      throw new IllegalStateException("AJP13: Secret Word is Required: Peer has requested shutdown but, has not provided a Secret Word");
    }
    Log.warn("AJP13: Shutdown Request is Denied, allowShutdown is set to false!!!");
    return;
  }
  Log.warn("AJP13: Peer Has Requested for Shutdown!!!");
  Log.warn("AJP13: Jetty 6 is shutting down !!!");
  System.exit(0);
}
