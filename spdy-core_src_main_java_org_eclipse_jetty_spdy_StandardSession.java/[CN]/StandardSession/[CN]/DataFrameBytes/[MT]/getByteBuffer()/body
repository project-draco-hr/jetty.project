{
  try {
    int windowSize=stream.getWindowSize();
    if (windowSize <= 0)     return null;
    length=dataInfo.length();
    if (length > windowSize)     length=windowSize;
    buffer=generator.data(stream.getId(),length,dataInfo);
    return buffer;
  }
 catch (  Throwable x) {
    fail(x);
    return null;
  }
}
