{
  stream.updateWindowSize(-dataLength);
  if (data.available() > 0) {
    enqueueFirst(this);
  }
 else {
    ScheduledFuture<?> task=this.task;
    if (task != null)     task.cancel(false);
    stream.updateCloseState(data.isClose());
    if (stream.isClosed())     removeStream(stream);
    handler.completed(context);
  }
}
