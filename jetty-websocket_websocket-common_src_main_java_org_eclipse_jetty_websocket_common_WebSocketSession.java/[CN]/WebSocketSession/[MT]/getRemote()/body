{
  if (connection.getIOState().isOutputAvailable()) {
    return remote;
  }
  throw new WebSocketException("RemoteEndpoint unavailable, outgoing connection not open");
}
