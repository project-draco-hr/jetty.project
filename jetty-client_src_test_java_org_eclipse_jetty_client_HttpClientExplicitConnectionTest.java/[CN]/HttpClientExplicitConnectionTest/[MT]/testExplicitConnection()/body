{
  start(new EmptyServerHandler());
  Destination destination=client.getDestination(scheme,"localhost",connector.getLocalPort());
  try (Connection connection=destination.newConnection().get(5,TimeUnit.SECONDS)){
    Request request=client.newRequest(destination.host(),destination.port()).scheme(scheme);
    BlockingResponseListener listener=new BlockingResponseListener();
    connection.send(request,listener);
    ContentResponse response=listener.get(5,TimeUnit.SECONDS);
    Assert.assertNotNull(response);
    Assert.assertEquals(200,response.status());
    HttpDestination httpDestination=(HttpDestination)destination;
    Assert.assertTrue(httpDestination.getActiveConnections().isEmpty());
    Assert.assertTrue(httpDestination.getIdleConnections().isEmpty());
  }
 }
