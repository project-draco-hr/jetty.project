{
  ControlFrame parsedControlFrame=listener.getControlFrame();
  assertThat("listener received controlFrame",parsedControlFrame,notNullValue());
  assertThat("ControlFrame type is HEADERS",ControlFrameType.HEADERS,is(parsedControlFrame.getType()));
  HeadersFrame headersFrame=(HeadersFrame)parsedControlFrame;
  assertThat("Version matches",SPDY.V2,is(headersFrame.getVersion()));
  assertThat("StreamId matches",streamId,is(headersFrame.getStreamId()));
  assertThat("flags match",flags,is(headersFrame.getFlags()));
  assertThat("headers match",headers,is(headersFrame.getHeaders()));
  return headersFrame;
}
